{"version":3,"sources":["webpack://PIXI.live2d/webpack/universalModuleDefinition","webpack://PIXI.live2d/webpack/bootstrap","webpack://PIXI.live2d/./src/utils/log.ts","webpack://PIXI.live2d/./src/utils/math.ts","webpack://PIXI.live2d/./src/utils/obj.ts","webpack://PIXI.live2d/./src/utils/string.ts","webpack://PIXI.live2d/./src/utils/index.ts","webpack://PIXI.live2d/./src/config.ts","webpack://PIXI.live2d/external {\"commonjs\":\"@pixi/math\",\"commonjs2\":\"@pixi/math\",\"amd\":\"@pixi/math\",\"root\":\"PIXI\"}","webpack://PIXI.live2d/external {\"commonjs\":\"@pixi/utils\",\"commonjs2\":\"@pixi/utils\",\"amd\":\"@pixi/utils\",\"root\":[\"PIXI\",\"utils\"]}","webpack://PIXI.live2d/./src/factory/Live2DLoader.ts","webpack://PIXI.live2d/./src/factory/texture.ts","webpack://PIXI.live2d/./src/factory/model-middlewares.ts","webpack://PIXI.live2d/./src/factory/Live2DFactory.ts","webpack://PIXI.live2d/./src/cubism-common/index.ts","webpack://PIXI.live2d/./src/cubism-common/SoundManager.ts","webpack://PIXI.live2d/./src/cubism-common/constants.ts","webpack://PIXI.live2d/./node_modules/lodash/_root.js","webpack://PIXI.live2d/./src/cubism-common/MotionState.ts","webpack://PIXI.live2d/./node_modules/lodash/_getNative.js","webpack://PIXI.live2d/./node_modules/lodash/isArray.js","webpack://PIXI.live2d/./src/cubism-common/ExpressionManager.ts","webpack://PIXI.live2d/./src/cubism-common/ModelSettings.ts","webpack://PIXI.live2d/./src/cubism-common/MotionManager.ts","webpack://PIXI.live2d/./src/cubism-common/InternalModel.ts","webpack://PIXI.live2d/./src/cubism-common/FocusController.ts","webpack://PIXI.live2d/./src/factory/XHRLoader.ts","webpack://PIXI.live2d/./src/utils/middleware.ts","webpack://PIXI.live2d/external {\"commonjs\":\"@pixi/core\",\"commonjs2\":\"@pixi/core\",\"amd\":\"@pixi/core\",\"root\":\"PIXI\"}","webpack://PIXI.live2d/./node_modules/lodash/_baseGetTag.js","webpack://PIXI.live2d/./node_modules/lodash/_Symbol.js","webpack://PIXI.live2d/./node_modules/lodash/isObjectLike.js","webpack://PIXI.live2d/external {\"commonjs\":\"@pixi/text\",\"commonjs2\":\"@pixi/text\",\"amd\":\"@pixi/text\",\"root\":\"PIXI\"}","webpack://PIXI.live2d/./node_modules/lodash/identity.js","webpack://PIXI.live2d/./node_modules/lodash/isObject.js","webpack://PIXI.live2d/./node_modules/lodash/_ListCache.js","webpack://PIXI.live2d/./node_modules/lodash/_assocIndexOf.js","webpack://PIXI.live2d/./node_modules/lodash/_nativeCreate.js","webpack://PIXI.live2d/./node_modules/lodash/_getMapData.js","webpack://PIXI.live2d/./node_modules/lodash/_toKey.js","webpack://PIXI.live2d/./src/InteractionMixin.ts","webpack://PIXI.live2d/./src/Live2DTransform.ts","webpack://PIXI.live2d/./src/Live2DModel.ts","webpack://PIXI.live2d/./src/factory/FileLoader.ts","webpack://PIXI.live2d/./src/factory/ZipLoader.ts","webpack://PIXI.live2d/./src/factory/index.ts","webpack://PIXI.live2d/./src/common.ts","webpack://PIXI.live2d/./src/tools/HitAreaFrames.ts","webpack://PIXI.live2d/./src/common-browser.ts","webpack://PIXI.live2d/./node_modules/lodash/pull.js","webpack://PIXI.live2d/external {\"commonjs\":\"@pixi/display\",\"commonjs2\":\"@pixi/display\",\"amd\":\"@pixi/display\",\"root\":\"PIXI\"}","webpack://PIXI.live2d/external {\"commonjs\":\"@pixi/graphics\",\"commonjs2\":\"@pixi/graphics\",\"amd\":\"@pixi/graphics\",\"root\":\"PIXI\"}","webpack://PIXI.live2d/./node_modules/lodash/_defineProperty.js","webpack://PIXI.live2d/./node_modules/lodash/isFunction.js","webpack://PIXI.live2d/./node_modules/lodash/_freeGlobal.js","webpack://PIXI.live2d/./node_modules/lodash/_toSource.js","webpack://PIXI.live2d/./node_modules/lodash/_arrayMap.js","webpack://PIXI.live2d/./node_modules/lodash/_baseUnary.js","webpack://PIXI.live2d/./node_modules/lodash/keys.js","webpack://PIXI.live2d/./node_modules/lodash/isLength.js","webpack://PIXI.live2d/./node_modules/lodash/_Map.js","webpack://PIXI.live2d/./node_modules/lodash/_MapCache.js","webpack://PIXI.live2d/./node_modules/lodash/_isKey.js","webpack://PIXI.live2d/./node_modules/lodash/isSymbol.js","webpack://PIXI.live2d/./node_modules/lodash/_baseRest.js","webpack://PIXI.live2d/./node_modules/lodash/_overRest.js","webpack://PIXI.live2d/./node_modules/lodash/_apply.js","webpack://PIXI.live2d/./node_modules/lodash/_setToString.js","webpack://PIXI.live2d/./node_modules/lodash/_baseSetToString.js","webpack://PIXI.live2d/./node_modules/lodash/constant.js","webpack://PIXI.live2d/./node_modules/lodash/_baseIsNative.js","webpack://PIXI.live2d/(webpack)/buildin/global.js","webpack://PIXI.live2d/./node_modules/lodash/_getRawTag.js","webpack://PIXI.live2d/./node_modules/lodash/_objectToString.js","webpack://PIXI.live2d/./node_modules/lodash/_isMasked.js","webpack://PIXI.live2d/./node_modules/lodash/_coreJsData.js","webpack://PIXI.live2d/./node_modules/lodash/_getValue.js","webpack://PIXI.live2d/./node_modules/lodash/_shortOut.js","webpack://PIXI.live2d/./node_modules/lodash/pullAll.js","webpack://PIXI.live2d/./node_modules/lodash/_basePullAll.js","webpack://PIXI.live2d/./node_modules/lodash/_baseIndexOf.js","webpack://PIXI.live2d/./node_modules/lodash/_baseFindIndex.js","webpack://PIXI.live2d/./node_modules/lodash/_baseIsNaN.js","webpack://PIXI.live2d/./node_modules/lodash/_strictIndexOf.js","webpack://PIXI.live2d/./node_modules/lodash/_baseIndexOfWith.js","webpack://PIXI.live2d/./node_modules/lodash/_copyArray.js","webpack://PIXI.live2d/./src/cubism2/patch-motion.ts","webpack://PIXI.live2d/./node_modules/lodash/isArguments.js","webpack://PIXI.live2d/./node_modules/lodash/isBuffer.js","webpack://PIXI.live2d/(webpack)/buildin/module.js","webpack://PIXI.live2d/./node_modules/lodash/_isIndex.js","webpack://PIXI.live2d/./node_modules/lodash/isTypedArray.js","webpack://PIXI.live2d/./node_modules/lodash/_Stack.js","webpack://PIXI.live2d/./node_modules/lodash/eq.js","webpack://PIXI.live2d/./node_modules/lodash/_baseIsEqual.js","webpack://PIXI.live2d/./node_modules/lodash/_equalArrays.js","webpack://PIXI.live2d/./node_modules/lodash/_isStrictComparable.js","webpack://PIXI.live2d/./node_modules/lodash/_matchesStrictComparable.js","webpack://PIXI.live2d/./node_modules/lodash/_baseGet.js","webpack://PIXI.live2d/./node_modules/lodash/_castPath.js","webpack://PIXI.live2d/./cubism/src/math/cubismvector2.ts","webpack://PIXI.live2d/./cubism/src/math/cubismmath.ts","webpack://PIXI.live2d/./cubism/src/math/cubismmatrix44.ts","webpack://PIXI.live2d/./cubism/src/rendering/cubismrenderer.ts","webpack://PIXI.live2d/./cubism/src/live2dcubismframework.ts","webpack://PIXI.live2d/./cubism/src/utils/cubismdebug.ts","webpack://PIXI.live2d/./cubism/src/motion/acubismmotion.ts","webpack://PIXI.live2d/./cubism/src/motion/cubismexpressionmotion.ts","webpack://PIXI.live2d/./cubism/src/motion/cubismmotionqueueentry.ts","webpack://PIXI.live2d/./cubism/src/motion/cubismmotionqueuemanager.ts","webpack://PIXI.live2d/./src/cubism4/Cubism4ExpressionManager.ts","webpack://PIXI.live2d/./cubism/src/settings/cubismmodelsettingsjson.ts","webpack://PIXI.live2d/./src/cubism4/Cubism4ModelSettings.ts","webpack://PIXI.live2d/./cubism/src/motion/cubismmotioninternal.ts","webpack://PIXI.live2d/./cubism/src/motion/cubismmotionjson.ts","webpack://PIXI.live2d/./cubism/src/motion/cubismmotion.ts","webpack://PIXI.live2d/./src/cubism4/Cubism4MotionManager.ts","webpack://PIXI.live2d/./cubism/src/cubismdefaultparameterid.ts","webpack://PIXI.live2d/./cubism/src/effect/cubismbreath.ts","webpack://PIXI.live2d/./cubism/src/effect/cubismeyeblink.ts","webpack://PIXI.live2d/./cubism/src/type/csmrectf.ts","webpack://PIXI.live2d/./cubism/src/config.ts","webpack://PIXI.live2d/./cubism/src/rendering/cubismrenderer_webgl.ts","webpack://PIXI.live2d/./src/cubism4/Cubism4InternalModel.ts","webpack://PIXI.live2d/./src/cubism4/setup.ts","webpack://PIXI.live2d/./cubism/src/effect/cubismpose.ts","webpack://PIXI.live2d/./cubism/src/model/cubismmodel.ts","webpack://PIXI.live2d/./cubism/src/model/cubismmoc.ts","webpack://PIXI.live2d/./cubism/src/physics/cubismphysicsinternal.ts","webpack://PIXI.live2d/./cubism/src/physics/cubismphysicsjson.ts","webpack://PIXI.live2d/./cubism/src/physics/cubismphysics.ts","webpack://PIXI.live2d/./src/cubism4/factory.ts","webpack://PIXI.live2d/./src/cubism4/index.ts","webpack://PIXI.live2d/./src/cubism2/Live2DExpression.ts","webpack://PIXI.live2d/./src/cubism2/Cubism2ExpressionManager.ts","webpack://PIXI.live2d/./src/cubism2/Cubism2MotionManager.ts","webpack://PIXI.live2d/./src/cubism2/Live2DEyeBlink.ts","webpack://PIXI.live2d/./src/cubism2/Cubism2InternalModel.ts","webpack://PIXI.live2d/./src/cubism2/Cubism2ModelSettings.ts","webpack://PIXI.live2d/./src/cubism2/Live2DPhysics.ts","webpack://PIXI.live2d/./src/cubism2/Live2DPose.ts","webpack://PIXI.live2d/./src/cubism2/factory.ts","webpack://PIXI.live2d/./src/cubism2/index.ts","webpack://PIXI.live2d/./node_modules/lodash/mapKeys.js","webpack://PIXI.live2d/./src/cubism2/check-runtime.ts","webpack://PIXI.live2d/./src/cubism4/check-runtime.ts","webpack://PIXI.live2d/./node_modules/lodash/_baseAssignValue.js","webpack://PIXI.live2d/./node_modules/lodash/_baseForOwn.js","webpack://PIXI.live2d/./node_modules/lodash/_baseFor.js","webpack://PIXI.live2d/./node_modules/lodash/_createBaseFor.js","webpack://PIXI.live2d/./node_modules/lodash/_arrayLikeKeys.js","webpack://PIXI.live2d/./node_modules/lodash/_baseTimes.js","webpack://PIXI.live2d/./node_modules/lodash/_baseIsArguments.js","webpack://PIXI.live2d/./node_modules/lodash/stubFalse.js","webpack://PIXI.live2d/./node_modules/lodash/_baseIsTypedArray.js","webpack://PIXI.live2d/./node_modules/lodash/_nodeUtil.js","webpack://PIXI.live2d/./node_modules/lodash/_baseKeys.js","webpack://PIXI.live2d/./node_modules/lodash/_isPrototype.js","webpack://PIXI.live2d/./node_modules/lodash/_nativeKeys.js","webpack://PIXI.live2d/./node_modules/lodash/_overArg.js","webpack://PIXI.live2d/./node_modules/lodash/isArrayLike.js","webpack://PIXI.live2d/./node_modules/lodash/_baseIteratee.js","webpack://PIXI.live2d/./node_modules/lodash/_baseMatches.js","webpack://PIXI.live2d/./node_modules/lodash/_baseIsMatch.js","webpack://PIXI.live2d/./node_modules/lodash/_listCacheClear.js","webpack://PIXI.live2d/./node_modules/lodash/_listCacheDelete.js","webpack://PIXI.live2d/./node_modules/lodash/_listCacheGet.js","webpack://PIXI.live2d/./node_modules/lodash/_listCacheHas.js","webpack://PIXI.live2d/./node_modules/lodash/_listCacheSet.js","webpack://PIXI.live2d/./node_modules/lodash/_stackClear.js","webpack://PIXI.live2d/./node_modules/lodash/_stackDelete.js","webpack://PIXI.live2d/./node_modules/lodash/_stackGet.js","webpack://PIXI.live2d/./node_modules/lodash/_stackHas.js","webpack://PIXI.live2d/./node_modules/lodash/_stackSet.js","webpack://PIXI.live2d/./node_modules/lodash/_mapCacheClear.js","webpack://PIXI.live2d/./node_modules/lodash/_Hash.js","webpack://PIXI.live2d/./node_modules/lodash/_hashClear.js","webpack://PIXI.live2d/./node_modules/lodash/_hashDelete.js","webpack://PIXI.live2d/./node_modules/lodash/_hashGet.js","webpack://PIXI.live2d/./node_modules/lodash/_hashHas.js","webpack://PIXI.live2d/./node_modules/lodash/_hashSet.js","webpack://PIXI.live2d/./node_modules/lodash/_mapCacheDelete.js","webpack://PIXI.live2d/./node_modules/lodash/_isKeyable.js","webpack://PIXI.live2d/./node_modules/lodash/_mapCacheGet.js","webpack://PIXI.live2d/./node_modules/lodash/_mapCacheHas.js","webpack://PIXI.live2d/./node_modules/lodash/_mapCacheSet.js","webpack://PIXI.live2d/./node_modules/lodash/_baseIsEqualDeep.js","webpack://PIXI.live2d/./node_modules/lodash/_SetCache.js","webpack://PIXI.live2d/./node_modules/lodash/_setCacheAdd.js","webpack://PIXI.live2d/./node_modules/lodash/_setCacheHas.js","webpack://PIXI.live2d/./node_modules/lodash/_arraySome.js","webpack://PIXI.live2d/./node_modules/lodash/_cacheHas.js","webpack://PIXI.live2d/./node_modules/lodash/_equalByTag.js","webpack://PIXI.live2d/./node_modules/lodash/_Uint8Array.js","webpack://PIXI.live2d/./node_modules/lodash/_mapToArray.js","webpack://PIXI.live2d/./node_modules/lodash/_setToArray.js","webpack://PIXI.live2d/./node_modules/lodash/_equalObjects.js","webpack://PIXI.live2d/./node_modules/lodash/_getAllKeys.js","webpack://PIXI.live2d/./node_modules/lodash/_baseGetAllKeys.js","webpack://PIXI.live2d/./node_modules/lodash/_arrayPush.js","webpack://PIXI.live2d/./node_modules/lodash/_getSymbols.js","webpack://PIXI.live2d/./node_modules/lodash/_arrayFilter.js","webpack://PIXI.live2d/./node_modules/lodash/stubArray.js","webpack://PIXI.live2d/./node_modules/lodash/_getTag.js","webpack://PIXI.live2d/./node_modules/lodash/_DataView.js","webpack://PIXI.live2d/./node_modules/lodash/_Promise.js","webpack://PIXI.live2d/./node_modules/lodash/_Set.js","webpack://PIXI.live2d/./node_modules/lodash/_WeakMap.js","webpack://PIXI.live2d/./node_modules/lodash/_getMatchData.js","webpack://PIXI.live2d/./node_modules/lodash/_baseMatchesProperty.js","webpack://PIXI.live2d/./node_modules/lodash/get.js","webpack://PIXI.live2d/./node_modules/lodash/_stringToPath.js","webpack://PIXI.live2d/./node_modules/lodash/_memoizeCapped.js","webpack://PIXI.live2d/./node_modules/lodash/memoize.js","webpack://PIXI.live2d/./node_modules/lodash/toString.js","webpack://PIXI.live2d/./node_modules/lodash/_baseToString.js","webpack://PIXI.live2d/./node_modules/lodash/hasIn.js","webpack://PIXI.live2d/./node_modules/lodash/_baseHasIn.js","webpack://PIXI.live2d/./node_modules/lodash/_hasPath.js","webpack://PIXI.live2d/./node_modules/lodash/property.js","webpack://PIXI.live2d/./node_modules/lodash/_baseProperty.js","webpack://PIXI.live2d/./node_modules/lodash/_basePropertyDeep.js","webpack://PIXI.live2d/./src/index.ts"],"names":[],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA,WAAW,mBAAO,CAAC,CAAS;;AAE5B;AACA;;AAEA;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA,iD;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA,qBAAqB,mBAAO,CAAC,GAAmB;AAChD,sBAAsB,mBAAO,CAAC,GAAoB;AAClD,mBAAmB,mBAAO,CAAC,GAAiB;AAC5C,mBAAmB,mBAAO,CAAC,GAAiB;AAC5C,mBAAmB,mBAAO,CAAC,GAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA,SAAS,mBAAO,CAAC,EAAM;;AAEvB;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA,gBAAgB,mBAAO,CAAC,EAAc;;AAEtC;AACA;;AAEA;;;;;;;ACLA,gBAAgB,mBAAO,CAAC,GAAc;;AAEtC;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EA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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,KAAK;AAChB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA,iD;;;;;;ACAA,iD;;;;;;ACAA,gBAAgB,mBAAO,CAAC,EAAc;;AAEtC;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;ACVA,iBAAiB,mBAAO,CAAC,EAAe;AACxC,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;;AAEA;;;;;;;;ACHA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA,oBAAoB,mBAAO,CAAC,EAAkB;AAC9C,eAAe,mBAAO,CAAC,EAAa;AACpC,kBAAkB,mBAAO,CAAC,GAAe;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,WAAW,mBAAO,CAAC,CAAS;;AAE5B;AACA;;AAEA;;;;;;;ACNA,oBAAoB,mBAAO,CAAC,GAAkB;AAC9C,qBAAqB,mBAAO,CAAC,GAAmB;AAChD,kBAAkB,mBAAO,CAAC,GAAgB;AAC1C,kBAAkB,mBAAO,CAAC,GAAgB;AAC1C,kBAAkB,mBAAO,CAAC,GAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA,cAAc,mBAAO,CAAC,EAAW;AACjC,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA,iBAAiB,mBAAO,CAAC,EAAe;AACxC,mBAAmB,mBAAO,CAAC,EAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA,eAAe,mBAAO,CAAC,EAAY;AACnC,eAAe,mBAAO,CAAC,EAAa;AACpC,kBAAkB,mBAAO,CAAC,EAAgB;;AAE1C;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;AChBA,YAAY,mBAAO,CAAC,EAAU;;AAE9B;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA,sBAAsB,mBAAO,CAAC,EAAoB;AAClD,eAAe,mBAAO,CAAC,EAAa;;AAEpC;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;;AAEA;;;;;;;ACbA,eAAe,mBAAO,CAAC,EAAY;AACnC,qBAAqB,mBAAO,CAAC,EAAmB;AAChD,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA,WAAW,SAAS,GAAG,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,EAAc;AACvC,eAAe,mBAAO,CAAC,EAAa;AACpC,eAAe,mBAAO,CAAC,EAAY;AACnC,eAAe,mBAAO,CAAC,EAAa;;AAEpC;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9CA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACnBA,aAAa,mBAAO,CAAC,EAAW;;AAEhC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA,iBAAiB,mBAAO,CAAC,EAAe;;AAExC;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA,WAAW,mBAAO,CAAC,CAAS;;AAE5B;AACA;;AAEA;;;;;;;ACLA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA,kBAAkB,mBAAO,CAAC,EAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA,eAAe,mBAAO,CAAC,EAAa;AACpC,kBAAkB,mBAAO,CAAC,EAAgB;AAC1C,sBAAsB,mBAAO,CAAC,EAAoB;AAClD,gBAAgB,mBAAO,CAAC,EAAc;AACtC,gBAAgB,mBAAO,CAAC,EAAc;;AAEtC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClDA,oBAAoB,mBAAO,CAAC,EAAkB;AAC9C,gBAAgB,mBAAO,CAAC,EAAc;AACtC,oBAAoB,mBAAO,CAAC,EAAkB;;AAE9C;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AAC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;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnFA,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA,eAAe,mBAAO,CAAC,EAAa;AACpC,YAAY,mBAAO,CAAC,EAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,EAAE;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA,cAAc,mBAAO,CAAC,EAAW;AACjC,YAAY,mBAAO,CAAC,EAAU;AAC9B,mBAAmB,mBAAO,CAAC,GAAiB;AAC5C,eAAe,mBAAO,CAAC,GAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;ACpBA;;;;;GAKG;AAEH;;;;GAIG;AACI,MAAM,aAAa;IAIxB;;OAEG;IACH,YAAmB,CAAU,EAAE,CAAU;QACvC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAChB,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAClB,CAAC;IAED;;;;;OAKG;IACI,GAAG,CAAC,OAAsB;QAC/B,MAAM,GAAG,GAAkB,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACvD,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;QAC3B,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;QAC3B,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;;;OAKG;IACI,SAAS,CAAC,OAAsB;QACrC,MAAM,GAAG,GAAkB,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACvD,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;QAC3B,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;QAC3B,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;;;OAKG;IACI,QAAQ,CAAC,OAAsB;QACpC,MAAM,GAAG,GAAkB,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACvD,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;QAC3B,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;QAC3B,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;;;OAKG;IACI,gBAAgB,CAAC,MAAc;QACpC,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;IAC1D,CAAC;IAED;;;;;OAKG;IACI,QAAQ,CAAC,OAAsB;QACpC,MAAM,GAAG,GAAkB,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACvD,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;QAC3B,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;QAC3B,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;;;OAKG;IACI,gBAAgB,CAAC,MAAc;QACpC,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;IAC1D,CAAC;IAED;;;;OAIG;IACI,SAAS;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IACtD,CAAC;IAED;;;;;OAKG;IACI,eAAe,CAAC,CAAgB;QACrC,OAAO,IAAI,CAAC,IAAI,CACd,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAClE,CAAC;IACJ,CAAC;IAED;;;;;OAKG;IACI,GAAG,CAAC,CAAgB;QACzB,OAAO,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrC,CAAC;IAED;;OAEG;IACI,SAAS;QACd,MAAM,MAAM,GAAW,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAExE,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;QACzB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;IAC3B,CAAC;IAED;;;;;;;;OAQG;IACI,OAAO,CAAC,GAAkB;QAC/B,OAAO,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;IAC5C,CAAC;IAED;;;;;;;;OAQG;IACI,UAAU,CAAC,GAAkB;QAClC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,CAAC;CACF;;;AClKD;;;;;GAKG;AAE6C;AAE9C;;GAEG;AACI,MAAM,qBAAU;IACrB;;;;;;;OAOG;IACH,MAAM,CAAC,KAAK,CAAC,KAAa,EAAE,GAAW,EAAE,GAAW;QAClD,IAAI,KAAK,GAAG,GAAG,EAAE;YACf,KAAK,GAAG,GAAG,CAAC;SACb;aAAM,IAAI,KAAK,GAAG,GAAG,EAAE;YACtB,KAAK,GAAG,GAAG,CAAC;SACb;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;OAKG;IACH,MAAM,CAAC,GAAG,CAAC,CAAS;QAClB,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC;IAED;;;;;OAKG;IACH,MAAM,CAAC,GAAG,CAAC,CAAS;QAClB,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC;IAED;;;;;OAKG;IACH,MAAM,CAAC,GAAG,CAAC,CAAS;QAClB,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC;IAED;;;;OAIG;IACH,MAAM,CAAC,IAAI,CAAC,CAAS;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC;IAED;;;;;;OAMG;IACH,MAAM,CAAC,aAAa,CAAC,KAAa;QAChC,IAAI,KAAK,GAAG,GAAG,EAAE;YACf,OAAO,GAAG,CAAC;SACZ;aAAM,IAAI,KAAK,GAAG,GAAG,EAAE;YACtB,OAAO,GAAG,CAAC;SACZ;QAED,OAAO,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;IAC/C,CAAC;IAED;;;;;;OAMG;IACH,MAAM,CAAC,GAAG,CAAC,IAAY,EAAE,KAAa;QACpC,OAAO,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IACrC,CAAC;IAED;;;;;;OAMG;IACH,MAAM,CAAC,GAAG,CAAC,IAAY,EAAE,KAAa;QACpC,OAAO,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;IACrC,CAAC;IAED;;;;;OAKG;IACH,MAAM,CAAC,eAAe,CAAC,OAAe;QACpC,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;IACrC,CAAC;IAED;;;;;OAKG;IACH,MAAM,CAAC,eAAe,CAAC,MAAc;QACnC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;IACpC,CAAC;IAED;;;;;;OAMG;IACH,MAAM,CAAC,iBAAiB,CAAC,IAAmB,EAAE,EAAiB;QAC7D,MAAM,EAAE,GAAW,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;QAC1C,MAAM,EAAE,GAAW,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QAE9C,IAAI,GAAG,GAAW,EAAE,GAAG,EAAE,CAAC;QAE1B,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE;YACrB,GAAG,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;SACtB;QAED,OAAO,GAAG,GAAG,IAAI,CAAC,EAAE,EAAE;YACpB,GAAG,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;SACtB;QAED,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;;;;OAMG;IACH,MAAM,CAAC,kBAAkB,CAAC,IAAmB,EAAE,EAAiB;QAC9D,MAAM,MAAM,GAAW,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACxD,IAAI,MAAM,GAAW,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QAElD,IAAI,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,EAAE;YACvB,MAAM,GAAG,CAAC,MAAM,CAAC;SAClB;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;IAED;;;;;OAKG;IAEH,MAAM,CAAC,iBAAiB,CAAC,UAAkB;QACzC,MAAM,GAAG,GAAkB,IAAI,aAAa,EAAE,CAAC;QAE/C,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC7B,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAE7B,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;OAEG;IACH,gBAAuB,CAAC;CACzB;;;AC/LH;;;;;GAKG;AAEH;;;;GAIG;AACI,MAAM,cAAc;IACzB;;OAEG;IACH;QACE,IAAI,CAAC,GAAG,GAAG,IAAI,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY;QAC7C,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED;;;;;;OAMG;IACI,MAAM,CAAC,QAAQ,CACpB,CAAe,EACf,CAAe,EACf,GAAiB;QAEjB,MAAM,CAAC,GAAiB,IAAI,YAAY,CAAC;YACvC,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;SACJ,CAAC,CAAC;QAEH,MAAM,CAAC,GAAG,CAAC,CAAC;QAEZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;YAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;gBAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE;oBAC1B,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;iBAC7C;aACF;SACF;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YAC3B,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;SACf;IACH,CAAC;IAED;;OAEG;IACI,YAAY;QACjB,MAAM,CAAC,GAAiB,IAAI,YAAY,CAAC;YACvC,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;SACJ,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC;IAED;;;;OAIG;IACI,SAAS,CAAC,EAAgB;QAC/B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;YAC3B,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;SACrB;IACH,CAAC;IAED;;;;OAIG;IACI,QAAQ;QACb,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED;;;OAGG;IACI,SAAS;QACd,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC;IAED;;;;OAIG;IACI,SAAS;QACd,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC;IAED;;;OAGG;IACI,aAAa;QAClB,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IACtB,CAAC;IAED;;;OAGG;IACI,aAAa;QAClB,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IACtB,CAAC;IAED;;;;;OAKG;IACI,UAAU,CAAC,GAAW;QAC3B,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1C,CAAC;IAED;;;;;OAKG;IACI,UAAU,CAAC,GAAW;QAC3B,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1C,CAAC;IAED;;OAEG;IACI,gBAAgB,CAAC,GAAW;QACjC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5C,CAAC;IAED;;OAEG;IACI,gBAAgB,CAAC,GAAW;QACjC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5C,CAAC;IAED;;;;;;;OAOG;IACI,iBAAiB,CAAC,CAAS,EAAE,CAAS;QAC3C,MAAM,GAAG,GAAiB,IAAI,YAAY,CAAC;YACzC,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,CAAC;YACD,CAAC;YACD,GAAG;YACH,GAAG;SACJ,CAAC,CAAC;QAEH,cAAc,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;IACnD,CAAC;IAED;;;;;;;OAOG;IACI,SAAS,CAAC,CAAS,EAAE,CAAS;QACnC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IACnB,CAAC;IAED;;;;OAIG;IACI,UAAU,CAAC,CAAS;QACzB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IACnB,CAAC;IAED;;;;OAIG;IACI,UAAU,CAAC,CAAS;QACzB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IACnB,CAAC;IAED;;;;;OAKG;IACI,aAAa,CAAC,CAAS,EAAE,CAAS;QACvC,MAAM,GAAG,GAAiB,IAAI,YAAY,CAAC;YACzC,CAAC;YACD,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,CAAC;YACD,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;SACJ,CAAC,CAAC;QAEH,cAAc,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;IACnD,CAAC;IAED;;;;;OAKG;IACI,KAAK,CAAC,CAAS,EAAE,CAAS;QAC/B,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAClB,CAAC;IAED;;;;OAIG;IACI,gBAAgB,CAAC,CAAiB;QACvC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5D,CAAC;IAED;;OAEG;IACI,KAAK;QACV,MAAM,WAAW,GAAmB,IAAI,cAAc,EAAE,CAAC;QAEzD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SAClC;QAED,OAAO,WAAW,CAAC;IACrB,CAAC;CAGF;;;ACjTD;;;;;GAKG;AAEqD;AAGxD;;;;GAIG;AACI,MAAe,6BAAc;IAqJlC;;OAEG;IACH;QACE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAE5C,WAAW;QACX,IAAI,CAAC,aAAa,GAAG,IAAI,cAAc,EAAE,CAAC;QAC1C,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;IACpC,CAAC;IAhKD;;;;OAIG;IACI,UAAU,CAAC,KAAkB;QAClC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAED;;OAEG;IACI,SAAS;QACd,IAAI,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI;YAAE,OAAO;QAEpC,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED;;;;OAIG;IACI,YAAY,CAAC,QAAwB;QAC1C,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;IACpD,CAAC;IAED;;;OAGG;IACI,YAAY;QACjB,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAED;;;;;;;OAOG;IACI,aAAa,CAClB,GAAW,EACX,KAAa,EACb,IAAY,EACZ,KAAa;QAEb,IAAI,GAAG,GAAG,GAAG,EAAE;YACb,GAAG,GAAG,GAAG,CAAC;SACX;aAAM,IAAI,GAAG,GAAG,GAAG,EAAE;YACpB,GAAG,GAAG,GAAG,CAAC;SACX;QAED,IAAI,KAAK,GAAG,GAAG,EAAE;YACf,KAAK,GAAG,GAAG,CAAC;SACb;aAAM,IAAI,KAAK,GAAG,GAAG,EAAE;YACtB,KAAK,GAAG,GAAG,CAAC;SACb;QAED,IAAI,IAAI,GAAG,GAAG,EAAE;YACd,IAAI,GAAG,GAAG,CAAC;SACZ;aAAM,IAAI,IAAI,GAAG,GAAG,EAAE;YACrB,IAAI,GAAG,GAAG,CAAC;SACZ;QAED,IAAI,KAAK,GAAG,GAAG,EAAE;YACf,KAAK,GAAG,GAAG,CAAC;SACb;aAAM,IAAI,KAAK,GAAG,GAAG,EAAE;YACtB,KAAK,GAAG,GAAG,CAAC;SACb;QAED,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,GAAG,CAAC;QACzB,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,KAAK,CAAC;IAC7B,CAAC;IAED;;;;;OAKG;IACI,aAAa;QAClB,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7C,CAAC;IAED;;;OAGG;IACI,uBAAuB,CAAC,MAAe;QAC5C,IAAI,CAAC,qBAAqB,GAAG,MAAM,CAAC;IACtC,CAAC;IAED;;;;OAIG;IACI,oBAAoB;QACzB,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACpC,CAAC;IAED;;;OAGG;IACI,YAAY,CAAC,OAAgB;QAClC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;IAC5B,CAAC;IAED;;;;OAIG;IACI,SAAS;QACd,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED;;;;OAIG;IACI,aAAa,CAAC,CAAS;QAC5B,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACvB,CAAC;IAED;;;OAGG;IACI,aAAa;QAClB,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAED;;;OAGG;IACI,QAAQ;QACb,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;CAyDF;AAED,IAAY,eAIX;AAJD,WAAY,eAAe;IACzB,yFAA0B;IAC1B,6FAA4B;IAC5B,yGAAkC,EAAC,KAAK;AAC1C,CAAC,EAJW,eAAe,KAAf,eAAe,QAI1B;AAED;;GAEG;AACI,MAAM,kBAAkB;IAC7B;;OAEG;IACH;QACE,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;QACb,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;QACb,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;QACb,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;IACf,CAAC;CAMF;;;ACrPD;;;;;GAKG;AAEyD;AACU;AAEtE,kBAAkB;AAElB,IAAI,WAAW,GAAG,KAAK,CAAC;AACxB,IAAI,eAAe,GAAG,KAAK,CAAC;AAC5B,IAAI,QAAQ,GAAoC,SAAS,CAAC;AAE1D;;GAEG;AACI,IAAU,QAAQ,CAGxB;AAHD,WAAiB,QAAQ;IACV,qBAAY,GAAG,CAAC,CAAC,CAAC,gBAAgB;IAClC,mBAAU,GAAG,CAAC,CAAC,CAAC,eAAe;AAC9C,CAAC,EAHgB,QAAQ,KAAR,QAAQ,QAGxB;AAED;;;GAGG;AACI,MAAM,qCAAe;IAC1B;;;;;;;;OAQG;IACI,MAAM,CAAC,OAAO,CAAC,MAA4B;QAChD,IAAI,WAAW,EAAE;YACf,aAAa,CAAC,4CAA4C,CAAC,CAAC;YAC5D,OAAO,WAAW,CAAC;SACpB;QAED,IAAK,gBAAwB,CAAC,UAAU,EAAE;YACxC,WAAW,GAAG,IAAI,CAAC;YACnB,OAAO,IAAI,CAAC;SACb;QAEA,gBAAwB,CAAC,UAAU,GAAG,IAAI,CAAC;QAE5C,QAAQ,GAAG,MAAM,CAAC;QAElB,IAAI,QAAQ,EAAE;YACZ,gBAAgB,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;SAClE;QAED,WAAW,GAAG,IAAI,CAAC;QAEnB,+BAA+B;QAC/B,IAAI,WAAW,EAAE;YACf,MAAM,OAAO,GAAW,gBAAgB,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;YACjE,MAAM,KAAK,GAAW,CAAC,OAAO,GAAG,UAAU,CAAC,IAAI,EAAE,CAAC;YACnD,MAAM,KAAK,GAAW,CAAC,OAAO,GAAG,UAAU,CAAC,IAAI,EAAE,CAAC;YACnD,MAAM,KAAK,GAAW,OAAO,GAAG,UAAU,CAAC;YAC3C,MAAM,aAAa,GAAW,OAAO,CAAC;YAEtC,aAAa,CACX,+CAA+C,EAC/C,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EACxB,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EACxB,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAC1B,aAAa,CACd,CAAC;SACH;QAED,aAAa,CAAC,wCAAwC,CAAC,CAAC;QAExD,OAAO,WAAW,CAAC;IACrB,CAAC;IAED;;;OAGG;IACI,MAAM,CAAC,OAAO;QACnB,WAAW,GAAG,KAAK,CAAC;QACpB,eAAe,GAAG,KAAK,CAAC;QACxB,QAAQ,GAAG,SAAS,CAAC;IACvB,CAAC;IAED;;;OAGG;IACI,MAAM,CAAC,UAAU;QACtB,IAAI,CAAC,WAAW,EAAE;YAChB,gBAAgB,CAAC,iCAAiC,CAAC,CAAC;YACpD,OAAO;SACR;QAED,qCAAqC;QACrC,yBAAyB;QACzB,2CAA2C;QAC3C,IAAI,eAAe,EAAE;YACnB,gBAAgB,CACd,4DAA4D,CAC7D,CAAC;YACF,OAAO;SACR;QAED,eAAe,GAAG,IAAI,CAAC;QAEvB,aAAa,CAAC,2CAA2C,CAAC,CAAC;IAC7D,CAAC;IAED;;;;OAIG;IACI,MAAM,CAAC,OAAO;QACnB,IAAI,CAAC,WAAW,EAAE;YAChB,gBAAgB,CAAC,iCAAiC,CAAC,CAAC;YACpD,OAAO;SACR;QAED,sCAAsC;QACtC,yCAAyC;QACzC,IAAI,CAAC,eAAe,EAAE;YACpB,qBAAqB;YACrB,gBAAgB,CAAC,qDAAqD,CAAC,CAAC;YACxE,OAAO;SACR;QAED,+BAA+B;QAC/B,6BAAc,CAAC,aAAa,EAAE,CAAC;QAE/B,eAAe,GAAG,KAAK,CAAC;QAExB,aAAa,CAAC,wCAAwC,CAAC,CAAC;IAC1D,CAAC;IAED;;;OAGG;IACI,MAAM,CAAC,SAAS;QACrB,OAAO,WAAW,CAAC;IACrB,CAAC;IAED;;;OAGG;IACI,MAAM,CAAC,aAAa;QACzB,OAAO,eAAe,CAAC;IACzB,CAAC;IAED;;;;OAIG;IACI,MAAM,CAAC,eAAe,CAAC,OAAe;QAC3C,kCAAkC;QAClC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,iBAAiB,EAAE,EAAE;YACjD,OAAO;SACR;QAED,gBAAgB,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,OAAO,CAAC,CAAC;IACxD,CAAC;IAED;;;;OAIG;IACI,MAAM,CAAC,eAAe;QAC3B,IAAI,QAAQ,IAAI,IAAI,EAAE;YACpB,OAAO,QAAQ,CAAC,YAAY,CAAC;SAC9B;QACD,OAAO,QAAQ,CAAC,YAAY,CAAC;IAC/B,CAAC;IAED;;;OAGG;IACH,gBAAuB,CAAC;CACzB;AAOD;;GAEG;AACH,IAAY,QAOX;AAPD,WAAY,QAAQ;IAClB,+DAAoB;IACpB,2DAAc;IACd,yDAAa;IACb,+DAAgB;IAChB,2DAAc;IACd,uDAAY,EAAC,SAAS;AACxB,CAAC,EAPW,QAAQ,KAAR,QAAQ,QAOnB;;;AC/MD;;;;;GAKG;AAEkE;AAE9D,MAAM,UAAU,GAAG,KAAqC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC,CAAC,SAAmC,CAAC;AAE1G,SAAS,gBAAgB,CAAC,GAAW,EAAE,GAAG,IAAW;IAC1D,uBAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,gBAAgB,EAAE,UAAU,GAAG,GAAG,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC;AAC9E,CAAC;AAEM,SAAS,cAAc,CAAC,GAAW,EAAE,GAAG,IAAW;IACxD,uBAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,EAAE,UAAU,GAAG,GAAG,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC;AAC5E,CAAC;AAEM,SAAS,aAAa,CAAC,GAAW,EAAE,GAAG,IAAW;IACvD,uBAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,EAAE,UAAU,GAAG,GAAG,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC;AAC3E,CAAC;AAEM,SAAS,gBAAgB,CAAC,GAAW,EAAE,GAAG,IAAW;IAC1D,uBAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,gBAAgB,EAAE,UAAU,GAAG,GAAG,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC;AAC9E,CAAC;AAEM,SAAS,cAAc,CAAC,GAAW,EAAE,GAAG,IAAW;IACxD,uBAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,cAAc,EAAE,UAAU,GAAG,GAAG,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC;AAC5E,CAAC;AAED;;;GAGG;AACI,MAAM,uBAAW;IACtB;;;;;;;OAOG;IACI,MAAM,CAAC,KAAK,CACjB,QAAkB,EAClB,MAAc,EACd,IAAY;QAEZ,mCAAmC;QACnC,IAAI,QAAQ,GAAG,qCAAe,CAAC,eAAe,EAAE,EAAE;YAChD,OAAO;SACR;QAED,MAAM,QAAQ,GAAoC,qCAAe,CAAC,eAAe,CAAC;QAElF,IAAI,CAAC,QAAQ;YAAE,OAAO;QAEtB,MAAM,MAAM,GAAW,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACzD,OAAO,IAAK,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC;QACH,QAAQ,CAAC,MAAM,CAAC,CAAC;IACnB,CAAC;IAED;;;;;;;OAOG;IACI,MAAM,CAAC,SAAS,CACrB,QAAkB,EAClB,IAAgB,EAChB,MAAc;QAEd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;YAC/B,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;gBAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBAChD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;gBAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YACzD,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;SAChD;QAED,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED;;OAEG;IACH,gBAAuB,CAAC;CACzB;;;AC1FD;;;;;GAKG;AAE6C;AAEE;AAGlD;;;;GAIG;AACI,MAAe,2BAAa;IACjC;;OAEG;IACH;QACE,IAAI,CAAC,cAAc,GAAG,CAAC,GAAG,CAAC;QAC3B,IAAI,CAAC,eAAe,GAAG,CAAC,GAAG,CAAC;QAC5B,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACnB,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,CAAC,UAAU;QACrC,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;IAC9B,CAAC;IAED;;OAEG;IACI,OAAO;QACZ,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;IACrB,CAAC;IAED;;;;;OAKG;IACI,gBAAgB,CACrB,KAAkB,EAClB,gBAAwC,EACxC,eAAuB;QAEvB,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,gBAAgB,CAAC,UAAU,EAAE,EAAE;YACpE,OAAO;SACR;QAED,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,EAAE;YACjC,gBAAgB,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YACpC,gBAAgB,CAAC,YAAY,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,gBAAgB;YACtF,gBAAgB,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC,CAAC,cAAc;YAEpE,MAAM,QAAQ,GAAW,IAAI,CAAC,WAAW,EAAE,CAAC;YAE5C,IAAI,gBAAgB,CAAC,UAAU,EAAE,GAAG,CAAC,EAAE;gBACrC,2BAA2B;gBAC3B,gBAAgB,CAAC,UAAU,CACzB,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,YAAY,EAAE,GAAG,QAAQ,CAChE,CAAC;gBACF,2BAA2B;aAC5B;SACF;QAED,IAAI,UAAU,GAAW,IAAI,CAAC,OAAO,CAAC,CAAC,gBAAgB;QAEvD,yBAAyB;QACzB,mBAAmB;QACnB,MAAM,MAAM,GACV,IAAI,CAAC,cAAc,IAAI,GAAG;YACxB,CAAC,CAAC,GAAG;YACL,CAAC,CAAC,qBAAU,CAAC,aAAa,CAC1B,CAAC,eAAe,GAAG,gBAAgB,CAAC,kBAAkB,EAAE,CAAC;gBACzD,IAAI,CAAC,cAAc,CAClB,CAAC;QAEN,MAAM,OAAO,GACX,IAAI,CAAC,eAAe,IAAI,GAAG,IAAI,gBAAgB,CAAC,UAAU,EAAE,GAAG,GAAG;YAChE,CAAC,CAAC,GAAG;YACL,CAAC,CAAC,qBAAU,CAAC,aAAa,CAC1B,CAAC,gBAAgB,CAAC,UAAU,EAAE,GAAG,eAAe,CAAC;gBACjD,IAAI,CAAC,eAAe,CACnB,CAAC;QAEN,UAAU,GAAG,UAAU,GAAG,MAAM,GAAG,OAAO,CAAC;QAE3C,gBAAgB,CAAC,QAAQ,CAAC,eAAe,EAAE,UAAU,CAAC,CAAC;QAEvD,UAAU,CAAC,GAAG,IAAI,UAAU,IAAI,UAAU,IAAI,GAAG,CAAC,CAAC;QAEnD,4BAA4B;QAC5B,IAAI,CAAC,kBAAkB,CACrB,KAAK,EACL,eAAe,EACf,UAAU,EACV,gBAAgB,CACjB,CAAC;QAEF,MAAM;QACN,+CAA+C;QAC/C,IACE,gBAAgB,CAAC,UAAU,EAAE,GAAG,CAAC;YACjC,gBAAgB,CAAC,UAAU,EAAE,GAAG,eAAe,EAC/C;YACA,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;SAC5C;IACH,CAAC;IAED;;;OAGG;IACI,aAAa,CAAC,aAAqB;QACxC,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;IACtC,CAAC;IAED;;;OAGG;IACI,cAAc,CAAC,cAAsB;QAC1C,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;IACxC,CAAC;IAED;;;OAGG;IACI,cAAc;QACnB,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED;;;OAGG;IACI,aAAa;QAClB,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B,CAAC;IAED;;;OAGG;IACI,SAAS,CAAC,MAAc;QAC7B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;IACxB,CAAC;IAED;;;OAGG;IACI,SAAS;QACd,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED;;;;;;;;OAQG;IACI,WAAW;QAChB,OAAO,CAAC,GAAG,CAAC;IACd,CAAC;IAED;;;;;;OAMG;IACI,eAAe;QACpB,OAAO,CAAC,GAAG,CAAC;IACd,CAAC;IAED;;;OAGG;IACI,aAAa,CAAC,aAAqB;QACxC,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;IACtC,CAAC;IAED;;;;;;;;OAQG;IACI,aAAa,CAClB,sBAA8B,EAC9B,iBAAyB;QAEzB,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAChC,CAAC;IAkBD;;;;;;;;;;OAUG;IACI,wBAAwB,CAC7B,uBAAuD;QAEvD,IAAI,CAAC,iBAAiB,GAAG,uBAAuB,CAAC;IACnD,CAAC;IAAA,CAAC;IAEF;;;;;;OAMG;IACI,wBAAwB;QAC7B,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAChC,CAAC;IAAA,CAAC;CAWH;;;ACpQD;;;;;GAKG;AAG6C;AAGhD,qBAAqB;AACrB,MAAM,eAAe,GAAG,GAAG,CAAC;AAE5B;;;;GAIG;AACI,MAAM,6CAAuB,SAAQ,2BAAa;IAyGvD;;OAEG;IACH;QACE,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACxB,CAAC;IA/GD;;;;;OAKG;IACI,MAAM,CAAC,MAAM,CAAC,IAA+B;QAClD,MAAM,UAAU,GAA2B,IAAI,6CAAsB,EAAE,CAAC;QAExE,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACnC,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QAErC,UAAU,CAAC,aAAa,CAAC,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,SAAS;QAC5F,UAAU,CAAC,cAAc,CAAC,WAAW,KAAK,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,UAAU;QAEhG,aAAa;QACb,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC;QAEzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAC1C,MAAM,KAAK,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAC5B,MAAM,WAAW,GAAW,KAAK,CAAC,EAAE,CAAC,CAAC,UAAU;YAEhD,MAAM,KAAK,GAAW,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI;YAEvC,UAAU;YACV,IAAI,SAA8B,CAAC;YAEnC,QAAQ,KAAK,CAAC,KAAK,EAAE;gBACnB,KAAK,UAAU;oBACb,SAAS,GAAG,mBAAmB,CAAC,4BAA4B,CAAC;oBAC7D,MAAM;gBAER,KAAK,WAAW;oBACd,SAAS,GAAG,mBAAmB,CAAC,6BAA6B,CAAC;oBAC9D,MAAM;gBAER,KAAK,KAAK,CAAC;gBACX,iCAAiC;gBACjC;oBACE,SAAS,GAAG,mBAAmB,CAAC,uBAAuB,CAAC;oBACxD,MAAM;aACT;YAED,wBAAwB;YACxB,MAAM,IAAI,GAAwB;gBAChC,WAAW,EAAE,WAAW;gBACxB,SAAS,EAAE,SAAS;gBACpB,KAAK,EAAE,KAAK;aACb,CAAC;YAEF,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnC;QAED,OAAO,UAAU,CAAC;IACpB,CAAC;IAED;;;;;;OAMG;IACI,kBAAkB,CACvB,KAAkB,EAClB,eAAuB,EACvB,MAAc,EACd,gBAAwC;QAExC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAChD,MAAM,SAAS,GAAwB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAE3D,QAAQ,SAAS,CAAC,SAAS,EAAE;gBAC3B,KAAK,mBAAmB,CAAC,uBAAuB,CAAC,CAAC;oBAChD,KAAK,CAAC,qBAAqB,CACzB,SAAS,CAAC,WAAW,EACrB,SAAS,CAAC,KAAK,EACf,MAAM,CACP,CAAC;oBACF,MAAM;iBACP;gBACD,KAAK,mBAAmB,CAAC,4BAA4B,CAAC,CAAC;oBACrD,KAAK,CAAC,0BAA0B,CAC9B,SAAS,CAAC,WAAW,EACrB,SAAS,CAAC,KAAK,EACf,MAAM,CACP,CAAC;oBACF,MAAM;iBACP;gBACD,KAAK,mBAAmB,CAAC,6BAA6B,CAAC,CAAC;oBACtD,KAAK,CAAC,qBAAqB,CACzB,SAAS,CAAC,WAAW,EACrB,SAAS,CAAC,KAAK,EACf,MAAM,CACP,CAAC;oBACF,MAAM;iBACP;gBACD;oBACE,8BAA8B;oBAC9B,MAAM;aACT;SACF;IACH,CAAC;CAYF;AAED;;GAEG;AACH,IAAY,mBAIX;AAJD,WAAY,mBAAmB;IAC7B,mGAA2B;IAC3B,6GAAgC;IAChC,+GAAiC,EAAC,MAAM;AAC1C,CAAC,EAJW,mBAAmB,KAAnB,mBAAmB,QAI9B;;;AC/ID;;;;;GAKG;AAKH;;GAEG;AACI,MAAM,sBAAsB;IACjC;;OAEG;IACH;QACE,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,iBAAiB,GAAG,CAAC,GAAG,CAAC;QAC9B,IAAI,CAAC,uBAAuB,GAAG,GAAG,CAAC;QACnC,IAAI,CAAC,eAAe,GAAG,CAAC,GAAG,CAAC;QAC5B,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC;QAC7B,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;QACxB,IAAI,CAAC,sBAAsB,GAAG,GAAG,CAAC;QAClC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;QAC3B,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;IACnC,CAAC;IAED;;OAEG;IACI,OAAO;QACZ,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO,EAAE;YACpC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;SACxB;IACH,CAAC;IAED;;;OAGG;IACI,UAAU,CAAC,cAAsB;QACtC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;QACtC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;IAClC,CAAC;IAED;;;;OAIG;IACI,YAAY,CAAC,cAAsB,EAAE,eAAuB;QACjE,MAAM,iBAAiB,GAAW,eAAe,GAAG,cAAc,CAAC;QACnE,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAEhC,IACE,IAAI,CAAC,eAAe,GAAG,GAAG;YAC1B,iBAAiB,GAAG,IAAI,CAAC,eAAe,EACxC;YACA,IAAI,CAAC,eAAe,GAAG,iBAAiB,CAAC;SAC1C;IACH,CAAC;IAED;;;;;OAKG;IACI,UAAU;QACf,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED;;;;OAIG;IACI,SAAS;QACd,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED;;;OAGG;IACI,YAAY;QACjB,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAChC,CAAC;IAED;;;OAGG;IACI,kBAAkB;QACvB,OAAO,IAAI,CAAC,uBAAuB,CAAC;IACtC,CAAC;IAED;;;OAGG;IACI,UAAU;QACf,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED;;;OAGG;IACI,YAAY,CAAC,SAAiB;QACnC,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;IACrC,CAAC;IAED;;;OAGG;IACI,kBAAkB,CAAC,SAAiB;QACzC,IAAI,CAAC,uBAAuB,GAAG,SAAS,CAAC;IAC3C,CAAC;IAED;;;OAGG;IACI,UAAU,CAAC,OAAe;QAC/B,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;IACjC,CAAC;IAED;;;OAGG;IACI,aAAa,CAAC,CAAU;QAC7B,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;IACrB,CAAC;IAED;;;OAGG;IACI,YAAY,CAAC,CAAU;QAC5B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;IACpB,CAAC;IAED;;;;OAIG;IACI,WAAW;QAChB,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED;;;OAGG;IACI,cAAc,CAAC,CAAU;QAC9B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IACtB,CAAC;IAED;;;;OAIG;IACI,QAAQ,CAAC,WAAmB,EAAE,MAAc;QACjD,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;IAC7B,CAAC;IAED;;;OAGG;IACI,YAAY;QACjB,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAChC,CAAC;IAED;;;OAGG;IACI,cAAc;QACnB,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED;;;;OAIG;IACI,wBAAwB;QAC7B,OAAO,IAAI,CAAC,sBAAsB,CAAC;IACrC,CAAC;IAED;;;OAGG;IACI,wBAAwB,CAAC,YAAoB;QAClD,IAAI,CAAC,sBAAsB,GAAG,YAAY,CAAC;IAC7C,CAAC;IAED;;;OAGG;IACI,kBAAkB;QACvB,OAAO,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;IAChE,CAAC;IAED;;;OAGG;IACI,iBAAiB;QACtB,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;CAkBF;;;ACnPD;;;;;GAKG;AAI+D;AAElE;;;;;;;;GAQG;AACI,MAAM,iDAAwB;IACnC;;OAEG;IACH;QACE,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACrB,CAAC;IAED;;OAEG;IACI,OAAO;QACZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAC7C,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;gBACpB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;aAC5B;SACF;QAEA,IAAsB,CAAC,QAAQ,GAAG,SAAS,CAAC;IAC/C,CAAC;IAED;;;;;;;;;OASG;IACI,WAAW,CAChB,MAAqB,EACrB,UAAmB,EACnB,eAAuB;QAEvB,IAAI,MAAM,IAAI,IAAI,EAAE;YAClB,OAAO,kCAAkC,CAAC;SAC3C;QAED,IAAI,gBAAwC,CAAC;QAE7C,uBAAuB;QACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAC7C,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACpC,IAAI,gBAAgB,IAAI,IAAI,EAAE;gBAC5B,SAAS;aACV;YAED,gBAAgB,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,YAAY;SACrF;QAED,gBAAgB,GAAG,IAAI,sBAAsB,EAAE,CAAC,CAAC,WAAW;QAC5D,gBAAgB,CAAC,WAAW,GAAG,UAAU,CAAC;QAC1C,gBAAgB,CAAC,OAAO,GAAG,MAAM,CAAC;QAElC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAErC,OAAO,gBAAgB,CAAC,uBAAuB,CAAC;IAClD,CAAC;IAED;;;;OAIG;IACI,UAAU;QACf,wBAAwB;QACxB,uBAAuB;QAEvB,IAAI,CAAC,GAAG,CAAC,CAAC;QAEV,OAAO,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC/B,MAAM,gBAAgB,GAA2B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAElE,IAAI,gBAAgB,IAAI,IAAI,EAAE;gBAC5B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK;gBACjC,SAAS;aACV;YAED,MAAM,MAAM,GAAkB,gBAAgB,CAAC,OAAO,CAAC;YAEvD,IAAI,MAAM,IAAI,IAAI,EAAE;gBAClB,gBAAgB,CAAC,OAAO,EAAE,CAAC;gBAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK;gBACjC,SAAS;aACV;YAED,+BAA+B;YAC/B,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,EAAE;gBAClC,OAAO,KAAK,CAAC;aACd;YAED,CAAC,EAAE,CAAC;SACL;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;OAKG;IACI,kBAAkB,CACvB,sBAAoD;QAEpD,uBAAuB;QACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC7C,MAAM,gBAAgB,GAA2B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAElE,IAAI,gBAAgB,IAAI,IAAI,EAAE;gBAC5B,SAAS;aACV;YAED,IACE,gBAAgB,CAAC,uBAAuB,IAAI,sBAAsB;gBAClE,CAAC,gBAAgB,CAAC,UAAU,EAAE,EAC9B;gBACA,OAAO,KAAK,CAAC;aACd;SACF;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;OAEG;IACI,cAAc;QACnB,wBAAwB;QACxB,uBAAuB;QAEvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC7C,MAAM,gBAAgB,GAA2B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAElE,IAAI,gBAAgB,IAAI,IAAI,EAAE;gBAC5B,+BAA+B;gBAC/B,gBAAgB,CAAC,OAAO,EAAE,CAAC;aAC5B;SACF;QAED,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACrB,CAAC;IAED;;;;;;OAMG;IACI,yBAAyB,CAC9B,sBAA2B;QAE3B,uBAAuB;QACvB,uBAAuB;QACvB,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,IAAI,IAAI,IAAI,KAAK,CAAC,uBAAuB,IAAI,sBAAsB,CAAC,CAAC;IAC/G,CAAC;IAED;;;;;OAKG;IACI,gBAAgB,CACrB,QAAmC,EACnC,aAAkB,IAAI;QAEtB,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;QAC/B,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC;IACrC,CAAC;IAED;;;;;;;OAOG;IACI,cAAc,CACnB,KAAkB,EAClB,eAAuB;QAEvB,IAAI,OAAO,GAAG,KAAK,CAAC;QAEpB,yBAAyB;QACzB,uBAAuB;QAEvB,IAAI,CAAC,GAAG,CAAC,CAAC;QAEV,OAAO,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC/B,MAAM,gBAAgB,GAA2B,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAElE,IAAI,gBAAgB,IAAI,IAAI,EAAE;gBAC5B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK;gBACjC,SAAS;aACV;YAED,MAAM,MAAM,GAAkB,gBAAgB,CAAC,OAAO,CAAC;YAEvD,IAAI,MAAM,IAAI,IAAI,EAAE;gBAClB,gBAAgB,CAAC,OAAO,EAAE,CAAC;gBAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK;gBACjC,SAAS;aACV;YAED,uBAAuB;YACvB,MAAM,CAAC,gBAAgB,CAAC,KAAK,EAAE,gBAAgB,EAAE,eAAe,CAAC,CAAC;YAClE,OAAO,GAAG,IAAI,CAAC;YAEf,+BAA+B;YAC/B,MAAM,SAAS,GAAa,MAAM,CAAC,aAAa,CAC9C,gBAAgB,CAAC,wBAAwB,EAAE;gBAC3C,gBAAgB,CAAC,YAAY,EAAE,EAC/B,eAAe,GAAG,gBAAgB,CAAC,YAAY,EAAE,CAClD,CAAC;YAEF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBACzC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAChE;YAED,gBAAgB,CAAC,wBAAwB,CAAC,eAAe,CAAC,CAAC;YAE3D,gCAAgC;YAChC,IAAI,gBAAgB,CAAC,UAAU,EAAE,EAAE;gBACjC,gBAAgB,CAAC,OAAO,EAAE,CAAC;gBAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK;aAClC;iBAAM;gBACL,IAAI,gBAAgB,CAAC,kBAAkB,EAAE,EAAE;oBACzC,gBAAgB,CAAC,YAAY,CAC3B,gBAAgB,CAAC,iBAAiB,EAAE,EACpC,eAAe,CAChB,CAAC;iBACH;gBACD,CAAC,EAAE,CAAC;aACL;SACF;QAED,OAAO,OAAO,CAAC;IACjB,CAAC;CAOF;AAwBM,MAAM,kCAAkC,GAAiC,CAAC,CAAC,CAAC;;;ACvSb;AAGS;AACI;AAE5E,MAAM,iDAAyB,SAAQ,8CAAgE;IAK1G,YAAY,QAA8B,EAAE,OAA8B;;QACtE,KAAK,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QALpB,iBAAY,GAAG,IAAI,iDAAwB,EAAE,CAAC;QAOnD,IAAI,CAAC,WAAW,SAAG,QAAQ,CAAC,WAAW,mCAAI,EAAE,CAAC;QAE9C,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,UAAU;QACN,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;IAC1C,CAAC;IAED,kBAAkB,CAAC,IAAY;QAC3B,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;IAChE,CAAC;IAED,iBAAiB,CAAC,UAAiC;QAC/C,OAAO,UAAU,CAAC,IAAI,CAAC;IAC3B,CAAC;IAED,gBAAgB,CAAC,IAAY,EAAE,UAA6C;QACxE,OAAO,6CAAsB,CAAC,MAAM,CAAC,IAA4C,CAAC,CAAC;IACvF,CAAC;IAES,cAAc,CAAC,MAA8B;QACnD,OAAO,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,GAAG,EAAE,CAAC,CAAC;IAC3E,CAAC;IAES,kBAAkB;QACxB,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;IACvC,CAAC;IAES,gBAAgB,CAAC,KAAkB,EAAE,GAAwB;QACnE,OAAO,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IACxD,CAAC;CACJ;;;;;;;;;AC/CD;;;;;GAKG;AAEH;;;;GAIG;AACI,MAAM,uBAAuB;IAClC,YAAmB,IAA0B;QAC3C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAE1B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;QACnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC;QACnD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC;QAC3C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;QAC7C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC;QAC3C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;IACvC,CAAC;IAEM,qBAAqB;;QAC1B,mBAAO,IAAI,CAAC,MAAM,0CAAE,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,UAAU,2CAAG,GAAG,CAAC;IACpE,CAAC;IAEM,oBAAoB;;QACzB,mBAAO,IAAI,CAAC,MAAM,0CAAE,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,KAAK,SAAS,2CAAG,GAAG,CAAC;IACnE,CAAC;CAWF;;;AC3C6D;AACxB;AAC6C;AAI5E,MAAM,yCAAqB,SAAQ,sCAAa;IAenD,YAAY,IAA4C;QACpD,KAAK,CAAC,IAAI,CAAC,CAAC;QAEZ,IAAI,CAAC,yCAAoB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YACzC,MAAM,IAAI,SAAS,CAAC,eAAe,CAAC,CAAC;SACxC;QAED,oFAAoF;QACpF,8EAA8E;QAC9E,EAAE;QACF,4CAA4C;QAE5C,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,uBAAuB,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3D,CAAC;IAtBD,MAAM,CAAC,WAAW,CAAC,IAAS;;QACxB,OAAO,CAAC,EAAC,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,cAAc;eACtB,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,KAAK,QAAQ;eAC3C,WAAI,CAAC,cAAc,CAAC,QAAQ,0CAAE,MAAM,IAAG,CAAC;YAE3C,uCAAuC;eACpC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAS,EAAE,EAAE,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC;IACvF,CAAC;IAiBD,YAAY,CAAC,OAA+C;QACxD,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAE5B,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,KAAK,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;gBACzD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACrC,OAAO,CAAC,CAAC,CAAE,CAAC,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAE,CAAC,IAAI,EAAE,WAAW,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAE5E,IAAI,OAAO,CAAC,CAAC,CAAE,CAAC,KAAK,KAAK,SAAS,EAAE;wBACjC,OAAO,CAAC,CAAC,CAAE,CAAC,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAE,CAAC,KAAM,EAAE,WAAW,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC;qBACnF;iBACJ;aACJ;SACJ;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC9C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAE,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAE,CAAC,IAAI,EAAE,eAAe,CAAC,QAAQ,CAAC,CAAC;aAC5F;SACJ;IACL,CAAC;CACJ;AAED,oCAAW,CAAC,yCAAoB,EAAE,CAAC,uBAAuB,CAAC,CAAC,CAAC;;;;;;AC3D7D;;;;;GAKG;AAEH;;;;GAIG;AACH,IAAY,uBAIX;AAJD,WAAY,uBAAuB;IACjC,uHAA6B;IAC7B,+HAAiC;IACjC,mIAAmC,EAAC,eAAe;AACrD,CAAC,EAJW,uBAAuB,KAAvB,uBAAuB,QAIlC;AAED;;;;GAIG;AACH,IAAY,uBAKX;AALD,WAAY,uBAAuB;IACjC,yHAAkC;IAClC,yHAAkC;IAClC,2HAAmC;IACnC,yIAA0C,EAAC,YAAY;AACzD,CAAC,EALW,uBAAuB,KAAvB,uBAAuB,QAKlC;AAED;;;;GAIG;AACI,MAAM,iBAAiB;IAC5B,YAAY,IAAI,GAAG,GAAG,EAAE,KAAK,GAAG,GAAG;QACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;CAIF;AAYD;;;;GAIG;AACI,MAAM,mBAAmB;IAC9B;;;;OAIG;IACH;QACE,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACvB,CAAC;CAKF;AAED;;;;GAIG;AACI,MAAM,iBAAiB;IAC5B;QASA,OAAE,GAAW,EAAE,CAAC,CAAC,SAAS;QARxB,IAAI,CAAC,IAAI,GAAG,uBAAuB,CAAC,6BAA6B,CAAC;QAClE,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACtB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;IACzB,CAAC;CAQF;AAED;;GAEG;AACI,MAAM,iBAAiB;IAA9B;QACE,aAAQ,GAAG,GAAG,CAAC;QACf,UAAK,GAAW,EAAE,CAAC;IACrB,CAAC;CAAA;AAED;;;;GAIG;AACI,MAAM,gBAAgB;IAC3B;QACE,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACpB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QAEf,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACnB,CAAC;CAWF;;;ACtID;;;;;GAKG;AAEH;;GAEG;AACI,MAAM,gBAAgB;IAC3B;;;OAGG;IACH,YAAmB,IAA2B;QAC5C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACpB,CAAC;IAED;;OAEG;IACI,OAAO;QACX,IAAY,CAAC,KAAK,GAAG,SAAS,CAAC;IAClC,CAAC;IAED;;;OAGG;IACI,iBAAiB;QACtB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;IAClC,CAAC;IAED;;;;OAIG;IACI,YAAY;QACjB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC;IACvC,CAAC;IAED;;;OAGG;IACI,mBAAmB;QACxB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;IACpC,CAAC;IAED;;;OAGG;IACI,YAAY;QACjB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC;IAC7B,CAAC;IAED;;;OAGG;IACI,0BAA0B;QAC/B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC;IAC3C,CAAC;IAED;;;OAGG;IACI,wBAAwB;QAC7B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC;IACzC,CAAC;IAED;;;OAGG;IACI,mBAAmB;QACxB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;IACpC,CAAC;IAED;;;OAGG;IACI,oBAAoB;QACzB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;IACrC,CAAC;IAED;;;;OAIG;IACI,oBAAoB,CAAC,UAAkB;QAC5C,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC;IAC9C,CAAC;IAED;;;;OAIG;IACI,gBAAgB,CAAC,UAAkB;QACxC,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC;IAC1C,CAAC;IAED;;;;OAIG;IACI,wBAAwB,CAAC,UAAkB;QAChD,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC;IAClD,CAAC;IAED;;;;OAIG;IACI,yBAAyB,CAAC,UAAkB;QACjD,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC;IACnD,CAAC;IAED;;;;OAIG;IACI,0BAA0B,CAAC,UAAkB;QAClD,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC;IACvD,CAAC;IAED;;;;;OAKG;IACI,qBAAqB,CAC1B,UAAkB,EAClB,YAAoB;QAEpB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IAC9D,CAAC;IAED;;;OAGG;IACI,aAAa;QAClB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC;IAC5C,CAAC;IAED;;;OAGG;IACI,sBAAsB;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAkB,CAAC;IAC5C,CAAC;IAED;;;;OAIG;IACI,YAAY,CAAC,aAAqB;QACvC,OAAO,IAAI,CAAC,KAAK,CAAC,QAAS,CAAC,aAAa,CAAC,CAAC,IAAK,CAAC;IACnD,CAAC;IAED;;;;OAIG;IACI,aAAa,CAAC,aAAqB;QACxC,OAAO,IAAI,CAAC,KAAK,CAAC,QAAS,CAAC,aAAa,CAAC,CAAC,KAAM,CAAC;IACpD,CAAC;CAGF;;;ACxLD;;;;;GAKG;AAE6C;AAEkB;AAClB;AAShB;AACsB;AAGtD,MAAM,kBAAkB,GAAG,UAAU,CAAC;AACtC,MAAM,iBAAiB,GAAG,SAAS,CAAC;AACpC,MAAM,eAAe,GAAG,OAAO,CAAC;AAChC,MAAM,mBAAmB,GAAG,WAAW,CAAC;AACxC,MAAM,qBAAqB,GAAG,aAAa,CAAC;AAE5C,SAAS,UAAU,CACjB,CAAoB,EACpB,CAAoB,EACpB,CAAS;IAET,MAAM,MAAM,GAAsB,IAAI,iBAAiB,EAAE,CAAC;IAE1D,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC7C,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAEjD,OAAO,MAAM,CAAC;AAChB,CAAC;AAED,SAAS,cAAc,CAAC,MAA2B,EAAE,IAAY;IAC/D,IAAI,CAAC,GAAW,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IAE5E,IAAI,CAAC,GAAG,GAAG,EAAE;QACX,CAAC,GAAG,GAAG,CAAC;KACT;IAED,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACnE,CAAC;AAED,SAAS,cAAc,CAAC,MAA2B,EAAE,IAAY;IAC/D,IAAI,CAAC,GAAW,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IAE5E,IAAI,CAAC,GAAG,GAAG,EAAE;QACX,CAAC,GAAG,GAAG,CAAC;KACT;IAED,MAAM,GAAG,GAAsB,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACnE,MAAM,GAAG,GAAsB,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACnE,MAAM,GAAG,GAAsB,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAEnE,MAAM,IAAI,GAAsB,UAAU,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IACxD,MAAM,IAAI,GAAsB,UAAU,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IAExD,OAAO,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;AACzC,CAAC;AAED,SAAS,eAAe,CAAC,MAA2B,EAAE,IAAY;IAChE,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;AACzB,CAAC;AAED,SAAS,sBAAsB,CAC7B,MAA2B,EAC3B,IAAY;IAEZ,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;AACzB,CAAC;AAED,SAAS,aAAa,CACpB,UAA4B,EAC5B,KAAa,EACb,IAAY;IAEZ,4BAA4B;IAC5B,MAAM,KAAK,GAAsB,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAE1D,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;IAChB,MAAM,iBAAiB,GACrB,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC,YAAY,CAAC;IAC9C,IAAI,aAAa,GAAG,CAAC,CAAC;IACtB,KAAK,IAAI,CAAC,GAAW,KAAK,CAAC,gBAAgB,EAAE,CAAC,GAAG,iBAAiB,EAAE,EAAE,CAAC,EAAE;QACvE,mCAAmC;QACnC,aAAa;YACX,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,cAAc;gBACrC,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW;oBACnC,uBAAuB,CAAC,8BAA8B;oBACpD,CAAC,CAAC,CAAC;oBACH,CAAC,CAAC,CAAC,CAAC,CAAC;QAET,6CAA6C;QAC7C,IAAI,UAAU,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI,GAAG,IAAI,EAAE;YAChD,MAAM,GAAG,CAAC,CAAC;YACX,MAAM;SACP;KACF;IAED,IAAI,MAAM,IAAI,CAAC,CAAC,EAAE;QAChB,OAAO,UAAU,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;KAC/C;IAED,MAAM,OAAO,GAAwB,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAEjE,OAAO,OAAO,CAAC,QAAQ,CACrB,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,EAC/C,IAAI,CACL,CAAC;AACJ,CAAC;AAED;;;;GAIG;AACI,MAAM,yBAAa,SAAQ,2BAAa;IA0b7C;;OAEG;IACH;QACE,KAAK,EAAE,CAAC;QAoPH,0BAAqB,GAAa,EAAE,CAAC,CAAC,2DAA2D;QACjG,yBAAoB,GAAa,EAAE,CAAC,CAAC,2DAA2D;QApPrG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,oBAAoB,GAAG,CAAC,GAAG,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,yBAAyB;QAC/C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC,yBAAyB;QACpD,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;IACzB,CAAC;IAncD;;;;;;OAMG;IACI,MAAM,CAAC,MAAM,CAAC,IAA2B,EAAE,uBAAuD;QACvG,MAAM,GAAG,GAAG,IAAI,yBAAY,EAAE,CAAC;QAE/B,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAChB,GAAG,CAAC,gBAAgB,GAAG,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC;QAC3C,GAAG,CAAC,oBAAoB,GAAG,GAAG,CAAC,WAAW,CAAC,QAAQ,CAAC;QACpD,GAAG,CAAC,iBAAiB,GAAG,uBAAuB,CAAC;QAEhD,oCAAoC;QACpC,6CAA6C;QAC7C,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;;;;OAMG;IACI,kBAAkB,CACvB,KAAkB,EAClB,eAAuB,EACvB,UAAkB,EAClB,gBAAwC;QAExC,IAAI,IAAI,CAAC,qBAAqB,IAAI,IAAI,EAAE;YACtC,IAAI,CAAC,qBAAqB,GAAG,kBAAkB,CAAC;SACjD;QAED,IAAI,IAAI,CAAC,oBAAoB,IAAI,IAAI,EAAE;YACrC,IAAI,CAAC,oBAAoB,GAAG,iBAAiB,CAAC;SAC/C;QAED,IAAI,iBAAiB,GACnB,eAAe,GAAG,gBAAgB,CAAC,YAAY,EAAE,CAAC;QAEpD,IAAI,iBAAiB,GAAG,GAAG,EAAE;YAC3B,iBAAiB,GAAG,GAAG,CAAC,CAAC,QAAQ;SAClC;QAED,IAAI,YAAY,GAAW,MAAM,CAAC,SAAS,CAAC;QAC5C,IAAI,aAAa,GAAW,MAAM,CAAC,SAAS,CAAC;QAE7C,mDAAmD;QACnD,MAAM,aAAa,GAAG,EAAE,CAAC;QACzB,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,IAAI,aAAa,GAAG,CAAC,CAAC;QAEtB,6BAA6B;QAC7B,IAAI,IAAI,CAAC,qBAAqB,CAAC,MAAM,GAAG,aAAa,EAAE;YACrD,cAAc,CACZ,kCAAkC,EAClC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAClC,CAAC;SACH;QACD,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,GAAG,aAAa,EAAE;YACpD,cAAc,CACZ,iCAAiC,EACjC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CACjC,CAAC;SACH;QAED,MAAM,SAAS,GACb,IAAI,CAAC,cAAc,IAAI,GAAG;YACxB,CAAC,CAAC,GAAG;YACL,CAAC,CAAC,qBAAU,CAAC,aAAa,CAC1B,CAAC,eAAe,GAAG,gBAAgB,CAAC,kBAAkB,EAAE,CAAC;gBACzD,IAAI,CAAC,cAAc,CAClB,CAAC;QAEN,MAAM,UAAU,GACd,IAAI,CAAC,eAAe,IAAI,GAAG,IAAI,gBAAgB,CAAC,UAAU,EAAE,GAAG,GAAG;YAChE,CAAC,CAAC,GAAG;YACL,CAAC,CAAC,qBAAU,CAAC,aAAa,CAC1B,CAAC,gBAAgB,CAAC,UAAU,EAAE,GAAG,eAAe,CAAC;gBACjD,IAAI,CAAC,eAAe,CACnB,CAAC;QACN,IAAI,KAAa,CAAC;QAClB,IAAI,CAAS,EAAE,cAAsB,CAAC;QAEtC,8BAA8B;QAC9B,IAAI,IAAI,GAAW,iBAAiB,CAAC;QAErC,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,OAAO,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE;gBACvC,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;aACnC;SACF;QAED,MAAM,MAAM,GAAwB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QAE5D,yBAAyB;QACzB,KACE,CAAC,GAAG,CAAC,EACL,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU;YAC/B,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI;gBACd,uBAAuB,CAAC,6BAA6B,EACrD,EAAE,CAAC,EACH;YACA,mCAAmC;YACnC,KAAK,GAAG,aAAa,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAEjD,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,qBAAqB,EAAE;gBAC9C,aAAa,GAAG,KAAK,CAAC;aACvB;iBAAM,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,oBAAoB,EAAE;gBACpD,YAAY,GAAG,KAAK,CAAC;aACtB;SACF;QAED,IAAI,yBAAyB,GAAG,CAAC,CAAC;QAElC,OAEE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU;YAC/B,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI;gBACd,uBAAuB,CAAC,iCAAiC,EACzD,EAAE,CAAC,EACH;YACA,yBAAyB,EAAE,CAAC;YAE5B,wBAAwB;YACxB,cAAc,GAAG,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YAEvD,6CAA6C;YAC7C,IAAI,cAAc,IAAI,CAAC,CAAC,EAAE;gBACxB,SAAS;aACV;YAED,MAAM,WAAW,GAAW,KAAK,CAAC,wBAAwB,CACxD,cAAc,CACf,CAAC;YAEF,kCAAkC;YAClC,KAAK,GAAG,aAAa,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAEjD,IAAI,aAAa,IAAI,MAAM,CAAC,SAAS,EAAE;gBACrC,KACE,IAAI,CAAC,GAAG,CAAC,EACT,CAAC,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,IAAI,CAAC,GAAG,aAAa,EAC1D,EAAE,CAAC,EACH;oBACA,IAAI,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;wBACjD,KAAK,IAAI,aAAa,CAAC;wBACvB,aAAa,IAAI,CAAC,IAAI,CAAC,CAAC;wBACxB,MAAM;qBACP;iBACF;aACF;YAED,IAAI,YAAY,IAAI,MAAM,CAAC,SAAS,EAAE;gBACpC,KACE,IAAI,CAAC,GAAG,CAAC,EACT,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,IAAI,CAAC,GAAG,aAAa,EACzD,EAAE,CAAC,EACH;oBACA,IAAI,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;wBAChD,KAAK,IAAI,YAAY,CAAC;wBACtB,YAAY,IAAI,CAAC,IAAI,CAAC,CAAC;wBACvB,MAAM;qBACP;iBACF;aACF;YAED,IAAI,CAAS,CAAC;YAEd,eAAe;YACf,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,GAAG,EAAE;gBAC7D,gBAAgB;gBAChB,CAAC,GAAG,WAAW,GAAG,CAAC,KAAK,GAAG,WAAW,CAAC,GAAG,UAAU,CAAC;aACtD;iBAAM;gBACL,0CAA0C;gBAC1C,IAAI,GAAW,CAAC;gBAChB,IAAI,IAAY,CAAC;gBAEjB,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,GAAG,EAAE;oBAC9B,GAAG,GAAG,SAAS,CAAC;iBACjB;qBAAM;oBACL,GAAG;wBACD,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,GAAG;4BACzB,CAAC,CAAC,GAAG;4BACL,CAAC,CAAC,qBAAU,CAAC,aAAa,CAC1B,CAAC,eAAe,GAAG,gBAAgB,CAAC,kBAAkB,EAAE,CAAC;gCACzD,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CACnB,CAAC;iBACP;gBAED,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,GAAG,EAAE;oBAC/B,IAAI,GAAG,UAAU,CAAC;iBACnB;qBAAM;oBACL,IAAI;wBACF,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,GAAG;4BAC5B,gBAAgB,CAAC,UAAU,EAAE,GAAG,GAAG;4BACjC,CAAC,CAAC,GAAG;4BACL,CAAC,CAAC,qBAAU,CAAC,aAAa,CAC1B,CAAC,gBAAgB,CAAC,UAAU,EAAE,GAAG,eAAe,CAAC;gCACjD,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,CACpB,CAAC;iBACP;gBAED,MAAM,WAAW,GAAW,IAAI,CAAC,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC;gBAEtD,kBAAkB;gBAClB,CAAC,GAAG,WAAW,GAAG,CAAC,KAAK,GAAG,WAAW,CAAC,GAAG,WAAW,CAAC;aACvD;YAED,KAAK,CAAC,wBAAwB,CAAC,cAAc,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;SACxD;QAED;YACE,IAAI,aAAa,IAAI,MAAM,CAAC,SAAS,EAAE;gBACrC,KACE,IAAI,CAAC,GAAG,CAAC,EACT,CAAC,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,IAAI,CAAC,GAAG,aAAa,EAC1D,EAAE,CAAC,EACH;oBACA,MAAM,WAAW,GAAW,KAAK,CAAC,qBAAqB,CACrD,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAC9B,CAAC;oBAEF,8BAA8B;oBAC9B,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,GAAG,IAAI,EAAE;wBAC/B,SAAS;qBACV;oBAED,MAAM,CAAC,GACL,WAAW,GAAG,CAAC,aAAa,GAAG,WAAW,CAAC,GAAG,UAAU,CAAC;oBAE3D,KAAK,CAAC,qBAAqB,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC/D;aACF;YAED,IAAI,YAAY,IAAI,MAAM,CAAC,SAAS,EAAE;gBACpC,KACE,IAAI,CAAC,GAAG,CAAC,EACT,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,IAAI,CAAC,GAAG,aAAa,EACzD,EAAE,CAAC,EACH;oBACA,MAAM,WAAW,GAAW,KAAK,CAAC,qBAAqB,CACrD,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAC7B,CAAC;oBAEF,gCAAgC;oBAChC,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC,GAAG,IAAI,EAAE;wBAC9B,SAAS;qBACV;oBAED,MAAM,CAAC,GACL,WAAW,GAAG,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,UAAU,CAAC;oBAE1D,KAAK,CAAC,qBAAqB,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC9D;aACF;SACF;QAED,OAEE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU;YAC/B,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI;gBACd,uBAAuB,CAAC,mCAAmC,EAC3D,EAAE,CAAC,EACH;YACA,wBAAwB;YACxB,cAAc,GAAG,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YAEvD,6CAA6C;YAC7C,IAAI,cAAc,IAAI,CAAC,CAAC,EAAE;gBACxB,SAAS;aACV;YAED,kCAAkC;YAClC,KAAK,GAAG,aAAa,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAEjD,KAAK,CAAC,wBAAwB,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;SACvD;QAED,IAAI,iBAAiB,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE;YAClD,IAAI,IAAI,CAAC,OAAO,EAAE;gBAChB,gBAAgB,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC,SAAS;gBACzD,IAAI,IAAI,CAAC,aAAa,EAAE;oBACtB,oCAAoC;oBACpC,gBAAgB,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;iBACtD;aACF;iBAAM;gBACL,IAAI,IAAI,CAAC,iBAAiB,EAAE;oBAC1B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;iBAC9B;gBAED,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;aACtC;SACF;QACD,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;IAChC,CAAC;IAED;;;OAGG;IACI,SAAS,CAAC,IAAa;QAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAED;;;;OAIG;IACI,MAAM;QACX,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED;;;OAGG;IACI,eAAe,CAAC,UAAmB;QACxC,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC;IAClC,CAAC;IAED;;;;;OAKG;IACI,YAAY;QACjB,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAED;;;;OAIG;IACI,WAAW;QAChB,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC;IACzD,CAAC;IAED;;;;OAIG;IACI,eAAe;QACpB,OAAO,IAAI,CAAC,oBAAoB,CAAC;IACnC,CAAC;IAED;;;;;OAKG;IACI,sBAAsB,CAC3B,WAAmB,EACnB,KAAa;QAEb,MAAM,MAAM,GAAwB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QAE5D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;YACpD,IAAI,WAAW,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;gBAC/B,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,KAAK,CAAC;gBAC7B,OAAO;aACR;SACF;IACH,CAAC;IAED;;;;OAIG;IACI,uBAAuB,CAC5B,WAAmB,EACnB,KAAa;QAEb,MAAM,MAAM,GAAwB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QAE5D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;YACpD,IAAI,WAAW,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;gBAC/B,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;gBAC9B,OAAO;aACR;SACF;IACH,CAAC;IAED;;;;OAIG;IACI,sBAAsB,CAAC,WAAmB;QAC/C,MAAM,MAAM,GAAwB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QAE5D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;YACpD,IAAI,WAAW,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;gBAC/B,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;aAC7B;SACF;QAED,OAAO,CAAC,CAAC,CAAC;IACZ,CAAC;IAED;;;;;OAKG;IACI,uBAAuB,CAAC,WAAmB;QAChD,MAAM,MAAM,GAAwB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QAE5D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;YACpD,IAAI,WAAW,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;gBAC/B,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;aAC9B;SACF;QAED,OAAO,CAAC,CAAC,CAAC;IACZ,CAAC;IAED;;;;OAIG;IACI,YAAY,CACjB,oBAA8B,EAC9B,mBAA6B;QAE7B,IAAI,CAAC,qBAAqB,GAAG,oBAAoB,CAAC;QAClD,IAAI,CAAC,oBAAoB,GAAG,mBAAmB,CAAC;IAClD,CAAC;IAcD;;OAEG;IACI,OAAO;QACX,IAAsB,CAAC,WAAW,GAAG,SAAS,CAAC;IAClD,CAAC;IAED;;;;OAIG;IACI,KAAK,CAAC,UAAiC;QAC5C,IAAI,CAAC,WAAW,GAAG,IAAI,gBAAgB,EAAE,CAAC;QAE1C,IAAI,IAAI,GAAqB,IAAI,gBAAgB,CAAC,UAAU,CAAC,CAAC;QAE9D,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACrD,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC5C,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;QACzD,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC3C,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAEnD,MAAM,aAAa,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;QACjD,MAAM,cAAc,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAEnD,IAAI,aAAa,KAAK,SAAS,EAAE;YAC/B,IAAI,CAAC,cAAc,GAAG,aAAa,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,aAAa,CAAC;SACjE;aAAM;YACL,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC;SAC3B;QAED,IAAI,cAAc,KAAK,SAAS,EAAE;YAChC,IAAI,CAAC,eAAe,GAAG,cAAc,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,cAAc,CAAC;SACpE;aAAM;YACL,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;SAC5B;QAED,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,IAAI,iBAAiB,EAAE,CAAC,CAAC;QACjH,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,0BAA0B,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,IAAI,mBAAmB,EAAE,CAAC,CAAC;QAC3H,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,IAAI,iBAAiB,EAAE,CAAC,CAAC;QACjH,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,EAAE,CAAC;QAE7B,IAAI,eAAe,GAAG,CAAC,CAAC;QACxB,IAAI,iBAAiB,GAAG,CAAC,CAAC;QAE1B,SAAS;QACT,KAAK,IAAI,UAAU,GAAG,CAAC,EAAE,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,UAAU,EAAE;YAC/E,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAElD,QAAQ,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,EAAE;gBAC7C,KAAK,eAAe;oBAClB,KAAK,CAAC,IAAI,GAAG,uBAAuB,CAAC,6BAA6B,CAAC;oBACnE,MAAM;gBAER,KAAK,mBAAmB;oBACtB,KAAK,CAAC,IAAI,GAAG,uBAAuB,CAAC,iCAAiC,CAAC;oBACvE,MAAM;gBAER,KAAK,qBAAqB;oBACxB,KAAK,CAAC,IAAI,GAAG,uBAAuB,CAAC,mCAAmC,CAAC;oBACzE,MAAM;aACT;YAED,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;YAE7C,KAAK,CAAC,gBAAgB,GAAG,iBAAiB,CAAC;YAE3C,MAAM,UAAU,GAAG,IAAI,CAAC,wBAAwB,CAAC,UAAU,CAAC,CAAC;YAC7D,MAAM,WAAW,GAAG,IAAI,CAAC,yBAAyB,CAAC,UAAU,CAAC,CAAC;YAE/D,KAAK,CAAC,UAAU,GAAG,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;YAChE,KAAK,CAAC,WAAW,GAAG,WAAW,KAAK,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;YAEnE,WAAW;YACX,KACE,IAAI,eAAe,GAAG,CAAC,EACvB,eAAe,GAAG,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC,GAC7D;gBACA,IAAI,eAAe,IAAI,CAAC,EAAE;oBACxB,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,cAAc,GAAG,eAAe,CAAC;oBAE9E,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI,iBAAiB,CAC9D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,CAAC,EACvD,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,CAC5D,CAAC;oBAEF,eAAe,IAAI,CAAC,CAAC;oBACrB,eAAe,IAAI,CAAC,CAAC;iBACtB;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,cAAc;wBACzD,eAAe,GAAG,CAAC,CAAC;iBACvB;gBAED,MAAM,OAAO,GAAW,IAAI,CAAC,qBAAqB,CAChD,UAAU,EACV,eAAe,CAChB,CAAC;gBACF,QAAQ,OAAO,EAAE;oBACf,KAAK,uBAAuB,CAAC,8BAA8B,CAAC,CAAC;wBAC3D,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,WAAW;4BACtD,uBAAuB,CAAC,8BAA8B,CAAC;wBACzD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,QAAQ,GAAG,cAAc,CAAC;wBAEvE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI,iBAAiB,CAC9D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,EAC3D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,CAC5D,CAAC;wBAEF,eAAe,IAAI,CAAC,CAAC;wBACrB,eAAe,IAAI,CAAC,CAAC;wBAErB,MAAM;qBACP;oBACD,KAAK,uBAAuB,CAAC,8BAA8B,CAAC,CAAC;wBAC3D,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,WAAW;4BACtD,uBAAuB,CAAC,8BAA8B,CAAC;wBACzD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,QAAQ,GAAG,cAAc,CAAC;wBAEvE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI,iBAAiB,CAC9D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,EAC3D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,CAC5D,CAAC;wBAEF,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,eAAe,GAAG,CAAC,CAAC,GAAG,IAAI,iBAAiB,CAClE,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,EAC3D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,CAC5D,CAAC;wBAEF,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,eAAe,GAAG,CAAC,CAAC,GAAG,IAAI,iBAAiB,CAClE,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,EAC3D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,CAC5D,CAAC;wBAEF,eAAe,IAAI,CAAC,CAAC;wBACrB,eAAe,IAAI,CAAC,CAAC;wBAErB,MAAM;qBACP;oBAED,KAAK,uBAAuB,CAAC,+BAA+B,CAAC,CAAC;wBAC5D,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,WAAW;4BACtD,uBAAuB,CAAC,+BAA+B,CAAC;wBAC1D,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,QAAQ,GAAG,eAAe,CAAC;wBAExE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI,iBAAiB,CAC9D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,EAC3D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,CAC5D,CAAC;wBAEF,eAAe,IAAI,CAAC,CAAC;wBACrB,eAAe,IAAI,CAAC,CAAC;wBAErB,MAAM;qBACP;oBAED,KAAK,uBAAuB,CAAC,sCAAsC,CAAC,CAAC;wBACnE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,WAAW;4BACtD,uBAAuB,CAAC,sCAAsC,CAAC;wBACjE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,QAAQ,GAAG,sBAAsB,CAAC;wBAE/E,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI,iBAAiB,CAC9D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,EAC3D,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,eAAe,GAAG,CAAC,CAAC,CAC5D,CAAC;wBAEF,eAAe,IAAI,CAAC,CAAC;wBACrB,eAAe,IAAI,CAAC,CAAC;wBAErB,MAAM;qBACP;oBACD,OAAO,CAAC,CAAC;wBACP,UAAU,CAAC,CAAC,CAAC,CAAC;wBACd,MAAM;qBACP;iBACF;gBAED,EAAE,KAAK,CAAC,YAAY,CAAC;gBACrB,EAAE,iBAAiB,CAAC;aACrB;YAED,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACrC;QAED,KACE,IAAI,aAAa,GAAG,CAAC,EACrB,aAAa,GAAG,IAAI,CAAC,aAAa,EAAE,EACpC,EAAE,aAAa,EACf;YACA,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CACjE,aAAa,CACd,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAC/D,aAAa,CACd,CAAC;SACH;QAED,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED;;;;;;;;OAQG;IACI,aAAa,CAClB,sBAA8B,EAC9B,iBAAyB;QAEzB,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC;QAElC,cAAc;QACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;YACpD,IACE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,sBAAsB;gBAC5D,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,iBAAiB,EACxD;gBACA,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aAC/D;SACF;QAED,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAChC,CAAC;CAeF;;;;;;ACpzBmF;AACN;AAInB;AACwB;AACjD;AAE3B,MAAM,yCAAqB,SAAQ,sCAA8C;IAgBpF,YAAY,QAA8B,EAAE,OAA8B;;QACtE,KAAK,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QAdpB,WAAM,GAAG,EAAE,IAAI,EAAE,MAAM,EAAW,CAAC;QAEnC,mBAAc,GAAG,MAAM,CAAC;QAExB,iBAAY,GAAG,IAAI,iDAAwB,EAAE,CAAC;QAYnD,IAAI,CAAC,WAAW,SAAG,QAAQ,CAAC,OAAO,mCAAI,EAAE,CAAC;QAC1C,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,qBAAqB,EAAE,IAAI,EAAE,CAAC;QAC1D,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,oBAAoB,EAAE,IAAI,EAAE,CAAC;QAExD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACvB,CAAC;IAES,IAAI,CAAC,OAA8B;QACzC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEpB,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;YAC3B,IAAI,CAAC,iBAAiB,GAAG,IAAI,iDAAwB,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;SACjF;QAED,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE;YAClE,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU;QACN,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;IAC1C,CAAC;IAES,YAAY,CAAC,MAAoB,EAAE,QAAyC;QAClF,MAAM,CAAC,wBAAwB,CAAC,QAA2C,CAAC,CAAC;QAE7E,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;QAEnC,OAAO,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,GAAG,EAAE,CAAC,CAAC;IAC3E,CAAC;IAES,eAAe;QACrB,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;IACvC,CAAC;IAED,YAAY,CAAC,IAAY,EAAE,KAAa,EAAE,UAA6B;QACnE,MAAM,MAAM,GAAG,yBAAY,CAAC,MAAM,CAAC,IAAwC,CAAC,CAAC;QAE7E,MAAM,qBAAqB,GAAG,CAC1B,KAAK,KAAK,IAAI,CAAC,MAAM,CAAC,IAAI;YACtB,CAAC,CAAC,wBAAM,CAAC,wBAAwB;YACjC,CAAC,CAAC,wBAAM,CAAC,oBAAoB,CACpC,GAAG,IAAI,CAAC;QAET,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,UAAW,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,UAAW,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC;QAClG,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,WAAY,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,WAAY,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC;QAErG,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAEvD,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,aAAa,CAAC,UAA6B;QACvC,OAAO,UAAU,CAAC,IAAI,CAAC;IAC3B,CAAC;IAES,aAAa,CAAC,UAA6B;QACjD,OAAO,UAAU,CAAC,IAAI,CAAC;IAC3B,CAAC;IAES,YAAY,CAAC,UAA6B;QAChD,OAAO,UAAU,CAAC,KAAK,CAAC;IAC5B,CAAC;IAES,gBAAgB,CAAC,KAAkB,EAAE,GAAwB;QACnE,OAAO,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IACxD,CAAC;IAED,OAAO;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAEhB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;QAC3B,IAA+B,CAAC,YAAY,GAAG,SAAS,CAAC;IAC9D,CAAC;CACJ;;;;;;ACtGD;;;;;GAKG;AAEH;;;;GAIG;AACD,QAAQ;AACH,MAAM,aAAa,GAAG,SAAS,CAAC;AAChC,MAAM,WAAW,GAAG,MAAM,CAAC;AAC3B,MAAM,WAAW,GAAG,MAAM,CAAC;AAC3B,MAAM,WAAW,GAAG,aAAa,CAAC;AAClC,MAAM,cAAc,GAAG,aAAa,CAAC;AACrC,MAAM,eAAe,GAAG,cAAc,CAAC;AACvC,MAAM,eAAe,GAAG,cAAc,CAAC;AAE9C,UAAU;AACH,MAAM,WAAW,GAAG,aAAa,CAAC;AAClC,MAAM,WAAW,GAAG,aAAa,CAAC;AAClC,MAAM,WAAW,GAAG,aAAa,CAAC;AAClC,MAAM,aAAa,GAAG,eAAe,CAAC;AACtC,MAAM,cAAc,GAAG,gBAAgB,CAAC;AACxC,MAAM,aAAa,GAAG,eAAe,CAAC;AACtC,MAAM,cAAc,GAAG,gBAAgB,CAAC;AACxC,MAAM,aAAa,GAAG,eAAe,CAAC;AACtC,MAAM,aAAa,GAAG,eAAe,CAAC;AACtC,MAAM,gBAAgB,GAAG,kBAAkB,CAAC;AAC5C,MAAM,WAAW,GAAG,aAAa,CAAC;AAClC,MAAM,WAAW,GAAG,aAAa,CAAC;AAClC,MAAM,WAAW,GAAG,aAAa,CAAC;AAClC,MAAM,WAAW,GAAG,aAAa,CAAC;AAClC,MAAM,eAAe,GAAG,iBAAiB,CAAC;AAC1C,MAAM,eAAe,GAAG,iBAAiB,CAAC;AAC1C,MAAM,cAAc,GAAG,gBAAgB,CAAC;AACxC,MAAM,cAAc,GAAG,gBAAgB,CAAC;AACxC,MAAM,cAAc,GAAG,gBAAgB,CAAC;AACxC,MAAM,eAAe,GAAG,iBAAiB,CAAC;AAC1C,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,eAAe,GAAG,iBAAiB,CAAC;AAC1C,MAAM,eAAe,GAAG,iBAAiB,CAAC;AAC1C,MAAM,eAAe,GAAG,iBAAiB,CAAC;AAC1C,MAAM,WAAW,GAAG,aAAa,CAAC;AAClC,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,cAAc,GAAG,gBAAgB,CAAC;AACxC,MAAM,aAAa,GAAG,eAAe,CAAC;AACtC,MAAM,aAAa,GAAG,eAAe,CAAC;AACtC,MAAM,eAAe,GAAG,iBAAiB,CAAC;AAC1C,MAAM,cAAc,GAAG,gBAAgB,CAAC;AACxC,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,UAAU,GAAG,YAAY,CAAC;AAChC,MAAM,SAAS,GAAG,OAAO,CAAC;;;AC9DjC;;;;;GAKG;AAIH;;;;GAIG;AACI,MAAM,YAAY;IAkDvB;;OAEG;IACH;QAIA,sBAAiB,GAA0B,EAAE,CAAC,CAAC,sBAAsB;QAHnE,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;IAC1B,CAAC;IAtDD;;OAEG;IACI,MAAM,CAAC,MAAM;QAClB,OAAO,IAAI,YAAY,EAAE,CAAC;IAC5B,CAAC;IAED;;;OAGG;IACI,aAAa,CAClB,gBAAuC;QAEvC,IAAI,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;IAC5C,CAAC;IAED;;;OAGG;IACI,aAAa;QAClB,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAChC,CAAC;IAED;;;;OAIG;IACI,gBAAgB,CACrB,KAAkB,EAClB,gBAAwB;QAExB,IAAI,CAAC,YAAY,IAAI,gBAAgB,CAAC;QAEtC,MAAM,CAAC,GAAW,IAAI,CAAC,YAAY,GAAG,GAAG,GAAG,OAAO,CAAC;QAEpD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACtD,MAAM,IAAI,GAAwB,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;YAE5D,KAAK,CAAC,qBAAqB,CACzB,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAClD,IAAI,CAAC,MAAM,CACZ,CAAC;SACH;IACH,CAAC;CAWF;AAED;;GAEG;AACI,MAAM,mBAAmB;IAC9B;;;;;;;OAOG;IACH,YACE,WAAoB,EACpB,MAAe,EACf,IAAa,EACb,KAAc,EACd,MAAe;QAEf,IAAI,CAAC,WAAW,GAAG,WAAW,IAAI,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC;QACtE,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;QACjD,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;QAC3C,IAAI,CAAC,KAAK,GAAG,KAAK,IAAI,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;QAC9C,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;IACnD,CAAC;CAOF;;;AC1GD;;;;;GAKG;AAKH;;;;GAIG;AACI,MAAM,cAAc;IAuIzB;;;OAGG;IACH,YAAmB,YAAqC;;QACtD,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC;QAC9C,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC;QAC7B,IAAI,CAAC,sBAAsB,GAAG,GAAG,CAAC;QAClC,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC;QACpC,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;QAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC;QAC5B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QAExB,IAAI,YAAY,IAAI,IAAI,EAAE;YACxB,OAAO;SACR;QAED,IAAI,CAAC,aAAa,eAAG,YAAY,CAAC,qBAAqB,EAAE,0CAAE,KAAK,qCAAM,IAAI,CAAC,aAAa,CAAC;IAC3F,CAAC;IA1JD;;;;;OAKG;IACI,MAAM,CAAC,MAAM,CAClB,YAAqC;QAErC,OAAO,IAAI,cAAc,CAAC,YAAY,CAAC,CAAC;IAC1C,CAAC;IAED;;;OAGG;IACI,mBAAmB,CAAC,gBAAwB;QACjD,IAAI,CAAC,wBAAwB,GAAG,gBAAgB,CAAC;IACnD,CAAC;IAED;;;;;OAKG;IACI,kBAAkB,CACvB,OAAe,EACf,MAAc,EACd,OAAe;QAEf,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;QAC/B,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;QAC7B,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;IACjC,CAAC;IAED;;;OAGG;IACI,eAAe,CAAC,YAAsB;QAC3C,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;IACpC,CAAC;IAED;;;OAGG;IACI,eAAe;QACpB,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAED;;;;OAIG;IACI,gBAAgB,CACrB,KAAkB,EAClB,gBAAwB;QAExB,IAAI,CAAC,gBAAgB,IAAI,gBAAgB,CAAC;QAC1C,IAAI,cAAsB,CAAC;QAC3B,IAAI,CAAC,GAAG,GAAG,CAAC;QAEZ,QAAQ,IAAI,CAAC,cAAc,EAAE;YAC3B,KAAK,QAAQ,CAAC,gBAAgB;gBAC5B,CAAC;oBACC,CAAC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,sBAAsB,CAAC;wBACrD,IAAI,CAAC,eAAe,CAAC;gBAEvB,IAAI,CAAC,IAAI,GAAG,EAAE;oBACZ,CAAC,GAAG,GAAG,CAAC;oBACR,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,eAAe,CAAC;oBAC/C,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,gBAAgB,CAAC;iBACrD;gBAED,cAAc,GAAG,GAAG,GAAG,CAAC,CAAC;gBAEzB,MAAM;YACR,KAAK,QAAQ,CAAC,eAAe;gBAC3B,CAAC;oBACC,CAAC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,sBAAsB,CAAC;wBACrD,IAAI,CAAC,cAAc,CAAC;gBAEtB,IAAI,CAAC,IAAI,GAAG,EAAE;oBACZ,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,gBAAgB,CAAC;oBAChD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,gBAAgB,CAAC;iBACrD;gBAED,cAAc,GAAG,GAAG,CAAC;gBAErB,MAAM;YACR,KAAK,QAAQ,CAAC,gBAAgB;gBAC5B,CAAC;oBACC,CAAC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,sBAAsB,CAAC;wBACrD,IAAI,CAAC,eAAe,CAAC;gBAEvB,IAAI,CAAC,IAAI,GAAG,EAAE;oBACZ,CAAC,GAAG,GAAG,CAAC;oBACR,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,iBAAiB,CAAC;oBACjD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,0BAA0B,EAAE,CAAC;iBAC5D;gBAED,cAAc,GAAG,CAAC,CAAC;gBAEnB,MAAM;YACR,KAAK,QAAQ,CAAC,iBAAiB;gBAC7B,IAAI,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,gBAAgB,EAAE;oBAClD,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,gBAAgB,CAAC;oBAChD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,gBAAgB,CAAC;iBACrD;gBAED,cAAc,GAAG,GAAG,CAAC;gBAErB,MAAM;YACR,KAAK,QAAQ,CAAC,cAAc,CAAC;YAC7B;gBACE,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,iBAAiB,CAAC;gBACjD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,0BAA0B,EAAE,CAAC;gBAE3D,cAAc,GAAG,GAAG,CAAC;gBACrB,MAAM;SACT;QAED,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;YAC/B,cAAc,GAAG,CAAC,cAAc,CAAC;SAClC;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAClD,KAAK,CAAC,qBAAqB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC;SACpE;IACH,CAAC;IAwBD;;;;OAIG;IACI,0BAA0B;QAC/B,MAAM,CAAC,GAAW,IAAI,CAAC,MAAM,EAAE,CAAC;QAChC,OAAO,CACL,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC,CACxE,CAAC;IACJ,CAAC;;AAYD;;GAEG;AACa,0BAAW,GAAY,IAAI,CAAC;AAG9C;;;;GAIG;AACH,IAAY,QAMX;AAND,WAAY,QAAQ;IAClB,2DAAkB;IAClB,iEAAiB;IACjB,+DAAgB;IAChB,6DAAe;IACf,+DAAgB,EAAC,iBAAiB;AACpC,CAAC,EANW,QAAQ,KAAR,QAAQ,QAMnB;;;ACnND;;;;;GAKG;AAEH;;GAEG;AACI,MAAM,OAAO;IAClB;;;;;;OAMG;IACH,YAAmB,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC;QAC3C,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;IAClB,CAAC;IAED;;OAEG;IACI,UAAU;QACf,OAAO,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;IACnC,CAAC;IAED;;OAEG;IACI,UAAU;QACf,OAAO,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IACpC,CAAC;IAED;;OAEG;IACI,QAAQ;QACb,OAAO,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;IAC7B,CAAC;IAED;;OAEG;IACI,SAAS;QACd,OAAO,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IAC9B,CAAC;IAED;;;OAGG;IACI,OAAO,CAAC,CAAU;QACvB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACb,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACb,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;IACzB,CAAC;IAED;;;;OAIG;IACI,MAAM,CAAC,CAAS,EAAE,CAAS;QAChC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,KAAK,IAAI,CAAC,GAAG,GAAG,CAAC;QACtB,IAAI,CAAC,MAAM,IAAI,CAAC,GAAG,GAAG,CAAC;IACzB,CAAC;CAMF;;;AChFM,IAAU,aAAM,CAEtB;AAFD,WAAiB,MAAM;IACV,+BAAwB,GAAG,IAAI,CAAC;AAC7C,CAAC,EAFgB,aAAM,KAAN,aAAM,QAEtB;;;ACFD;;;;;GAKG;AAEiD;AACI;AAEb;AACW;AACiC;AACpD;AAEnC,MAAM,iBAAiB,GAAG,CAAC,CAAC,CAAC,0CAA0C;AAEvE,MAAM,WAAW,GAAG,EAAE,CAAC,CAAC,+FAA+F;AACvH,IAAI,UAA0C,CAAC;AAC/C,IAAI,UAAoB,CAAC;AACzB,IAAI,KAAuB,CAAC;AAE5B;;GAEG;AACI,MAAM,gDAA2B;IAmMtC;;OAEG;IACH;QACE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,uBAAuB,GAAG,GAAG,CAAC;QACnC,IAAI,CAAC,2BAA2B,GAAG,EAAE,CAAC;QACtC,IAAI,CAAC,2BAA2B,GAAG,EAAE,CAAC;QACtC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,iBAAiB,GAAG,IAAI,OAAO,EAAE,CAAC;QACvC,IAAI,CAAC,UAAU,GAAG,IAAI,cAAc,EAAE,CAAC;QACvC,IAAI,CAAC,iBAAiB,GAAG,IAAI,cAAc,EAAE,CAAC;QAC9C,IAAI,CAAC,iBAAiB,GAAG,IAAI,cAAc,EAAE,CAAC;QAE9C,IAAI,GAAG,GAAuB,IAAI,kBAAkB,EAAE,CAAC;QACvD,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAE9B,GAAG,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAC/B,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAE9B,GAAG,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAC/B,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAE9B,GAAG,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAC/B,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QACZ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAChC,CAAC;IA7OD;;;OAGG;IACI,qBAAqB,CAAC,SAAiB;QAC5C,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;IACxC,CAAC;IAED;;;;;OAKG;IACI,oBAAoB;QACzB,IAAI,GAAG,GAA4B,CAAC,CAAC;QAErC,2BAA2B;QAC3B,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,CAAC,EAAE;YACvD,aAAa;YACb,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC;YACjD,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;SACjC;QAED,IAAI,GAAG,IAAI,CAAC,EAAE;YACZ,oCAAoC;YAEpC,mBAAmB;YACnB,MAAM,IAAI,GAAW,IAAI,CAAC,uBAAuB,CAAC;YAElD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;YAC5C,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YAC3D,IAAI,CAAC,EAAE,CAAC,UAAU,CAChB,IAAI,CAAC,EAAE,CAAC,UAAU,EAClB,CAAC,EACD,IAAI,CAAC,EAAE,CAAC,IAAI,EACZ,IAAI,EACJ,IAAI,EACJ,CAAC,EACD,IAAI,CAAC,EAAE,CAAC,IAAI,EACZ,IAAI,CAAC,EAAE,CAAC,aAAa,EACrB,IAAI,CACL,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,aAAa,CACnB,IAAI,CAAC,EAAE,CAAC,UAAU,EAClB,IAAI,CAAC,EAAE,CAAC,cAAc,EACtB,IAAI,CAAC,EAAE,CAAC,aAAa,CACtB,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,aAAa,CACnB,IAAI,CAAC,EAAE,CAAC,UAAU,EAClB,IAAI,CAAC,EAAE,CAAC,cAAc,EACtB,IAAI,CAAC,EAAE,CAAC,aAAa,CACtB,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,aAAa,CACnB,IAAI,CAAC,EAAE,CAAC,UAAU,EAClB,IAAI,CAAC,EAAE,CAAC,kBAAkB,EAC1B,IAAI,CAAC,EAAE,CAAC,MAAM,CACf,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,aAAa,CACnB,IAAI,CAAC,EAAE,CAAC,UAAU,EAClB,IAAI,CAAC,EAAE,CAAC,kBAAkB,EAC1B,IAAI,CAAC,EAAE,CAAC,MAAM,CACf,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAE9C,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,EAAE,CAAC;YAClC,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAClD,IAAI,CAAC,EAAE,CAAC,oBAAoB,CAC1B,IAAI,CAAC,EAAE,CAAC,WAAW,EACnB,IAAI,CAAC,EAAE,CAAC,iBAAiB,EACzB,IAAI,CAAC,EAAE,CAAC,UAAU,EAClB,IAAI,CAAC,YAAY,EACjB,CAAC,CACF,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;YAEpD,IAAI,CAAC,YAAY,GAAG,IAAI,2BAA2B,CACjD,IAAI,CAAC,eAAe,EACpB,GAAG,CACJ,CAAC;SACH;QAED,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;OAGG;IACI,KAAK,CAAC,EAAyB;QACpC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;IACf,CAAC;IAED;;;;OAIG;IACI,0BAA0B,CAC/B,KAAkB,EAClB,eAAsC;QAEtC,mCAAmC;QACnC,IAAI,oBAAoB,GAAW,MAAM,CAAC,SAAS,CAAC;QACpD,IAAI,oBAAoB,GAAW,MAAM,CAAC,SAAS,CAAC;QACpD,IAAI,oBAAoB,GAAW,MAAM,CAAC,SAAS,CAAC;QACpD,IAAI,oBAAoB,GAAW,MAAM,CAAC,SAAS,CAAC;QAEpD,mBAAmB;QACnB,qDAAqD;QACrD,MAAM,gBAAgB,GACpB,eAAe,CAAC,yBAAyB,CAAC,MAAM,CAAC;QAEnD,KACE,IAAI,oBAAoB,GAAG,CAAC,EAC5B,oBAAoB,GAAG,gBAAgB,EACvC,oBAAoB,EAAE,EACtB;YACA,+BAA+B;YAC/B,MAAM,aAAa,GACjB,eAAe,CAAC,yBAAyB,CAAC,oBAAoB,CAAC,CAAC;YAElE,MAAM,mBAAmB,GAAW,KAAK,CAAC,sBAAsB,CAC9D,aAAa,CACd,CAAC;YACF,MAAM,gBAAgB,GAAiB,KAAK,CAAC,mBAAmB,CAC9D,aAAa,CACd,CAAC;YAEF,IAAI,IAAI,GAAW,MAAM,CAAC,SAAS,CAAC;YACpC,IAAI,IAAI,GAAW,MAAM,CAAC,SAAS,CAAC;YACpC,IAAI,IAAI,GAAW,MAAM,CAAC,SAAS,CAAC;YACpC,IAAI,IAAI,GAAW,MAAM,CAAC,SAAS,CAAC;YAEpC,MAAM,IAAI,GAAW,mBAAmB,GAAG,QAAQ,CAAC,UAAU,CAAC;YAC/D,KACE,IAAI,EAAE,GAAW,QAAQ,CAAC,YAAY,EACtC,EAAE,GAAG,IAAI,EACT,EAAE,IAAI,QAAQ,CAAC,UAAU,EACzB;gBACA,MAAM,CAAC,GAAW,gBAAgB,CAAC,EAAE,CAAC,CAAC;gBACvC,MAAM,CAAC,GAAW,gBAAgB,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;gBAE3C,IAAI,CAAC,GAAG,IAAI,EAAE;oBACZ,IAAI,GAAG,CAAC,CAAC;iBACV;gBACD,IAAI,CAAC,GAAG,IAAI,EAAE;oBACZ,IAAI,GAAG,CAAC,CAAC;iBACV;gBACD,IAAI,CAAC,GAAG,IAAI,EAAE;oBACZ,IAAI,GAAG,CAAC,CAAC;iBACV;gBACD,IAAI,CAAC,GAAG,IAAI,EAAE;oBACZ,IAAI,GAAG,CAAC,CAAC;iBACV;aACF;YAED,uBAAuB;YACvB,IAAI,IAAI,IAAI,MAAM,CAAC,SAAS,EAAE;gBAC5B,SAAS;aACV;YAED,WAAW;YACX,IAAI,IAAI,GAAG,oBAAoB,EAAE;gBAC/B,oBAAoB,GAAG,IAAI,CAAC;aAC7B;YACD,IAAI,IAAI,GAAG,oBAAoB,EAAE;gBAC/B,oBAAoB,GAAG,IAAI,CAAC;aAC7B;YACD,IAAI,IAAI,GAAG,oBAAoB,EAAE;gBAC/B,oBAAoB,GAAG,IAAI,CAAC;aAC7B;YACD,IAAI,IAAI,GAAG,oBAAoB,EAAE;gBAC/B,oBAAoB,GAAG,IAAI,CAAC;aAC7B;YAED,IAAI,oBAAoB,IAAI,MAAM,CAAC,SAAS,EAAE;gBAC5C,eAAe,CAAC,mBAAmB,CAAC,CAAC,GAAG,GAAG,CAAC;gBAC5C,eAAe,CAAC,mBAAmB,CAAC,CAAC,GAAG,GAAG,CAAC;gBAC5C,eAAe,CAAC,mBAAmB,CAAC,KAAK,GAAG,GAAG,CAAC;gBAChD,eAAe,CAAC,mBAAmB,CAAC,MAAM,GAAG,GAAG,CAAC;gBACjD,eAAe,CAAC,QAAQ,GAAG,KAAK,CAAC;aAClC;iBAAM;gBACL,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAChC,MAAM,CAAC,GAAW,oBAAoB,GAAG,oBAAoB,CAAC;gBAC9D,MAAM,CAAC,GAAW,oBAAoB,GAAG,oBAAoB,CAAC;gBAC9D,eAAe,CAAC,mBAAmB,CAAC,CAAC,GAAG,oBAAoB,CAAC;gBAC7D,eAAe,CAAC,mBAAmB,CAAC,CAAC,GAAG,oBAAoB,CAAC;gBAC7D,eAAe,CAAC,mBAAmB,CAAC,KAAK,GAAG,CAAC,CAAC;gBAC9C,eAAe,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,CAAC;aAChD;SACF;IACH,CAAC;IA+CD;;OAEG;IACI,OAAO;;QACZ,MAAM,IAAI,GAAG,IAAqB,CAAC;QAEnC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,2BAA2B,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAChE,IAAI,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,EAAE;gBACvC,UAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,0CAAE,OAAO,GAAG;aAChD;SACF;QACD,IAAI,CAAC,2BAA2B,GAAG,SAAS,CAAC;QAE7C,iGAAiG;QACjG,IAAI,CAAC,2BAA2B,GAAG,SAAS,CAAC;QAE7C,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,UAAI,CAAC,EAAE,0CAAE,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;YACtD,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;SAC/B;QAED,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;QAEhC,UAAU;QACV,UAAI,CAAC,EAAE,0CAAE,aAAa,CAAC,IAAI,CAAC,YAAY,EAAE;QAC1C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED;;;;;;;OAOG;IACI,UAAU,CACf,KAAkB,EAClB,aAAqB,EACrB,aAA2B,EAC3B,kBAA8B;QAE9B,+BAA+B;QAC/B,gCAAgC;QAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,CAAC,EAAE,EAAE;YACtC,IAAI,kBAAkB,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;gBAC9B,wCAAwC;gBACxC,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC5C,SAAS;aACV;YAED,4BAA4B;YAC5B,IAAI,eAAe,GAAG,IAAI,CAAC,YAAY,CACrC,aAAa,CAAC,CAAC,CAAC,EAChB,kBAAkB,CAAC,CAAC,CAAC,CACtB,CAAC;YACF,IAAI,eAAe,IAAI,IAAI,EAAE;gBAC3B,wBAAwB;gBACxB,eAAe,GAAG,IAAI,0CAAqB,CACzC,IAAI,EACJ,aAAa,CAAC,CAAC,CAAC,EAChB,kBAAkB,CAAC,CAAC,CAAC,CACtB,CAAC;gBACF,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aACxD;YAED,eAAe,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;YAEtC,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SACxD;IACH,CAAC;IAED;;;;OAIG;IACI,oBAAoB,CACzB,KAAkB,EAClB,QAA8B;QAE9B,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,iBAAiB;QACjB,0CAA0C;QAC1C,IAAI,cAAc,GAAG,CAAC,CAAC;QACvB,KACE,IAAI,SAAS,GAAG,CAAC,EACjB,SAAS,GAAG,IAAI,CAAC,2BAA2B,CAAC,MAAM,EACnD,SAAS,EAAE,EACX;YACA,mBAAmB;YACnB,MAAM,EAAE,GAAG,IAAI,CAAC,2BAA2B,CAAC,SAAS,CAAC,CAAC;YAEvD,iCAAiC;YACjC,IAAI,CAAC,0BAA0B,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YAE3C,IAAI,EAAE,CAAC,QAAQ,EAAE;gBACf,cAAc,EAAE,CAAC,CAAC,aAAa;aAChC;SACF;QAED,UAAU;QACV,IAAI,cAAc,GAAG,CAAC,EAAE;YACtB,kCAAkC;YAClC,IAAI,CAAC,EAAE,CAAC,QAAQ,CACd,CAAC,EACD,CAAC,EACD,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,uBAAuB,CAC7B,CAAC;YAEF,gBAAgB;YAChB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAEtD,2CAA2C;YAC3C,MAAM,aAAa,GAAmB,QAAQ,CAAC,YAAY,EAAE,CAAC;YAE9D,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC,aAAa;YAEjC,oBAAoB;YACpB,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;YAEvC,gCAAgC;YAChC,+BAA+B;YAC/B,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAEtE,YAAY;YACZ,8EAA8E;YAC9E,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;YACvC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC;YAExC,cAAc;YACd,kEAAkE;YAClE,KACE,IAAI,SAAS,GAAG,CAAC,EACjB,SAAS,GAAG,IAAI,CAAC,2BAA2B,CAAC,MAAM,EACnD,SAAS,EAAE,EACX;gBACA,uBAAuB;gBACvB,MAAM,WAAW,GAA0B,IAAI,CAAC,2BAA2B,CAAC,SAAS,CAAC,CAAC;gBACvF,MAAM,iBAAiB,GAAY,WAAW,CAAC,mBAAmB,CAAC,CAAC,mCAAmC;gBACvG,MAAM,mBAAmB,GAAY,WAAW,CAAC,aAAa,CAAC,CAAC,cAAc;gBAE9E,0BAA0B;gBAC1B,MAAM,MAAM,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;gBAClD,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAC3B,iBAAiB,CAAC,KAAK,GAAG,MAAM,EAChC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAClC,CAAC;gBACF,4CAA4C;gBAE5C,kCAAkC;gBAClC,oJAAoJ;gBACpJ,MAAM,MAAM,GAAW,mBAAmB,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;gBAChF,MAAM,MAAM,GAAW,mBAAmB,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAElF,kBAAkB;gBAClB;oBACE,gEAAgE;oBAChE,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;oBAC/B;wBACE,wBAAwB;wBACxB,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;wBAC9C,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;qBACzC;oBACD;wBACE,qBAAqB;wBACrB,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAC/B,mBAAmB,CAAC,CAAC,EACrB,mBAAmB,CAAC,CAAC,CACtB,CAAC;wBACF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,2BAA2B;wBAC1E,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAC/B,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,EACzB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAC1B,CAAC;wBACF,sCAAsC;qBACvC;oBACD,wBAAwB;oBACxB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC;iBAC9D;gBAED,gCAAgC;gBAChC;oBACE,gEAAgE;oBAChE,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;oBAC/B;wBACE,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAC/B,mBAAmB,CAAC,CAAC,EACrB,mBAAmB,CAAC,CAAC,CACtB,CAAC;wBACF,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,2BAA2B;wBAC1E,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAC/B,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,EACzB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAC1B,CAAC;wBACF,sCAAsC;qBACvC;oBACD,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC;iBAC9D;gBACD,WAAW,CAAC,cAAc,CAAC,SAAS,CAClC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAClC,CAAC;gBACF,WAAW,CAAC,cAAc,CAAC,SAAS,CAClC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAClC,CAAC;gBAEF,MAAM,aAAa,GAAW,WAAW,CAAC,gBAAgB,CAAC;gBAC3D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,CAAC,EAAE,EAAE;oBACtC,MAAM,aAAa,GAAW,WAAW,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;oBAE7D,iCAAiC;oBACjC,IACE,CAAC,KAAK,CAAC,8CAA8C,CACnD,aAAa,CACd,EACD;wBACA,SAAS;qBACV;oBAED,QAAQ,CAAC,YAAY,CACnB,KAAK,CAAC,kBAAkB,CAAC,aAAa,CAAC,IAAI,KAAK,CACjD,CAAC;oBAEF,iBAAiB;oBACjB,4BAA4B;oBAC5B,QAAQ,CAAC,+BAA+B,CAAC,WAAW,CAAC,CAAC;oBACtD,QAAQ,CAAC,QAAQ,CACf,KAAK,CAAC,yBAAyB,CAAC,aAAa,CAAC,EAC9C,KAAK,CAAC,2BAA2B,CAAC,aAAa,CAAC,EAChD,KAAK,CAAC,sBAAsB,CAAC,aAAa,CAAC,EAC3C,KAAK,CAAC,wBAAwB,CAAC,aAAa,CAAC,EAC7C,KAAK,CAAC,mBAAmB,CAAC,aAAa,CAAC,EACxC,KAAK,CAAC,oBAAoB,CAAC,aAAa,CAAC,EACzC,KAAK,CAAC,kBAAkB,CAAC,aAAa,CAAC,EACvC,eAAe,CAAC,sBAAsB,EAAE,iBAAiB;oBACzD,KAAK,CACN,CAAC;iBACH;aACF;YAED,cAAc;YACd,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC,UAAU;YAC/D,QAAQ,CAAC,+BAA+B,CAAC,IAAI,CAAC,CAAC;YAE/C,IAAI,CAAC,EAAE,CAAC,QAAQ,CACd,UAAU,CAAC,CAAC,CAAC,EACb,UAAU,CAAC,CAAC,CAAC,EACb,UAAU,CAAC,CAAC,CAAC,EACb,UAAU,CAAC,CAAC,CAAC,CACd,CAAC;SACH;IACH,CAAC;IAED;;;;;;;OAOG;IACI,YAAY,CACjB,aAAyB,EACzB,kBAA0B;QAE1B,8BAA8B;QAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,2BAA2B,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAChE,MAAM,eAAe,GAA0B,IAAI,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC;YACnF,MAAM,KAAK,GAAW,eAAe,CAAC,gBAAgB,CAAC;YAEvD,aAAa;YACb,IAAI,KAAK,IAAI,kBAAkB,EAAE;gBAC/B,SAAS;aACV;YAED,IAAI,SAAS,GAAG,CAAC,CAAC;YAElB,6CAA6C;YAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;gBAC9B,MAAM,MAAM,GAAW,eAAe,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;gBAE1D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;oBAC9B,IAAI,aAAa,CAAC,CAAC,CAAC,IAAI,MAAM,EAAE;wBAC9B,SAAS,EAAE,CAAC;wBACZ,MAAM;qBACP;iBACF;aACF;YAED,IAAI,SAAS,IAAI,KAAK,EAAE;gBACtB,OAAO,eAAe,CAAC;aACxB;SACF;QAED,OAAO,IAAI,CAAC,CAAC,WAAW;IAC1B,CAAC;IAED;;;;;;OAMG;IACI,iBAAiB,CAAC,cAAsB;QAC7C,0CAA0C;QAC1C,kEAAkE;QAElE,gBAAgB;QAChB,IAAI,GAAG,GAAW,cAAc,GAAG,iBAAiB,CAAC,CAAC,oBAAoB;QAC1E,IAAI,GAAG,GAAW,cAAc,GAAG,iBAAiB,CAAC,CAAC,2BAA2B;QAEjF,YAAY;QACZ,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;QACZ,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;QAEZ,4CAA4C;QAC5C,IAAI,YAAY,GAAG,CAAC,CAAC,CAAC,YAAY;QAElC,KAAK,IAAI,SAAS,GAAG,CAAC,EAAE,SAAS,GAAG,iBAAiB,EAAE,SAAS,EAAE,EAAE;YAClE,mBAAmB;YACnB,MAAM,WAAW,GAAW,GAAG,GAAG,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAE5D,YAAY;YACZ,IAAI,WAAW,IAAI,CAAC,EAAE;gBACpB,QAAQ;aACT;iBAAM,IAAI,WAAW,IAAI,CAAC,EAAE;gBAC3B,YAAY;gBACZ,MAAM,WAAW,GAA0B,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,CAAC,CAAC;gBAC5F,WAAW,CAAC,gBAAgB,GAAG,SAAS,CAAC;gBACzC,WAAW,CAAC,aAAa,CAAC,CAAC,GAAG,GAAG,CAAC;gBAClC,WAAW,CAAC,aAAa,CAAC,CAAC,GAAG,GAAG,CAAC;gBAClC,WAAW,CAAC,aAAa,CAAC,KAAK,GAAG,GAAG,CAAC;gBACtC,WAAW,CAAC,aAAa,CAAC,MAAM,GAAG,GAAG,CAAC;aACxC;iBAAM,IAAI,WAAW,IAAI,CAAC,EAAE;gBAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE;oBACpC,IAAI,IAAI,GAAW,CAAC,GAAG,CAAC,CAAC;oBAEzB,YAAY;oBACZ,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBAEd,MAAM,EAAE,GAA0B,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,CAAC,CAAC;oBACnF,EAAE,CAAC,gBAAgB,GAAG,SAAS,CAAC;oBAEhC,EAAE,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;oBAChC,EAAE,CAAC,aAAa,CAAC,CAAC,GAAG,GAAG,CAAC;oBACzB,EAAE,CAAC,aAAa,CAAC,KAAK,GAAG,GAAG,CAAC;oBAC7B,EAAE,CAAC,aAAa,CAAC,MAAM,GAAG,GAAG,CAAC;oBAC9B,eAAe;iBAChB;aACF;iBAAM,IAAI,WAAW,IAAI,CAAC,EAAE;gBAC3B,UAAU;gBACV,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE;oBACpC,IAAI,IAAI,GAAW,CAAC,GAAG,CAAC,CAAC;oBACzB,IAAI,IAAI,GAAW,CAAC,GAAG,CAAC,CAAC;oBAEzB,YAAY;oBACZ,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBACd,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBAEd,MAAM,EAAE,GAAG,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,CAAC,CAAC;oBAC5D,EAAE,CAAC,gBAAgB,GAAG,SAAS,CAAC;oBAEhC,EAAE,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;oBAChC,EAAE,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;oBAChC,EAAE,CAAC,aAAa,CAAC,KAAK,GAAG,GAAG,CAAC;oBAC7B,EAAE,CAAC,aAAa,CAAC,MAAM,GAAG,GAAG,CAAC;iBAC/B;aACF;iBAAM,IAAI,WAAW,IAAI,CAAC,EAAE;gBAC3B,UAAU;gBACV,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE;oBACpC,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;oBAEjB,YAAY;oBACZ,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBACd,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBAEd,MAAM,EAAE,GAA0B,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,CAAC,CAAC;oBACnF,EAAE,CAAC,gBAAgB,GAAG,SAAS,CAAC;oBAEhC,EAAE,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;oBAChC,EAAE,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;oBAChC,EAAE,CAAC,aAAa,CAAC,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;oBACnC,EAAE,CAAC,aAAa,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;iBACrC;aACF;iBAAM,IAAI,aAAM,CAAC,wBAAwB,IAAI,WAAW,IAAI,EAAE,EAAE;gBAC/D,uBAAuB;gBACvB,kFAAkF;gBAElF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE;oBACpC,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;oBAEjB,YAAY;oBACZ,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBACd,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;oBAEd,MAAM,EAAE,GAA0B,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,CAAC,CAAC;oBACnF,EAAE,CAAC,gBAAgB,GAAG,SAAS,CAAC;oBAEhC,EAAE,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;oBAChC,EAAE,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;oBAChC,EAAE,CAAC,aAAa,CAAC,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;oBACnC,EAAE,CAAC,aAAa,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;iBACrC;aACF;iBAAM;gBACL,cAAc,CAAC,gCAAgC,EAAE,WAAW,CAAC,CAAC;aAC/D;SACF;IACH,CAAC;IAED;;;OAGG;IACI,cAAc;QACnB,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED;;;OAGG;IACI,6BAA6B;QAClC,OAAO,IAAI,CAAC,2BAA2B,CAAC;IAC1C,CAAC;IAED;;;OAGG;IACI,yBAAyB,CAAC,IAAY;QAC3C,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;IACtC,CAAC;IAED;;;OAGG;IACI,yBAAyB;QAC9B,OAAO,IAAI,CAAC,uBAAuB,CAAC;IACtC,CAAC;CAkBF;AAED;;;GAGG;AACI,MAAM,2BAA2B;IACtC;;;;OAIG;IACH,YAAmB,OAAe,EAAE,OAAgC;QAClE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;CAIF;AAED;;GAEG;AACI,MAAM,0CAAqB;IAChC;;OAEG;IACH,YACE,OAAoC,EACpC,uBAAmC,EACnC,SAAiB;QAkDZ,aAAQ,GAAY,KAAK,CAAC,CAAC,0BAA0B;QAhD1D,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;QAEtB,qCAAqC;QACrC,IAAI,CAAC,eAAe,GAAG,uBAAuB,CAAC;QAE/C,QAAQ;QACR,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;QAElC,IAAI,CAAC,mBAAmB,GAAG,IAAI,OAAO,EAAE,CAAC;QACzC,IAAI,CAAC,aAAa,GAAG,IAAI,OAAO,EAAE,CAAC;QAEnC,IAAI,CAAC,yBAAyB,GAAG,EAAE,CAAC;QAEpC,IAAI,CAAC,cAAc,GAAG,IAAI,cAAc,EAAE,CAAC;QAC3C,IAAI,CAAC,cAAc,GAAG,IAAI,cAAc,EAAE,CAAC;IAC7C,CAAC;IAED;;OAEG;IACI,OAAO;QACZ,MAAM,IAAI,GAAG,IAAqB,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;QAC/B,IAAI,CAAC,mBAAmB,GAAG,SAAS,CAAC;QACrC,IAAI,CAAC,yBAAyB,GAAG,SAAS,CAAC;IAC7C,CAAC;IAED;;;;OAIG;IACI,kBAAkB,CAAC,aAAqB;QAC7C,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACrD,CAAC;IAED;;;OAGG;IACI,kBAAkB;QACvB,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAEM,KAAK,CAAC,EAAyB;QACpC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IACxB,CAAC;CAaF;AAED;;;GAGG;AACI,MAAM,uCAAkB;IAwB7B;;OAEG;IACH;QACE,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACxB,CAAC;IA5BD;;;OAGG;IACI,MAAM,CAAC,WAAW;QACvB,IAAI,UAAU,IAAI,IAAI,EAAE;YACtB,UAAU,GAAG,IAAI,uCAAkB,EAAE,CAAC;YAEtC,OAAO,UAAU,CAAC;SACnB;QACD,OAAO,UAAU,CAAC;IACpB,CAAC;IAED;;OAEG;IACI,MAAM,CAAC,cAAc;QAC1B,IAAI,UAAU,EAAE;YACd,UAAU,CAAC,OAAO,EAAE,CAAC;YACrB,UAAU,GAAG,SAAS,CAAC;SACxB;IACH,CAAC;IASD;;OAEG;IACI,OAAO;QACZ,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED;;;;;;;;;;;;;;OAcG;IACI,kBAAkB,CACvB,QAA8B,EAC9B,SAA8B,EAC9B,WAAmB,EACnB,WAAyB,EACzB,UAAuB,EACvB,OAAqB,EACrB,UAIC,EACD,OAAe,EACf,cAA+B,EAC/B,SAA6B,EAC7B,oBAA6B,EAC7B,SAAyB,EACzB,YAAqB;QAErB,IAAI,CAAC,oBAAoB,EAAE;YACzB,cAAc,CAAC,qCAAqC,CAAC,CAAC;SACvD;QAED,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;YAChC,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;QAED,WAAW;QACX,IAAI,SAAiB,CAAC;QACtB,IAAI,SAAiB,CAAC;QACtB,IAAI,SAAiB,CAAC;QACtB,IAAI,SAAiB,CAAC;QAEtB,MAAM,4BAA4B,GAAG,QAAQ,CAAC,+BAA+B,EAAE,CAAC;QAEhF,IAAI,4BAA4B,IAAI,IAAI,EAAE;YACxC,SAAS;YACT,MAAM,SAAS,GAAoB,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAC;YACvF,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;YAE5C,UAAU;YACV,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;YACxC,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;YACnD,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC;YAExD,eAAe;YACf,IAAI,UAAU,CAAC,MAAM,IAAI,IAAI,EAAE;gBAC7B,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;aAC5C;YACD,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;YAC5D,IAAI,CAAC,EAAE,CAAC,UAAU,CAChB,IAAI,CAAC,EAAE,CAAC,YAAY,EACpB,WAAW,EACX,IAAI,CAAC,EAAE,CAAC,YAAY,CACrB,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,uBAAuB,CAAC,SAAS,CAAC,yBAAyB,CAAC,CAAC;YACrE,IAAI,CAAC,EAAE,CAAC,mBAAmB,CACzB,SAAS,CAAC,yBAAyB,EACnC,CAAC,EACD,IAAI,CAAC,EAAE,CAAC,KAAK,EACb,KAAK,EACL,CAAC,EACD,CAAC,CACF,CAAC;YAEF,aAAa;YACb,IAAI,UAAU,CAAC,EAAE,IAAI,IAAI,EAAE;gBACzB,UAAU,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;aACxC;YACD,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC;YACxD,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;YACxE,IAAI,CAAC,EAAE,CAAC,uBAAuB,CAAC,SAAS,CAAC,yBAAyB,CAAC,CAAC;YACrE,IAAI,CAAC,EAAE,CAAC,mBAAmB,CACzB,SAAS,CAAC,yBAAyB,EACnC,CAAC,EACD,IAAI,CAAC,EAAE,CAAC,KAAK,EACb,KAAK,EACL,CAAC,EACD,CAAC,CACF,CAAC;YAEF,QAAQ;YACR,MAAM,SAAS,GAAW,4BAA4B,CAAC,gBAAgB,CAAC;YACxE,MAAM,YAAY,GAAuB,4BAA4B;iBAClE,kBAAkB,EAAE;iBACpB,qBAAqB,CAAC,SAAS,CAAC,CAAC;YACpC,IAAI,CAAC,EAAE,CAAC,SAAS,CACf,SAAS,CAAC,0BAA0B,EACpC,YAAY,CAAC,CAAC,EACd,YAAY,CAAC,CAAC,EACd,YAAY,CAAC,CAAC,EACd,YAAY,CAAC,CAAC,CACf,CAAC;YAEF,IAAI,CAAC,EAAE,CAAC,gBAAgB,CACtB,SAAS,CAAC,yBAAyB,EACnC,KAAK,EACL,4BAA4B,CAAC,cAAc,CAAC,QAAQ,EAAE,CACvD,CAAC;YAEF,MAAM,IAAI,GAAY,4BAA4B,CAAC,aAAa,CAAC;YAEjE,IAAI,CAAC,EAAE,CAAC,SAAS,CACf,SAAS,CAAC,wBAAwB,EAClC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAClB,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAClB,IAAI,CAAC,QAAQ,EAAE,GAAG,GAAG,GAAG,GAAG,EAC3B,IAAI,CAAC,SAAS,EAAE,GAAG,GAAG,GAAG,GAAG,CAC7B,CAAC;YAEF,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;YACzB,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,mBAAmB,CAAC;YACxC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;YACzB,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,mBAAmB,CAAC;SACzC,CAAC,aAAa;aACV;YACH,MAAM,4BAA4B,GAAG,QAAQ,CAAC,+BAA+B,EAAE,CAAC;YAChF,MAAM,MAAM,GAAG,4BAA4B,IAAI,IAAI,CAAC,CAAC,oBAAoB;YACzE,MAAM,MAAM,GAAW,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAE3D,IAAI,SAAS,CAAC;YAEd,QAAQ,cAAc,EAAE;gBACtB,KAAK,eAAe,CAAC,sBAAsB,CAAC;gBAC5C;oBACE,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,oCAAoC,GAAG,MAAM,CAAC,CAAC;oBACxF,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC;oBACxB,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,mBAAmB,CAAC;oBACxC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC;oBACxB,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,mBAAmB,CAAC;oBACxC,MAAM;gBAER,KAAK,eAAe,CAAC,wBAAwB;oBAC3C,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,iCAAiC,GAAG,MAAM,CAAC,CAAC;oBACrF,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC;oBACxB,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC;oBACxB,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;oBACzB,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC;oBACxB,MAAM;gBAER,KAAK,eAAe,CAAC,8BAA8B;oBACjD,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,kCAAkC,GAAG,MAAM,CAAC,CAAC;oBACtF,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC;oBAC9B,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,mBAAmB,CAAC;oBACxC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;oBACzB,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC;oBACxB,MAAM;aACT;YAED,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;YAE5C,UAAU;YACV,IAAI,UAAU,CAAC,MAAM,IAAI,IAAI,EAAE;gBAC7B,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;aAC5C;YACD,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;YAC5D,IAAI,CAAC,EAAE,CAAC,UAAU,CAChB,IAAI,CAAC,EAAE,CAAC,YAAY,EACpB,WAAW,EACX,IAAI,CAAC,EAAE,CAAC,YAAY,CACrB,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,uBAAuB,CAAC,SAAS,CAAC,yBAAyB,CAAC,CAAC;YACrE,IAAI,CAAC,EAAE,CAAC,mBAAmB,CACzB,SAAS,CAAC,yBAAyB,EACnC,CAAC,EACD,IAAI,CAAC,EAAE,CAAC,KAAK,EACb,KAAK,EACL,CAAC,EACD,CAAC,CACF,CAAC;YAEF,aAAa;YACb,IAAI,UAAU,CAAC,EAAE,IAAI,IAAI,EAAE;gBACzB,UAAU,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;aACxC;YACD,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC;YACxD,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;YACxE,IAAI,CAAC,EAAE,CAAC,uBAAuB,CAAC,SAAS,CAAC,yBAAyB,CAAC,CAAC;YACrE,IAAI,CAAC,EAAE,CAAC,mBAAmB,CACzB,SAAS,CAAC,yBAAyB,EACnC,CAAC,EACD,IAAI,CAAC,EAAE,CAAC,KAAK,EACb,KAAK,EACL,CAAC,EACD,CAAC,CACF,CAAC;YAEF,oBAAoB;YACpB,IAAI,4BAA4B,IAAI,IAAI,EAAE;gBACxC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;gBACxC,MAAM,GAAG,GAAG,4BAA4B;qBACrC,kBAAkB,EAAE;qBACpB,cAAc,EAAE,CAAC;gBACpB,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBAC7C,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC;gBAExD,yCAAyC;gBACzC,IAAI,CAAC,EAAE,CAAC,gBAAgB,CACtB,SAAS,CAAC,yBAAyB,EACnC,KAAK,EACL,4BAA4B,CAAC,cAAc,CAAC,QAAQ,EAAE,CACvD,CAAC;gBAEF,kBAAkB;gBAClB,MAAM,SAAS,GAAW,4BAA4B,CAAC,gBAAgB,CAAC;gBACxE,MAAM,YAAY,GAAuB,4BAA4B;qBAClE,kBAAkB,EAAE;qBACpB,qBAAqB,CAAC,SAAS,CAAC,CAAC;gBACpC,IAAI,CAAC,EAAE,CAAC,SAAS,CACf,SAAS,CAAC,0BAA0B,EACpC,YAAY,CAAC,CAAC,EACd,YAAY,CAAC,CAAC,EACd,YAAY,CAAC,CAAC,EACd,YAAY,CAAC,CAAC,CACf,CAAC;aACH;YAED,UAAU;YACV,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;YACxC,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;YACnD,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC;YAExD,OAAO;YACP,IAAI,CAAC,EAAE,CAAC,gBAAgB,CACtB,SAAS,CAAC,qBAAqB,EAC/B,KAAK,EACL,SAAS,CAAC,QAAQ,EAAE,CACrB,CAAC;YAEF,IAAI,CAAC,EAAE,CAAC,SAAS,CACf,SAAS,CAAC,wBAAwB,EAClC,SAAS,CAAC,CAAC,EACX,SAAS,CAAC,CAAC,EACX,SAAS,CAAC,CAAC,EACX,SAAS,CAAC,CAAC,CACZ,CAAC;SACH;QAED,iBAAiB;QACjB,IAAI,UAAU,CAAC,KAAK,IAAI,IAAI,EAAE;YAC5B,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;SAC3C;QACD,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,oBAAoB,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;QACnE,IAAI,CAAC,EAAE,CAAC,UAAU,CAChB,IAAI,CAAC,EAAE,CAAC,oBAAoB,EAC5B,UAAU,EACV,IAAI,CAAC,EAAE,CAAC,YAAY,CACrB,CAAC;QACF,IAAI,CAAC,EAAE,CAAC,iBAAiB,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;IACxE,CAAC;IAED;;OAEG;IACI,oBAAoB;QACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAChD,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC;SACvC;QAED,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACxB,CAAC;IAED;;;;OAIG;IACI,eAAe;QACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE;YACpC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAS,CAAC,CAAC;SAClC;QAED,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CACxD,wBAAwB,EACxB,0BAA0B,CAC3B,CAAC;QAEF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CACxD,eAAe,EACf,mCAAmC,CACpC,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CACxD,qBAAqB,EACrB,uCAAuC,CACxC,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CACxD,qBAAqB,EACrB,+CAA+C,CAChD,CAAC;QAEF,qBAAqB;QACrB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QAEtE,qBAAqB;QACrB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QAEtE,YAAY;QACZ,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACxE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,cAAc,CACf,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,0BAA0B,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACzE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,eAAe,CAChB,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,aAAa,CACd,CAAC;QAEF,yBAAyB;QACzB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,qBAAqB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACpE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,UAAU,CACX,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,aAAa,CACd,CAAC;QAEF,gCAAgC;QAChC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,qBAAqB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACpE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,UAAU,CACX,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACxE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,cAAc,CACf,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,0BAA0B,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACzE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,eAAe,CAChB,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,aAAa,CACd,CAAC;QAEF,oCAAoC;QACpC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,qBAAqB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACpE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,UAAU,CACX,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACxE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,cAAc,CACf,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,0BAA0B,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACzE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,eAAe,CAChB,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,aAAa,CACd,CAAC;QAEF,yBAAyB;QACzB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,qBAAqB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACpE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,UAAU,CACX,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,aAAa,CACd,CAAC;QAEF,gCAAgC;QAChC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,qBAAqB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACpE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,UAAU,CACX,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACxE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,cAAc,CACf,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,0BAA0B,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACzE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,eAAe,CAChB,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,aAAa,CACd,CAAC;QAEF,mCAAmC;QACnC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,qBAAqB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACpE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,UAAU,CACX,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACxE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,cAAc,CACf,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,0BAA0B,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACzE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,eAAe,CAChB,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,aAAa,CACd,CAAC;QAEF,yBAAyB;QACzB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,qBAAqB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACpE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,UAAU,CACX,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,aAAa,CACd,CAAC;QAEF,gCAAgC;QAChC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,qBAAqB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACpE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,UAAU,CACX,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACxE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,cAAc,CACf,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,0BAA0B,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACzE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,eAAe,CAChB,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,aAAa,CACd,CAAC;QAEF,mCAAmC;QACnC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,uBAAuB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACtE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,qBAAqB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACpE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,UAAU,CACX,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACxE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,cAAc,CACf,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,0BAA0B,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACzE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,eAAe,CAChB,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC,EAAE,CAAC,kBAAkB,CACvE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,EACjC,aAAa,CACd,CAAC;IACJ,CAAC;IAED;;;;;OAKG;IACI,iBAAiB,CACtB,kBAA0B,EAC1B,oBAA4B;QAE5B,wBAAwB;QACxB,IAAI,aAAa,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,EAAG,CAAC;QAE7C,IAAI,UAAU,GAAG,IAAI,CAAC,mBAAmB,CACvC,IAAI,CAAC,EAAE,CAAC,aAAa,EACrB,kBAAkB,CACnB,CAAC;QAEF,IAAI,CAAC,UAAU,EAAE;YACf,cAAc,CAAC,8BAA8B,CAAC,CAAC;YAC/C,OAAO,CAAC,CAAC;SACV;QAED,IAAI,UAAU,GAAG,IAAI,CAAC,mBAAmB,CACvC,IAAI,CAAC,EAAE,CAAC,eAAe,EACvB,oBAAoB,CACrB,CAAC;QACF,IAAI,CAAC,UAAU,EAAE;YACf,cAAc,CAAC,8BAA8B,CAAC,CAAC;YAC/C,OAAO,CAAC,CAAC;SACV;QAED,kCAAkC;QAClC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;QAEhD,oCAAoC;QACpC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;QAEhD,eAAe;QACf,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QACnC,MAAM,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,mBAAmB,CAC5C,aAAa,EACb,IAAI,CAAC,EAAE,CAAC,WAAW,CACpB,CAAC;QAEF,oBAAoB;QACpB,IAAI,CAAC,UAAU,EAAE;YACf,cAAc,CAAC,6BAA6B,EAAE,aAAa,CAAC,CAAC;YAE7D,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;YAEjC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;YAEjC,IAAI,aAAa,EAAE;gBACjB,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;aACtC;YAED,OAAO,CAAC,CAAC;SACV;QAED,uCAAuC;QACvC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QACjC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QAEjC,OAAO,aAAa,CAAC;IACvB,CAAC;IAED;;;;;;OAMG;IACI,mBAAmB,CACxB,UAAkB,EAClB,YAAoB;QAEpB,MAAM,MAAM,GAAW,YAAY,CAAC;QAEpC,MAAM,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC;QACjD,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACrC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAE9B,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAC7C,cAAc,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;SACjD;QAED,MAAM,MAAM,GAAQ,IAAI,CAAC,EAAE,CAAC,kBAAkB,CAC5C,MAAM,EACN,IAAI,CAAC,EAAE,CAAC,cAAc,CACvB,CAAC;QACF,IAAI,CAAC,MAAM,EAAE;YACX,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAC7B,OAAO,IAAI,CAAC;SACb;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;IAEM,KAAK,CAAC,EAAyB;QACpC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;IACf,CAAC;CAIF;AAiBD,IAAY,WAkBX;AAlBD,WAAY,WAAW;IACrB,YAAY;IACZ,+EAAqB;IAErB,SAAS;IACT,6GAAoC;IACpC,yHAA0C;IAC1C,yIAAkD;IAElD,MAAM;IACN,uGAAiC;IACjC,mHAAuC;IACvC,mIAA+C;IAE/C,OAAO;IACP,yGAAkC;IAClC,qHAAwC;IACxC,qIAAgD;AAClD,CAAC,EAlBW,WAAW,KAAX,WAAW,QAkBtB;AAEM,MAAM,wBAAwB,GACnC,gCAAgC;IAChC,gCAAgC;IAChC,gCAAgC;IAChC,6BAA6B;IAC7B,kCAAkC;IAClC,aAAa;IACb,GAAG;IACH,6CAA6C;IAC7C,yCAAyC;IACzC,6BAA6B;IAC7B,uCAAuC;IACvC,GAAG,CAAC;AACC,MAAM,0BAA0B,GACrC,0BAA0B;IAC1B,gCAAgC;IAChC,6BAA6B;IAC7B,iCAAiC;IACjC,mCAAmC;IACnC,gCAAgC;IAChC,aAAa;IACb,GAAG;IACH,sBAAsB;IACtB,iDAAiD;IACjD,mDAAmD;IACnD,mDAAmD;IACnD,oDAAoD;IACpD,mFAAmF;IACnF,GAAG,CAAC;AAEN,6BAA6B;AAC7B,yBAAyB;AAClB,MAAM,eAAe,GAC1B,gCAAgC,GAAG,UAAU;IAC7C,gCAAgC,GAAG,YAAY;IAC/C,gCAAgC,GAAG,cAAc;IACjD,8BAA8B;IAC9B,aAAa;IACb,GAAG;IACH,yCAAyC;IACzC,6BAA6B;IAC7B,uCAAuC;IACvC,GAAG,CAAC;AAEN,0CAA0C;AACnC,MAAM,qBAAqB,GAChC,gCAAgC;IAChC,gCAAgC;IAChC,gCAAgC;IAChC,+BAA+B;IAC/B,8BAA8B;IAC9B,kCAAkC;IAClC,aAAa;IACb,GAAG;IACH,yCAAyC;IACzC,2CAA2C;IAC3C,6BAA6B;IAC7B,uCAAuC;IACvC,GAAG,CAAC;AAEN,6BAA6B;AAC7B,8CAA8C;AACvC,MAAM,mCAAmC,GAC9C,0BAA0B;IAC1B,gCAAgC,GAAG,cAAc;IACjD,iCAAiC;IACjC,gCAAgC,GAAG,UAAU;IAC7C,aAAa;IACb,GAAG;IACH,qEAAqE;IACrE,GAAG,CAAC;AAEN,gDAAgD;AACzC,MAAM,uCAAuC,GAClD,0BAA0B;IAC1B,gCAAgC;IAChC,+BAA+B;IAC/B,iCAAiC;IACjC,mCAAmC;IACnC,gCAAgC;IAChC,gCAAgC;IAChC,aAAa;IACb,GAAG;IACH,yEAAyE;IACzE,+FAA+F;IAC/F,uEAAuE;IACvE,yCAAyC;IACzC,gCAAgC;IAChC,GAAG,CAAC;AAEN,kEAAkE;AAC3D,MAAM,+CAA+C,GAC1D,0BAA0B;IAC1B,0BAA0B;IAC1B,yBAAyB;IACzB,+BAA+B;IAC/B,+BAA+B;IAC/B,6BAA6B;IAC7B,2BAA2B;IAC3B,aAAa;IACb,GAAG;IACH,qEAAqE;IACrE,4FAA4F;IAC5F,oEAAoE;IACpE,8CAA8C;IAC9C,6BAA6B;IAC7B,GAAG,CAAC;AAEN;;GAEG;AACI,MAAM,yCAAqB,SAAQ,6BAAc;IAwEtD;;OAEG;IACH;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC;QAC1C,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC;QAC1C,IAAI,CAAC,gBAAgB,GAAG,IAAI,gDAA2B,EAAE,CAAC;QAC1D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,wBAAwB,GAAG,EAAE,CAAC;QACnC,IAAI,CAAC,WAAW,GAAG;YACjB,MAAM,EAAE,IAAI;YACZ,EAAE,EAAE,IAAI;YACR,KAAK,EAAE,IAAI;SACZ,CAAC;IACJ,CAAC;IAvFD;;;;;OAKG;IACI,UAAU,CAAC,KAAkB;QAClC,IAAI,KAAK,CAAC,cAAc,EAAE,EAAE;YAC1B,IAAI,CAAC,gBAAgB,GAAG,IAAI,gDAA2B,EAAE,CAAC,CAAC,0BAA0B;YACrF,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAC9B,KAAK,EACL,KAAK,CAAC,gBAAgB,EAAE,EACxB,KAAK,CAAC,gBAAgB,EAAE,EACxB,KAAK,CAAC,qBAAqB,EAAE,CAC9B,CAAC;SACH;QAED,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,gBAAgB,EAAE,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YACtD,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;SACtC;QAED,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,aAAa;IACxC,CAAC;IAED;;;;;OAKG;IACI,WAAW,CAAC,cAAsB,EAAE,SAAuB;QAChE,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,SAAS,CAAC;IAC7C,CAAC;IAED;;;OAGG;IACI,iBAAiB;QACtB,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED;;;;OAIG;IACI,yBAAyB,CAAC,IAAY;QAC3C,yCAAyC;QACzC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;QAEhC,IAAI,CAAC,gBAAgB,GAAG,IAAI,gDAA2B,EAAE,CAAC;QAE1D,IAAI,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;QAEtD,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAC9B,IAAI,CAAC,QAAQ,EAAE,EACf,IAAI,CAAC,QAAQ,EAAE,CAAC,gBAAgB,EAAE,EAClC,IAAI,CAAC,QAAQ,EAAE,CAAC,gBAAgB,EAAE,EAClC,IAAI,CAAC,QAAQ,EAAE,CAAC,qBAAqB,EAAE,CACxC,CAAC;IACJ,CAAC;IAED;;;OAGG;IACI,yBAAyB;QAC9B,OAAO,IAAI,CAAC,gBAAgB,CAAC,yBAAyB,EAAE,CAAC;IAC3D,CAAC;IAoBD;;OAEG;IACI,OAAO;;QACZ,MAAM,IAAI,GAAG,IAAqB,CAAC;QAEnC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;QAChC,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;QAElC,UAAI,CAAC,EAAE,0CAAE,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;QAC/C,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;QAC/B,UAAI,CAAC,EAAE,0CAAE,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE;QAC3C,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,IAAI,CAAC;QAC3B,UAAI,CAAC,EAAE,0CAAE,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE;QAC9C,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;QAE7B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC7B,CAAC;IAED;;OAEG;IACI,WAAW;QAChB,kCAAkC;QAClC,IAAI,CAAC,OAAO,EAAE,CAAC;QAEf,kDAAkD;QAClD,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,EAAE;YACjC,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,CAAC;SACnE;QAED,MAAM,aAAa,GAAW,IAAI,CAAC,QAAQ,EAAE,CAAC,gBAAgB,EAAE,CAAC;QACjE,MAAM,WAAW,GAAe,IAAI,CAAC,QAAQ,EAAE,CAAC,uBAAuB,EAAE,CAAC;QAE1E,iBAAiB;QACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,EAAE,CAAC,EAAE;YACtC,MAAM,KAAK,GAAW,WAAW,CAAC,CAAC,CAAC,CAAC;YACrC,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;SAC1C;QAED,KAAK;QACL,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,EAAE,CAAC,EAAE;YACtC,MAAM,aAAa,GAAW,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC;YAE/D,4BAA4B;YAC5B,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,+BAA+B,CAAC,aAAa,CAAC,EAAE;gBACnE,SAAS;aACV;YAED,kBAAkB;YAClB,IAAI,CAAC,+BAA+B,CAClC,IAAI,CAAC,gBAAgB,IAAI,IAAI;gBAC3B,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,6BAA6B,EAAE,CAAC,aAAa,CAAC;gBACtE,CAAC,CAAC,IAAI,CACT,CAAC;YAEF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,aAAa,CAAC,CAAC,CAAC;YAErE,IAAI,CAAC,QAAQ,CACX,IAAI,CAAC,QAAQ,EAAE,CAAC,yBAAyB,CAAC,aAAa,CAAC,EACxD,IAAI,CAAC,QAAQ,EAAE,CAAC,2BAA2B,CAAC,aAAa,CAAC,EAC1D,IAAI,CAAC,QAAQ,EAAE,CAAC,sBAAsB,CAAC,aAAa,CAAC,EACrD,IAAI,CAAC,QAAQ,EAAE,CAAC,wBAAwB,CAAC,aAAa,CAAC,EACvD,IAAI,CAAC,QAAQ,EAAE,CAAC,mBAAmB,CAAC,aAAa,CAAC,EAClD,IAAI,CAAC,QAAQ,EAAE,CAAC,oBAAoB,CAAC,aAAa,CAAC,EACnD,IAAI,CAAC,QAAQ,EAAE,CAAC,kBAAkB,CAAC,aAAa,CAAC,EACjD,IAAI,CAAC,QAAQ,EAAE,CAAC,oBAAoB,CAAC,aAAa,CAAC,EACnD,IAAI,CAAC,QAAQ,EAAE,CAAC,0BAA0B,CAAC,aAAa,CAAC,CAC1D,CAAC;SACH;IACH,CAAC;IAED;;;;;;;;;;;;;OAaG;IACI,QAAQ,CACb,SAAiB,EACjB,UAAkB,EAClB,WAAmB,EACnB,UAAuB,EACvB,WAAyB,EACzB,OAAqB,EACrB,OAAe,EACf,cAA+B,EAC/B,YAAqB;QAErB,aAAa;QACb,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YACpB,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;SACnC;aAAM;YACL,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;SACpC;QAED,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,wCAAwC;QAExE,MAAM,cAAc,GAAuB,IAAI,CAAC,aAAa,EAAE,CAAC;QAEhE,IAAI,IAAI,CAAC,+BAA+B,EAAE,IAAI,IAAI,EAAE;YAClD,WAAW;YACX,cAAc,CAAC,CAAC,IAAI,OAAO,CAAC;YAC5B,IAAI,IAAI,CAAC,oBAAoB,EAAE,EAAE;gBAC/B,cAAc,CAAC,CAAC,IAAI,cAAc,CAAC,CAAC,CAAC;gBACrC,cAAc,CAAC,CAAC,IAAI,cAAc,CAAC,CAAC,CAAC;gBACrC,cAAc,CAAC,CAAC,IAAI,cAAc,CAAC,CAAC,CAAC;aACtC;SACF;QAED,IAAI,WAAW,GAAwB,IAAI,CAAC,CAAC,eAAe;QAE5D,6BAA6B;QAC7B,gCAAgC;QAChC,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,IAAI,EAAE;YACrC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;SACzC;QAED,uCAAkB,CAAC,WAAW,EAAE,CAAC,kBAAkB,CACjD,IAAI,EACJ,WAAW,EACX,WAAW,EACX,WAAW,EACX,UAAU,EACV,OAAO,EACP,IAAI,CAAC,WAAW,EAChB,OAAO,EACP,cAAc,EACd,cAAc,EACd,IAAI,CAAC,oBAAoB,EAAE,EAC3B,IAAI,CAAC,YAAY,EAAE,EACnB,YAAY,CACb,CAAC;QAEF,gBAAgB;QAChB,IAAI,CAAC,EAAE,CAAC,YAAY,CAClB,IAAI,CAAC,EAAE,CAAC,SAAS,EACjB,UAAU,EACV,IAAI,CAAC,EAAE,CAAC,cAAc,EACtB,CAAC,CACF,CAAC;QAEF,MAAM;QACN,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,+BAA+B,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,+BAA+B,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED;;;OAGG;IACI,MAAM,CAAC,eAAe;QAC3B,uCAAkB,CAAC,cAAc,EAAE,CAAC;IACtC,CAAC;IAED;;;;OAIG;IACI,cAAc,CAAC,GAAqB,EAAE,QAAkB;QAC7D,KAAK,GAAG,GAAG,CAAC;QACZ,UAAU,GAAG,QAAQ,CAAC;IACxB,CAAC;IAED;;;OAGG;IACI,OAAO;QACZ,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YAEvB,aAAa;YACb,IAAI,CAAC,WAAW;gBACd,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,gCAAgC,CAAC;oBACtD,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,uCAAuC,CAAC;oBAC7D,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,oCAAoC,CAAC,CAAC;SAC9D;QAED,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;QACtC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;QACtC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;QAEpC,iBAAiB;QACjB,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAE9B,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QAE1C,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC,6BAA6B;QAC7E,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;IACzD,CAAC;IAED;;OAEG;IACI,+BAA+B,CAAC,IAAkC;QACvE,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC;IAC5C,CAAC;IAED;;;OAGG;IACI,+BAA+B;QACpC,OAAO,IAAI,CAAC,6BAA6B,CAAC;IAC5C,CAAC;IAED;;OAEG;IACI,+BAA+B,CAAC,IAAkC;QACvE,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC;IAC5C,CAAC;IAED;;;OAGG;IACI,+BAA+B;QACpC,OAAO,IAAI,CAAC,6BAA6B,CAAC;IAC5C,CAAC;IAED;;OAEG;IACI,OAAO,CAAC,EAAyB;QACtC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QAChC,uCAAkB,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAC7C,CAAC;CAcF;AAED;;GAEG;AACH,6BAAc,CAAC,aAAa,GAAG,GAAS,EAAE;IACxC,yCAAoB,CAAC,eAAe,EAAE,CAAC;AACzC,CAAC,CAAC;;;;;;;;;;ACniEyF;AAErB;AAS5B;AACsC;AACjB;AAEF;AAIqC;AAC9D;AACC;AAErC,MAAM,UAAU,GAAG,IAAI,cAAc,EAAE,CAAC;AAEjC,MAAM,yCAAqB,SAAQ,sCAAa;IAqCnD,YAAY,SAAsB,EAAE,QAA8B,EAAE,OAA8B;QAC9F,KAAK,EAAE,CAAC;QAjCZ,YAAO,GAAG,IAAI,CAAC;QAEf,WAAM,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC;QAQ/B,aAAQ,GAAG,IAAI,yCAAoB,EAAE,CAAC;QAEtC,kBAAa,GAAG,WAAW,CAAC;QAC5B,kBAAa,GAAG,WAAW,CAAC;QAC5B,kBAAa,GAAG,WAAW,CAAC;QAC5B,oBAAe,GAAG,aAAa,CAAC;QAChC,oBAAe,GAAG,aAAa,CAAC;QAChC,sBAAiB,GAAG,eAAe,CAAC;QACpC,kBAAa,GAAG,WAAW,CAAC;QAE5B;;WAEG;QACM,kBAAa,GAAW,CAAC,CAAC;QAEnC;;;;WAIG;QACO,uBAAkB,GAAG,IAAI,yBAAM,EAAE,CAAC;QAKxC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,aAAa,GAAG,IAAI,yCAAoB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QAEjE,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAES,IAAI;;QACV,KAAK,CAAC,IAAI,EAAE,CAAC;QAEb,IAAI,WAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,0CAAE,MAAO,IAAG,CAAC,EAAE;YACpD,IAAI,CAAC,QAAQ,GAAG,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACxD;QAED,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC;YACtB,IAAI,mBAAmB,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,CAAC;YACnE,IAAI,mBAAmB,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC;YAClE,IAAI,mBAAmB,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,CAAC;YACnE,IAAI,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,EAAE,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,CAAC;YACvE,IAAI,mBAAmB,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC;SACrE,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzC,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC;IAES,OAAO;QACb,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;IACjH,CAAC;IAES,SAAS;QACf,6DAA6D;QAC7D,0BAA0B;QAC1B,OAAO,iBAAO,mBAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAI,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACxG,CAAC;IAES,WAAW;QACjB,KAAK,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAsB,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC;QAE3F,0CAA0C;QAC1C,IAAI,CAAC,kBAAkB;aAClB,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC;aAC7C,SAAS,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;IACpE,CAAC;IAED,kBAAkB,CAAC,EAAyB,EAAE,WAAmB;QAC7D,4DAA4D;QAC5D,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG;YACxB,MAAM,EAAE,IAAI;YACZ,EAAE,EAAE,IAAI;YACR,KAAK,EAAE,IAAI;SACd,CAAC;QACF,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,eAAe,GAAG,WAAW,CAAC;QAC7D,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,YAAY,GAAG,SAAS,CAAC;QACxD,uCAAkB,CAAC,WAAW,EAAE,CAAC,WAAW,GAAG,EAAE,CAAC;IACtD,CAAC;IAED,WAAW,CAAC,KAAa,EAAE,OAAqB;QAC5C,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAC9C,CAAC;IAES,cAAc;;QACpB,mBAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,0CAAE,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC3C,EAAE,EAAE,OAAO,CAAC,EAAE;YACd,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,CAAC;SACrD,CAAC,oCAAK,EAAE,CAAC;IACd,CAAC;IAED,cAAc;QACV,OAAO,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;IAC3C,CAAC;IAED,gBAAgB,CAAC,EAAU;QACvB,OAAO,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;IAC/C,CAAC;IAED,mBAAmB,CAAC,SAA0B;QAC1C,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;YAC/B,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;YAEvD,IAAI,SAAS,KAAK,CAAC,CAAC;gBAAE,MAAM,IAAI,SAAS,CAAC,8BAA8B,GAAG,SAAS,CAAC,CAAC;SACzF;QAED,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,CAAC;QAElE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;YACpC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAE,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YAC/D,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAE,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;SAC5E;QAED,OAAO,GAAG,CAAC;IACf,CAAC;IAED,eAAe,CAAC,SAAiB;QAC7B,IAAI,CAAC,aAAa;aACb,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;aACjC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC;aAC5B,OAAO,CAAC,SAAS,CAAC,CAAC;IAC5B,CAAC;IAEM,MAAM,CAAC,EAAuB,EAAE,GAAwB;;QAC3D,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;QAEtB,uBAAuB;QACvB,EAAE,IAAI,IAAI,CAAC;QACX,GAAG,IAAI,IAAI,CAAC;QAEZ,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;QAE7B,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAEhC,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;QAErE,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAE/B,KAAK,CAAC,cAAc,EAAE,CAAC;QAEvB,IAAI,CAAC,aAAa,EAAE;YAChB,UAAI,CAAC,QAAQ,0CAAE,gBAAgB,CAAC,KAAK,EAAE,EAAE,EAAE;SAC9C;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,2CAA2C;QAC3C,IAAI,CAAC,sBAAsB,CAAC,EAAE,GAAG,IAAI,EAAE,GAAG,GAAG,IAAI,CAAC,CAAC;QAEnD,yBAAyB;QACzB,sBAAsB;QACtB,gCAAgC;QAChC,EAAE;QACF,yDAAyD;QACzD,uEAAuE;QACvE,QAAQ;QACR,IAAI;QAEJ,UAAI,CAAC,OAAO,0CAAE,QAAQ,CAAC,KAAK,EAAE,EAAE,EAAE;QAClC,UAAI,CAAC,IAAI,0CAAE,gBAAgB,CAAC,KAAK,EAAE,EAAE,EAAE;QAEvC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAE/B,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,KAAK,CAAC,cAAc,EAAE,CAAC;IAC3B,CAAC;IAED,WAAW;QACP,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;QAC7F,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QACnF,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,WAAW;QAClG,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QACtF,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAChH,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,WAAW;IAC1G,CAAC;IAED,sBAAsB,CAAC,EAAuB,EAAE,GAAwB;;QACpE,UAAI,CAAC,MAAM,0CAAE,gBAAgB,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,GAAG,IAAI,EAAE;IAC7D,CAAC;IAED,IAAI,CAAC,EAAyB;QAC1B,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;QAClC,MAAM,KAAK,GAAG,UAAU,CAAC,QAAQ,EAAE,CAAC;QAEpC,0DAA0D;QAC1D,KAAK,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;QACpB,KAAK,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;QACpB,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;QACrB,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;QACrB,KAAK,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC;QACtB,KAAK,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC;QAEtB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QACvC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,mBAAmB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrF,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IAC9B,CAAC;IAED,OAAO;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAEhB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QAExB,IAAsB,CAAC,QAAQ,GAAG,SAAS,CAAC;QAC5C,IAAsB,CAAC,SAAS,GAAG,SAAS,CAAC;IAClD,CAAC;CACJ;;;AC9PgC;AAC8D;AAE/F,IAAI,cAA6B,CAAC;AAClC,IAAI,cAAc,GAAG,EAAE,CAAC;AAExB;;;GAGG;AACI,SAAS,YAAY;IACxB,IAAI,qCAAe,CAAC,SAAS,EAAE,EAAE;QAC7B,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;KAC5B;IAED,cAAc,aAAd,cAAc,cAAd,cAAc,IAAd,cAAc,GAAK,IAAI,OAAO,CAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QACtD,SAAS,gBAAgB;YACrB,IAAI;gBACA,cAAc,EAAE,CAAC;gBACjB,OAAO,EAAE,CAAC;aACb;YAAC,OAAO,CAAC,EAAE;gBACR,cAAc,EAAE,CAAC;gBAEjB,IAAI,cAAc,GAAG,CAAC,EAAE;oBACpB,MAAM,GAAG,GAAG,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;oBAE/D,GAAW,CAAC,KAAK,GAAG,CAAC,CAAC;oBAEvB,MAAM,CAAC,GAAG,CAAC,CAAC;oBACZ,OAAO;iBACV;gBAED,uBAAM,CAAC,GAAG,CAAC,SAAS,EAAE,wCAAwC,CAAC,CAAC;gBAEhE,UAAU,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC;aACpC;QACL,CAAC;QAED,gBAAgB,EAAE,CAAC;IACvB,CAAC,CAAC,CAAC,EAAC;IAEJ,OAAO,cAAc,CAAC;AAC1B,CAAC;AAED;;GAEG;AACI,SAAS,cAAc,CAAC,OAA6B;IACxD,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC;QACpB,WAAW,EAAE,OAAO,CAAC,GAAG;QACxB,YAAY,EAAE,QAAQ,CAAC,gBAAgB;KAC1C,EAAE,OAAO,CAAC,CAAC;IAEZ,qCAAe,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACjC,qCAAe,CAAC,UAAU,EAAE,CAAC;AACjC,CAAC;;;;;;ACvDD;;;;;GAKG;AAIH,MAAM,OAAO,GAAG,KAAK,CAAC;AACtB,MAAM,oBAAoB,GAAG,GAAG,CAAC;AAEjC;;;;GAIG;AACI,MAAM,UAAU;IA2PrB;;OAEG;IACH;QACE,IAAI,CAAC,gBAAgB,GAAG,oBAAoB,CAAC;QAC7C,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;IAC7B,CAAC;IAlQD;;;;OAIG;IACI,MAAM,CAAC,MAAM,CAAC,SAA8B;QACjD,MAAM,GAAG,GAAe,IAAI,UAAU,EAAE,CAAC;QAEzC,YAAY;QACZ,IAAI,OAAO,SAAS,CAAC,UAAU,KAAK,QAAQ,EAAE;YAC5C,GAAG,CAAC,gBAAgB,GAAG,SAAS,CAAC,UAAU,CAAC;YAE5C,IAAI,GAAG,CAAC,gBAAgB,IAAI,GAAG,EAAE;gBAC/B,GAAG,CAAC,gBAAgB,GAAG,oBAAoB,CAAC;aAC7C;SACF;QAED,UAAU;QACV,MAAM,YAAY,GAAG,SAAS,CAAC,MAAM,CAAC;QACtC,MAAM,SAAS,GAAW,YAAY,CAAC,MAAM,CAAC;QAE9C,KAAK,IAAI,SAAS,GAAG,CAAC,EAAE,SAAS,GAAG,SAAS,EAAE,EAAE,SAAS,EAAE;YAC1D,MAAM,UAAU,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC;YAC3C,MAAM,OAAO,GAAW,UAAU,CAAC,MAAM,CAAC;YAC1C,IAAI,UAAU,GAAG,CAAC,CAAC;YAEnB,KAAK,IAAI,UAAU,GAAG,CAAC,EAAE,UAAU,GAAG,OAAO,EAAE,EAAE,UAAU,EAAE;gBAC3D,MAAM,QAAQ,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC;gBACxC,MAAM,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;gBAE1C,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,EAAE,CAAC;gBAE9B,MAAM,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC;gBAEnC,cAAc;gBACd,IAAI,YAAY,EAAE;oBAChB,MAAM,SAAS,GAAW,YAAY,CAAC,MAAM,CAAC;oBAE9C,KAAK,IAAI,SAAS,GAAG,CAAC,EAAE,SAAS,GAAG,SAAS,EAAE,EAAE,SAAS,EAAE;wBAC1D,MAAM,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;wBAE1C,QAAQ,CAAC,MAAM,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC;wBAE1C,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBAC9B;iBACF;gBAED,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAE/B,EAAE,UAAU,CAAC;aACd;YAED,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACvC;QAED,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;;OAIG;IACI,gBAAgB,CACrB,KAAkB,EAClB,gBAAwB;QAExB,wBAAwB;QACxB,IAAI,KAAK,IAAI,IAAI,CAAC,UAAU,EAAE;YAC5B,kBAAkB;YAClB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACnB;QAED,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAExB,6CAA6C;QAC7C,IAAI,gBAAgB,GAAG,GAAG,EAAE;YAC1B,gBAAgB,GAAG,GAAG,CAAC;SACxB;QAED,IAAI,UAAU,GAAG,CAAC,CAAC;QAEnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrD,MAAM,cAAc,GAAW,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAExD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,gBAAgB,EAAE,UAAU,EAAE,cAAc,CAAC,CAAC;YAEjE,UAAU,IAAI,cAAc,CAAC;SAC9B;QAED,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED;;;;OAIG;IACI,KAAK,CAAC,KAAkB;QAC7B,IAAI,UAAU,GAAG,CAAC,CAAC;QAEnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACrD,MAAM,UAAU,GAAW,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAEpD,KAAK,IAAI,CAAC,GAAW,UAAU,EAAE,CAAC,GAAG,UAAU,GAAG,UAAU,EAAE,EAAE,CAAC,EAAE;gBACjE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;gBAEtC,MAAM,UAAU,GAAW,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;gBACzD,MAAM,UAAU,GAAW,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC;gBAE9D,IAAI,UAAU,GAAG,CAAC,EAAE;oBAClB,SAAS;iBACV;gBAED,KAAK,CAAC,qBAAqB,CAAC,UAAU,EAAE,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;gBACrE,KAAK,CAAC,wBAAwB,CAC5B,UAAU,EACV,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAC5B,CAAC;gBAEF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;oBACxD,IAAI,CAAC,WAAW,CACb,CAAC,CAAC;yBACF,IAAI,CAAC,CAAC,CAAC;yBACP,UAAU,CAAC,KAAK,CAAC,CAAC;iBACtB;aACF;YAED,UAAU,IAAI,UAAU,CAAC;SAC1B;IACH,CAAC;IAED;;;;OAIG;IACI,iBAAiB,CAAC,KAAkB;QACzC,KACE,IAAI,UAAU,GAAG,CAAC,EAClB,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EACpC,EAAE,UAAU,EACZ;YACA,MAAM,QAAQ,GAAa,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;YAExD,IAAI,QAAQ,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;gBAC7B,SAAS,CAAC,eAAe;aAC1B;YAED,MAAM,SAAS,GAAW,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC;YACjE,MAAM,OAAO,GAAW,KAAK,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;YAE/D,KACE,IAAI,SAAS,GAAG,CAAC,EACjB,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,EAChC,EAAE,SAAS,EACX;gBACA,MAAM,QAAQ,GAAa,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACpD,MAAM,aAAa,GAAW,QAAQ,CAAC,SAAS,CAAC;gBAEjD,IAAI,aAAa,GAAG,CAAC,EAAE;oBACrB,SAAS;iBACV;gBAED,KAAK,CAAC,qBAAqB,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;aACrD;SACF;IACH,CAAC;IAED;;;;;;OAMG;IACI,MAAM,CACX,KAAkB,EAClB,gBAAwB,EACxB,UAAkB,EAClB,cAAsB;QAEtB,IAAI,gBAAgB,GAAG,CAAC,CAAC,CAAC;QAC1B,IAAI,UAAU,GAAG,GAAG,CAAC;QAErB,MAAM,GAAG,GAAG,GAAG,CAAC;QAChB,MAAM,oBAAoB,GAAG,IAAI,CAAC;QAElC,sBAAsB;QACtB,KAAK,IAAI,CAAC,GAAW,UAAU,EAAE,CAAC,GAAG,UAAU,GAAG,cAAc,EAAE,EAAE,CAAC,EAAE;YACrE,MAAM,SAAS,GAAW,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YACxD,MAAM,UAAU,GAAW,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC;YAE9D,IAAI,KAAK,CAAC,wBAAwB,CAAC,UAAU,CAAC,GAAG,OAAO,EAAE;gBACxD,IAAI,gBAAgB,IAAI,CAAC,EAAE;oBACzB,MAAM;iBACP;gBAED,gBAAgB,GAAG,CAAC,CAAC;gBACrB,UAAU,GAAG,KAAK,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;gBAEpD,aAAa;gBACb,UAAU,IAAI,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBAEvD,IAAI,UAAU,GAAG,GAAG,EAAE;oBACpB,UAAU,GAAG,GAAG,CAAC;iBAClB;aACF;SACF;QAED,IAAI,gBAAgB,GAAG,CAAC,EAAE;YACxB,gBAAgB,GAAG,CAAC,CAAC;YACrB,UAAU,GAAG,GAAG,CAAC;SAClB;QAED,yBAAyB;QACzB,KAAK,IAAI,CAAC,GAAW,UAAU,EAAE,CAAC,GAAG,UAAU,GAAG,cAAc,EAAE,EAAE,CAAC,EAAE;YACrE,MAAM,UAAU,GAAW,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAEzD,WAAW;YACX,IAAI,gBAAgB,IAAI,CAAC,EAAE;gBACzB,KAAK,CAAC,qBAAqB,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,CAAC,OAAO;aAC7D;YACD,YAAY;iBACP;gBACH,IAAI,OAAO,GAAW,KAAK,CAAC,qBAAqB,CAAC,UAAU,CAAC,CAAC;gBAC9D,IAAI,EAAU,CAAC,CAAC,kBAAkB;gBAElC,IAAI,UAAU,GAAG,GAAG,EAAE;oBACpB,EAAE,GAAG,CAAC,UAAU,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,wBAAwB;iBACpE;qBAAM;oBACL,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,wBAAwB;iBACtE;gBAED,kBAAkB;gBAClB,MAAM,WAAW,GAAW,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,UAAU,CAAC,CAAC;gBAE5D,IAAI,WAAW,GAAG,oBAAoB,EAAE;oBACtC,EAAE,GAAG,GAAG,GAAG,oBAAoB,GAAG,CAAC,GAAG,GAAG,UAAU,CAAC,CAAC;iBACtD;gBAED,IAAI,OAAO,GAAG,EAAE,EAAE;oBAChB,OAAO,GAAG,EAAE,CAAC,CAAC,gCAAgC;iBAC/C;gBAED,KAAK,CAAC,qBAAqB,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;aAClD;SACF;IACH,CAAC;CAgBF;AAED;;GAEG;AACI,MAAM,QAAQ;IACnB;;OAEG;IACH,YAAY,CAAY;QACtB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QAEf,IAAI,CAAC,IAAI,SAAS,EAAE;YAClB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;SACpB;IACH,CAAC;IAED;;OAEG;IACI,UAAU,CAAC,CAAW;QAC3B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;QAE7C,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;OAGG;IACI,UAAU,CAAC,KAAkB;QAClC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3D,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEjD,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;IACzD,CAAC;IAED;;OAEG;IACI,KAAK;QACV,MAAM,aAAa,GAAa,IAAI,QAAQ,EAAE,CAAC;QAE/C,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QACnC,aAAa,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QACnD,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACzC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;QAEzD,OAAO,aAAa,CAAC;IACvB,CAAC;CAMF;;;ACrVD;;;;;GAKG;AAE2D;AACZ;AAElD;;;;GAIG;AACI,MAAM,uBAAW;IA+sBtB;;;OAGG;IACH,YAAmB,KAA6B;QAC9C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QAEnB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,wBAAwB,GAAG,EAAE,CAAC;QACnC,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;QAEjC,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IA/tBD;;OAEG;IACI,MAAM;QACX,eAAe;QACf,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;QAErB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC;IAC5C,CAAC;IAED;;OAEG;IACI,cAAc;QACnB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;YACvB,OAAO,GAAG,CAAC;SACZ;QAED,OAAO,CACL,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,WAAW;YAClC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CACrC,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,eAAe;QACpB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;YACvB,OAAO,GAAG,CAAC;SACZ;QAED,OAAO,CACL,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,YAAY;YACnC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CACrC,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,cAAc;QACnB,MAAM,cAAc,GAAW,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC;QAC5D,MAAM,mBAAmB,GAAW,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAEjE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,EAAE,EAAE,CAAC,EAAE;YACvC,IAAI,CAAC,GAAG,mBAAmB,EAAE;gBAC3B,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;aACrD;iBAAM;gBACL,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC;aACtD;SACF;IACH,CAAC;IAED;;OAEG;IACI,QAAQ;QACb,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED;;;;OAIG;IACI,YAAY,CAAC,MAAc;QAChC,IAAI,SAAiB,CAAC;QACtB,MAAM,SAAS,GAAW,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;QAElD,KAAK,SAAS,GAAG,CAAC,EAAE,SAAS,GAAG,SAAS,EAAE,EAAE,SAAS,EAAE;YACtD,IAAI,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;gBACtC,OAAO,SAAS,CAAC;aAClB;SACF;QAED,iDAAiD;QACjD,IAAI,MAAM,IAAI,IAAI,CAAC,eAAe,EAAE;YAClC,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;SACrC;QAED,8BAA8B;QAC9B,SAAS,GAAG,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;QACpD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,SAAS,CAAC;QACzC,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAE3C,OAAO,SAAS,CAAC;IACnB,CAAC;IAED;;;OAGG;IACI,YAAY;QACjB,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;IACjC,CAAC;IAED;;;;OAIG;IACI,qBAAqB,CAAC,SAAiB,EAAE,OAAe;QAC7D,IAAI,SAAS,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC5C,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC;YACjD,OAAO;SACR;QAED,eAAe;QACf,UAAU,CAAC,CAAC,IAAI,SAAS,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QAE9D,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC;IAC3C,CAAC;IAED;;;;OAIG;IACI,kBAAkB,CAAC,MAAc,EAAE,OAAe;QACvD,0DAA0D;QAC1D,MAAM,KAAK,GAAW,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QAEhD,IAAI,KAAK,GAAG,CAAC,EAAE;YACb,OAAO,CAAC,eAAe;SACxB;QAED,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAC7C,CAAC;IAED;;;;OAIG;IACI,qBAAqB,CAAC,SAAiB;QAC5C,IAAI,SAAS,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC5C,wCAAwC;YACxC,OAAO,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC;SAC/C;QAED,eAAe;QACf,UAAU,CAAC,CAAC,IAAI,SAAS,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QAE9D,OAAO,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;IACxC,CAAC;IAED;;;;OAIG;IACI,kBAAkB,CAAC,MAAc;QACtC,0DAA0D;QAC1D,MAAM,KAAK,GAAW,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QAEhD,IAAI,KAAK,GAAG,CAAC,EAAE;YACb,OAAO,CAAC,CAAC,CAAC,eAAe;SAC1B;QAED,OAAO,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC;IAC3C,CAAC;IAED;;;;OAIG;IACI,iBAAiB,CAAC,WAAmB;QAC1C,IAAI,cAAsB,CAAC;QAC3B,MAAM,OAAO,GAAW,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC;QAErD,KAAK,cAAc,GAAG,CAAC,EAAE,cAAc,GAAG,OAAO,EAAE,EAAE,cAAc,EAAE;YACnE,IAAI,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE;gBACrD,SAAS;aACV;YAED,OAAO,cAAc,CAAC;SACvB;QAED,+CAA+C;QAC/C,IAAI,WAAW,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC5C,OAAO,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC;SAC/C;QAED,+BAA+B;QAC/B,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC;QAE9F,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,GAAG,cAAc,CAAC;QACxD,IAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QAElD,OAAO,cAAc,CAAC;IACxB,CAAC;IAED;;;OAGG;IACI,iBAAiB;QACtB,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC;IACtC,CAAC;IAED;;;;OAIG;IACI,wBAAwB,CAAC,cAAsB;QACpD,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;IAC9D,CAAC;IAED;;;;OAIG;IACI,wBAAwB,CAAC,cAAsB;QACpD,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;IAC9D,CAAC;IAED;;;;OAIG;IACI,wBAAwB,CAAC,cAAsB;QACpD,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;IAC9D,CAAC;IAED;;;;OAIG;IACI,wBAAwB,CAAC,cAAsB;QACpD,IAAI,cAAc,IAAI,IAAI,CAAC,wBAAwB,EAAE;YACnD,OAAO,IAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC,CAAC;SACtD;QAED,eAAe;QACf,UAAU,CAAC,CAAC,IAAI,cAAc,IAAI,cAAc,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC;QAE7E,OAAO,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;IAC/C,CAAC;IAED;;;;OAIG;IACI,qBAAqB,CAAC,WAAmB;QAC9C,+DAA+D;QAC/D,MAAM,cAAc,GAAW,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;QACnE,OAAO,IAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC,CAAC;IACvD,CAAC;IAED;;;;;OAKG;IACI,wBAAwB,CAC7B,cAAsB,EACtB,KAAa,EACb,MAAM,GAAG,GAAG;QAEZ,IAAI,cAAc,IAAI,IAAI,CAAC,wBAAwB,EAAE;YACnD,IAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC;gBAC3C,MAAM,IAAI,CAAC;oBACT,CAAC,CAAC,KAAK;oBACP,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC;wBAC/C,CAAC,CAAC,GAAG,MAAM,CAAC;wBACZ,KAAK,GAAG,MAAM,CAAC;YAEnB,OAAO;SACR;QAED,eAAe;QACf,UAAU,CAAC,CAAC,IAAI,cAAc,IAAI,cAAc,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC;QAE7E,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,GAAG,KAAK,EAAE;YAChE,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;SAC9D;QACD,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,GAAG,KAAK,EAAE;YAChE,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;SAC9D;QAED,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC;YACnC,MAAM,IAAI,CAAC;gBACT,CAAC,CAAC,KAAK;gBACP,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC;oBACxC,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC;wBACpD,KAAK,GAAG,MAAM,CAAC,CAAC;IACtB,CAAC;IAED;;;;;OAKG;IACI,qBAAqB,CAC1B,WAAmB,EACnB,KAAa,EACb,MAAM,GAAG,GAAG;QAEZ,MAAM,KAAK,GAAW,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;QAC1D,IAAI,CAAC,wBAAwB,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IACtD,CAAC;IAED;;;;;OAKG;IACI,wBAAwB,CAC7B,cAAsB,EACtB,KAAa,EACb,MAAM,GAAG,GAAG;QAEZ,IAAI,CAAC,wBAAwB,CAC3B,cAAc,EACd,IAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC,GAAG,KAAK,GAAG,MAAM,CAC/D,CAAC;IACJ,CAAC;IAED;;;;;OAKG;IACI,qBAAqB,CAC1B,WAAgB,EAChB,KAAa,EACb,MAAM,GAAG,GAAG;QAEZ,MAAM,KAAK,GAAW,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;QAC1D,IAAI,CAAC,wBAAwB,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IACtD,CAAC;IAED;;;;;OAKG;IACI,0BAA0B,CAC/B,WAAmB,EACnB,KAAa,EACb,MAAM,GAAG,GAAG;QAEZ,MAAM,KAAK,GAAW,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;QAC1D,IAAI,CAAC,6BAA6B,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IAC3D,CAAC;IAED;;;;;OAKG;IACI,6BAA6B,CAClC,cAAsB,EACtB,KAAa,EACb,MAAM,GAAG,GAAG;QAEZ,IAAI,CAAC,wBAAwB,CAC3B,cAAc,EACd,IAAI,CAAC,wBAAwB,CAAC,cAAc,CAAC;YAC7C,CAAC,GAAG,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,MAAM,CAAC,CAC/B,CAAC;IACJ,CAAC;IAEM,cAAc;QACnB,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;IACnC,CAAC;IAED;;;;OAIG;IACI,gBAAgB,CAAC,UAAkB;QACxC,MAAM,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC;QAElD,KACE,IAAI,aAAa,GAAG,CAAC,EACrB,aAAa,GAAG,aAAa,EAC7B,EAAE,aAAa,EACf;YACA,IAAI,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,UAAU,EAAE;gBAClD,OAAO,aAAa,CAAC;aACtB;SACF;QAED,OAAO,CAAC,CAAC,CAAC;IACZ,CAAC;IAED;;;OAGG;IACI,gBAAgB;QACrB,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC;IACrC,CAAC;IAED;;;;OAIG;IACI,aAAa,CAAC,aAAqB;QACxC,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAClD,CAAC;IAED;;;OAGG;IACI,uBAAuB;QAC5B,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC;IAC5C,CAAC;IAED;;;;OAIG;IACI,yBAAyB,CAAC,aAAqB;QACpD,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;IAC7D,CAAC;IAED;;;;;;;;OAQG;IACI,8CAA8C,CACnD,aAAqB;QAErB,MAAM,YAAY,GAAe,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC;QACpE,OAAO,gBAAgB,CAAC,KAAK,CAAC,8BAA8B,CAC1D,YAAY,CAAC,aAAa,CAAC,CAC5B,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACI,2BAA2B,CAAC,aAAqB;QACtD,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;IAC1D,CAAC;IAED;;;;OAIG;IACI,sBAAsB,CAAC,aAAqB;QACjD,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;IAC3D,CAAC;IAED;;;;OAIG;IACI,mBAAmB,CAAC,aAAqB;QAC9C,OAAO,IAAI,CAAC,0BAA0B,CAAC,aAAa,CAAC,CAAC;IACxD,CAAC;IAED;;;;OAIG;IACI,wBAAwB,CAAC,aAAqB;QACnD,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;IACtD,CAAC;IAED;;;;OAIG;IACI,0BAA0B,CAAC,aAAqB;QACrD,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;IAC9D,CAAC;IAED;;;;OAIG;IACI,oBAAoB,CAAC,aAAqB;QAC/C,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;IACxD,CAAC;IAED;;;;OAIG;IACI,kBAAkB,CAAC,aAAqB;QAC7C,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;IACxD,CAAC;IAED;;;;OAIG;IACI,kBAAkB,CAAC,aAAqB;QAC7C,MAAM,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC;QAE1D,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,mBAAmB,CAChD,aAAa,CAAC,aAAa,CAAC,CAC7B,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACI,oBAAoB,CAAC,aAAqB;QAC/C,MAAM,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC;QAE1D,OAAO,gBAAgB,CAAC,KAAK,CAAC,mBAAmB,CAC/C,aAAa,CAAC,aAAa,CAAC,CAC7B;YACC,CAAC,CAAC,eAAe,CAAC,wBAAwB;YAC1C,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,yBAAyB,CAChD,aAAa,CAAC,aAAa,CAAC,CAC7B;gBACC,CAAC,CAAC,eAAe,CAAC,8BAA8B;gBAChD,CAAC,CAAC,eAAe,CAAC,sBAAsB,CAAC;IAC/C,CAAC;IAED;;;;;;;;OAQG;IACI,0BAA0B,CAAC,aAAqB;QACrD,MAAM,aAAa,GAAe,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC;QAEtE,OAAO,gBAAgB,CAAC,KAAK,CAAC,oBAAoB,CAChD,aAAa,CAAC,aAAa,CAAC,CAC7B,CAAC;IACJ,CAAC;IAED;;;OAGG;IACI,gBAAgB;QACrB,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC;IACrC,CAAC;IAED;;;OAGG;IACI,qBAAqB;QAC1B,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC;IAC1C,CAAC;IAED;;;;;OAKG;IACI,cAAc;QACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE;YACpD,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;gBAC5C,SAAS;aACV;YACD,OAAO,IAAI,CAAC;SACb;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;;;OAMG;IACI,+BAA+B,CAAC,aAAqB;QAC1D,MAAM,YAAY,GAAe,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC;QACpE,OAAO,gBAAgB,CAAC,KAAK,CAAC,eAAe,CAC3C,YAAY,CAAC,aAAa,CAAC,CAC5B,CAAC;IACJ,CAAC;IAED;;;;;;;;OAQG;IACI,yCAAyC,CAC9C,aAAqB;QAErB,MAAM,YAAY,GAAe,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC;QACpE,OAAO,gBAAgB,CAAC,KAAK,CAAC,yBAAyB,CACrD,YAAY,CAAC,aAAa,CAAC,CAC5B,CAAC;IACJ,CAAC;IAED;;;;;;;;OAQG;IACI,sCAAsC,CAC3C,aAAqB;QAErB,MAAM,YAAY,GAAe,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC;QACpE,OAAO,gBAAgB,CAAC,KAAK,CAAC,sBAAsB,CAClD,YAAY,CAAC,aAAa,CAAC,CAC5B,CAAC;IACJ,CAAC;IAED;;;;;;;;OAQG;IACI,0CAA0C,CAC/C,aAAqB;QAErB,MAAM,YAAY,GAAe,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC;QACpE,OAAO,gBAAgB,CAAC,KAAK,CAAC,0BAA0B,CACtD,YAAY,CAAC,aAAa,CAAC,CAC5B,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,cAAc;QACnB,IAAI,cAAc,GAAW,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC;QAC1D,MAAM,mBAAmB,GAAW,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;QAEjE,IAAI,cAAc,GAAG,mBAAmB,EAAE;YACxC,cAAc,GAAG,mBAAmB,CAAC;SACtC;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,EAAE,EAAE,CAAC,EAAE;YACvC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;SACrD;IACH,CAAC;IAED;;OAEG;IACI,UAAU;QACf,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC;QACtD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC;QAClD,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC;QACpE,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC;QAEpE;YACE,MAAM,YAAY,GAAa,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC;YAC1D,MAAM,cAAc,GAAW,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC;YAE5D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,EAAE,EAAE,CAAC,EAAE;gBACvC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;aAC1C;SACF;QAED;YACE,MAAM,OAAO,GAAa,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;YAChD,MAAM,SAAS,GAAW,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;YAElD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,EAAE,CAAC,EAAE;gBAClC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;aAChC;SACF;QAED;YACE,MAAM,WAAW,GAAa,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC;YACxD,MAAM,aAAa,GAAW,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC;YAE1D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,EAAE,CAAC,EAAE;gBACtC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;aACxC;SACF;IACH,CAAC;IAqBD;;OAEG;IACI,OAAO;QACZ,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACrB,IAAY,CAAC,MAAM,GAAG,SAAS,CAAC;IACnC,CAAC;CAqBF;;;AC5wBD;;;;;GAKG;AAEyC;AAE5C;;;;GAIG;AACI,MAAM,mBAAS;IA4CpB;;OAEG;IACH,YAAoB,GAAyB;QAC3C,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAChB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACvB,CAAC;IAjDD;;OAEG;IACI,MAAM,CAAC,MAAM,CAAC,QAAqB;QACxC,MAAM,GAAG,GAAyB,gBAAgB,CAAC,GAAG,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;QAEjF,IAAI,GAAG,EAAE;YACP,OAAO,IAAI,mBAAS,CAAC,GAAG,CAAC,CAAC;SAC3B;QAED,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;IACnC,CAAC;IAED;;;;OAIG;IACH,WAAW;QACT,IAAI,WAAwB,CAAC;QAE7B,MAAM,KAAK,GAA2B,gBAAgB,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEhF,IAAI,KAAK,EAAE;YACT,WAAW,GAAG,IAAI,uBAAW,CAAC,KAAK,CAAC,CAAC;YAErC,EAAE,IAAI,CAAC,WAAW,CAAC;YAEnB,OAAO,WAAW,CAAC;SACpB;QAED,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;IACnC,CAAC;IAED;;OAEG;IACH,WAAW,CAAC,KAAkB;QAC5B,IAAI,KAAK,IAAI,IAAI,EAAE;YACjB,EAAE,IAAI,CAAC,WAAW,CAAC;SACpB;IACH,CAAC;IAUD;;OAEG;IACI,OAAO;QACZ,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,IAAsB,CAAC,IAAI,GAAG,SAAS,CAAC;IAC3C,CAAC;CAIF;;;AC5ED;;;;;GAKG;AAEmD;AAEtD;;GAEG;AACH,IAAY,uBAEX;AAFD,WAAY,uBAAuB;IACjC,+HAAiC,EAAC,cAAc;AAClD,CAAC,EAFW,uBAAuB,KAAvB,uBAAuB,QAElC;AAED;;GAEG;AACH,IAAY,mBAIX;AAJD,WAAY,mBAAmB;IAC7B,+FAAqB;IACrB,+FAAqB;IACrB,uGAAyB,EAAC,OAAO;AACnC,CAAC,EAJW,mBAAmB,KAAnB,mBAAmB,QAI9B;AAED;;;;GAIG;AACI,MAAM,gDAA0B;IACrC;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvC,IAAI,CAAC,IAAI,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtC,CAAC;CAIF;AAmBD;;GAEG;AACI,MAAM,2CAAqB;IAChC;QACE,IAAI,CAAC,eAAe,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5C,IAAI,CAAC,WAAW,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,IAAI,CAAC,KAAK,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1C,CAAC;CAYF;AAED;;GAEG;AACI,MAAM,mBAAmB;IAAhC;QAOE,0BAAqB,GAA+B,EAAS,CAAC,CAAC,WAAW;QAC1E,uBAAkB,GAA+B,EAAS,CAAC,CAAC,WAAW;IACzE,CAAC;CAAA;AA0DD;;GAEG;AACI,MAAM,kBAAkB;IAA/B;QACE,WAAM,GAA2B,EAAS,CAAC,CAAC,YAAY;IAM1D,CAAC;CAAA;AAED;;;;GAIG;AACI,MAAM,yCAAmB;IAAhC;QACE,gBAAW,GAA2B,EAAS,CAAC,CAAC,YAAY;QAG7D,qBAAgB,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW;IASzD,CAAC;CAAA;AAED;;;;GAIG;AACI,MAAM,sCAAgB;IAC3B;QACE,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvC,IAAI,CAAC,IAAI,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtC,CAAC;CASF;;;AC9MD;;;;;GAKG;AAEmD;AAEtD;;GAEG;AACI,MAAM,mCAAiB;IAC5B;;;OAGG;IACH,YAAmB,IAA4B;QAC7C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACpB,CAAC;IAED;;OAEG;IACI,OAAO;QACX,IAAsB,CAAC,KAAK,GAAG,SAAS,CAAC;IAC5C,CAAC;IAED;;;OAGG;IACI,UAAU;QACf,MAAM,GAAG,GAAkB,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnD,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC;QAClD,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC;QAClD,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;OAGG;IACI,OAAO;QACZ,MAAM,GAAG,GAAkB,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnD,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/C,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/C,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;OAGG;IACI,cAAc;QACnB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,mBAAmB,CAAC;IAC7C,CAAC;IAED;;;OAGG;IACI,kBAAkB;QACvB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC;IACzC,CAAC;IAED;;;OAGG;IACI,mBAAmB;QACxB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC;IAC1C,CAAC;IAED;;;OAGG;IACI,cAAc;QACnB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;IACrC,CAAC;IAED;;;;OAIG;IACI,oCAAoC,CACzC,mBAA2B;QAE3B,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC;IACxF,CAAC;IAED;;;;OAIG;IACI,oCAAoC,CACzC,mBAA2B;QAE3B,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC;IACxF,CAAC;IAED;;;;OAIG;IACI,oCAAoC,CACzC,mBAA2B;QAE3B,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC;IACxF,CAAC;IAED;;;;OAIG;IACI,iCAAiC,CACtC,mBAA2B;QAE3B,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC;IACrF,CAAC;IAED;;;;OAIG;IACI,iCAAiC,CACtC,mBAA2B;QAE3B,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC;IACrF,CAAC;IAED;;;;OAIG;IACI,iCAAiC,CACtC,mBAA2B;QAE3B,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC;IACrF,CAAC;IAED;;;;OAIG;IACI,aAAa,CAAC,mBAA2B;QAC9C,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;IACtE,CAAC;IAED;;;;;OAKG;IACI,cAAc,CACnB,mBAA2B,EAC3B,UAAkB;QAElB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC;IAClF,CAAC;IAED;;;;;OAKG;IACI,eAAe,CACpB,mBAA2B,EAC3B,UAAkB;QAElB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC;IACnF,CAAC;IAED;;;;;OAKG;IACI,YAAY,CACjB,mBAA2B,EAC3B,UAAkB;QAElB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;IAChF,CAAC;IAED;;;;;OAKG;IACI,gBAAgB,CACrB,mBAA2B,EAC3B,UAAkB;QAElB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC;IACrF,CAAC;IAED;;;;OAIG;IACI,cAAc,CAAC,mBAA2B;QAC/C,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;IACvE,CAAC;IAED;;;;;OAKG;IACI,oBAAoB,CACzB,mBAA2B,EAC3B,WAAmB;QAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC;IACzF,CAAC;IAED;;;;;OAKG;IACI,mBAAmB,CACxB,mBAA2B,EAC3B,WAAmB;QAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;IACnF,CAAC;IAED;;;;;OAKG;IACI,eAAe,CACpB,mBAA2B,EAC3B,WAAmB;QAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC;IACpF,CAAC;IAED;;;;;OAKG;IACI,sBAAsB,CAC3B,mBAA2B,EAC3B,WAAmB;QAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,EAAE,CAAC;IAC5F,CAAC;IAED;;;;;OAKG;IACI,aAAa,CAClB,mBAA2B,EAC3B,WAAmB;QAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC;IAClF,CAAC;IAED;;;;;OAKG;IACI,gBAAgB,CACrB,mBAA2B,EAC3B,WAAmB;QAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC;IACrF,CAAC;IAED;;;;OAIG;IACI,gBAAgB,CAAC,mBAA2B;QACjD,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC;IACzE,CAAC;IAED;;;;;OAKG;IACI,mBAAmB,CACxB,mBAA2B,EAC3B,WAAmB;QAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC;IACxF,CAAC;IAED;;;;;OAKG;IACI,gBAAgB,CACrB,mBAA2B,EAC3B,WAAmB;QAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;IACrF,CAAC;IAED;;;;;OAKG;IACI,uBAAuB,CAC5B,mBAA2B,EAC3B,WAAmB;QAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,YAAY,CAAC;IAC5F,CAAC;IAED;;;;;OAKG;IACI,iBAAiB,CACtB,mBAA2B,EAC3B,WAAmB;QAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC;IACtF,CAAC;IAED;;;;;OAKG;IACI,mBAAmB,CACxB,mBAA2B,EAC3B,WAAmB;QAEnB,MAAM,GAAG,GAAkB,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACnD,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzF,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzF,OAAO,GAAG,CAAC;IACb,CAAC;CAGF;;;ACtXD;;;;;GAKG;AAE6C;AACM;AAWrB;AACuB;AAExD,sBAAsB;AACtB,MAAM,eAAe,GAAG,GAAG,CAAC;AAC5B,MAAM,eAAe,GAAG,GAAG,CAAC;AAC5B,MAAM,mBAAmB,GAAG,OAAO,CAAC;AAEpC,8BAA8B;AAC9B,MAAM,aAAa,GAAG,GAAG,CAAC;AAE1B,wDAAwD;AACxD,MAAM,aAAa,GAAG,KAAK,CAAC;AAE5B,qCAAqC;AACrC,MAAM,iBAAiB,GAAG,KAAK,CAAC;AAEhC;;GAEG;AACI,MAAM,2BAAa;IAsLxB;;OAEG;IACH;QACE,sBAAsB;QACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,qBAAO,EAAE,CAAC;QAC9B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;IAC3B,CAAC;IA/LD;;;;OAIG;IACI,MAAM,CAAC,MAAM,CAAC,IAA4B;QAC/C,MAAM,GAAG,GAAkB,IAAI,2BAAa,EAAE,CAAC;QAE/C,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAChB,GAAG,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;QAE9B,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;;OAIG;IACI,QAAQ,CAAC,KAAkB,EAAE,gBAAwB;QAC1D,IAAI,UAA6B,CAAC;QAClC,IAAI,MAAc,CAAC;QACnB,IAAI,QAAgB,CAAC;QACrB,IAAI,WAAmB,CAAC;QACxB,MAAM,gBAAgB,GAAkB,IAAI,aAAa,EAAE,CAAC;QAC5D,IAAI,cAAmC,CAAC;QACxC,IAAI,YAAkC,CAAC;QACvC,IAAI,aAAoC,CAAC;QACzC,IAAI,gBAAyC,CAAC;QAE9C,IAAI,cAA4B,CAAC;QACjC,IAAI,qBAAmC,CAAC;QACxC,IAAI,qBAAmC,CAAC;QACxC,IAAI,qBAAmC,CAAC;QAExC,cAAc,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC;QACpD,qBAAqB,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC;QAClE,qBAAqB,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC;QAClE,qBAAqB,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC;QAElE,KACE,IAAI,YAAY,GAAG,CAAC,EACpB,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAC3C,EAAE,YAAY,EACd;YACA,UAAU,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;YAC5B,gBAAgB,CAAC,CAAC,GAAG,GAAG,CAAC;YACzB,gBAAgB,CAAC,CAAC,GAAG,GAAG,CAAC;YACzB,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACzD,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;YAC5E,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;YAC/E,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;YAEtF,wBAAwB;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;gBAClD,MAAM,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,aAAa,CAAC;gBAEhD,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC,oBAAoB,IAAI,CAAC,CAAC,EAAE;oBAC9C,YAAY,CAAC,CAAC,CAAC,CAAC,oBAAoB,GAAG,KAAK,CAAC,iBAAiB,CAC5D,YAAY,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAC1B,CAAC;iBACH;gBAED,YAAY,CAAC,CAAC,CAAC,CAAC,2BAA2B,CACzC,gBAAgB,EAChB,UAAU,EACV,cAAc,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,EACpD,qBAAqB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,EAC3D,qBAAqB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,EAC3D,qBAAqB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,EAC3D,cAAc,CAAC,qBAAqB,EACpC,cAAc,CAAC,kBAAkB,EACjC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,EACvB,MAAM,CACP,CAAC;aACH;YAED,QAAQ,GAAG,qBAAU,CAAC,eAAe,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YAEzD,gBAAgB,CAAC,CAAC;gBAChB,gBAAgB,CAAC,CAAC,GAAG,qBAAU,CAAC,GAAG,CAAC,QAAQ,CAAC;oBAC7C,gBAAgB,CAAC,CAAC,GAAG,qBAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAChD,gBAAgB,CAAC,CAAC;gBAChB,gBAAgB,CAAC,CAAC,GAAG,qBAAU,CAAC,GAAG,CAAC,QAAQ,CAAC;oBAC7C,gBAAgB,CAAC,CAAC,GAAG,qBAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAEhD,gCAAgC;YAChC,eAAe,CACb,gBAAgB,EAChB,cAAc,CAAC,aAAa,EAC5B,gBAAgB,EAChB,UAAU,CAAC,KAAK,EAChB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAClB,iBAAiB,GAAG,cAAc,CAAC,qBAAqB,CAAC,OAAO,EAChE,gBAAgB,EAChB,aAAa,CACd,CAAC;YAEF,4BAA4B;YAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE;gBACnD,MAAM,aAAa,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;gBAEnD,IACE,aAAa,GAAG,CAAC;oBACjB,aAAa,IAAI,cAAc,CAAC,aAAa,EAC7C;oBACA,MAAM;iBACP;gBAED,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC,yBAAyB,IAAI,CAAC,CAAC,EAAE;oBACpD,aAAa,CACX,CAAC,CACA,CAAC,yBAAyB,GAAG,KAAK,CAAC,iBAAiB,CACrD,aAAa,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,EAAE,CAChC,CAAC;iBACH;gBAED,MAAM,WAAW,GAAkB,IAAI,aAAa,EAAE,CAAC;gBACvD,WAAW,CAAC,CAAC;oBACX,gBAAgB,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,CAAC;wBAC1C,gBAAgB,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACjD,WAAW,CAAC,CAAC;oBACX,gBAAgB,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,CAAC;wBAC1C,gBAAgB,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAEjD,WAAW,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,QAAQ,CACrC,WAAW,EACX,gBAAgB,EAChB,aAAa,EACb,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,EACxB,IAAI,CAAC,QAAQ,CAAC,OAAO,CACtB,CAAC;gBAEF,MAAM,yBAAyB,GAC7B,aAAa,CAAC,CAAC,CAAC,CAAC,yBAAyB,CAAC;gBAC7C,MAAM,iBAAiB,GACrB,CAAC,YAAY,CAAC,SAAS,CAAC,KAAK;oBAC7B,UAAU,IAAI,YAAY,CAAC,SAAS;oBAClC,CAAC,CAAC,IAAI,CAAC,KAAK,CACZ,IAAI,CAAC,SAAS,CACZ,cAAc,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CACnD,CACA,CAAC,qCAAqC;oBACvC,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;gBAEtD,0BAA0B,CACxB,iBAAiB,EACjB,qBAAqB,CAAC,yBAAyB,CAAC,EAChD,qBAAqB,CAAC,yBAAyB,CAAC,EAChD,WAAW,EACX,aAAa,CAAC,CAAC,CAAC,CACjB,CAAC;gBAEF,OAAO;gBACP,KACE,IAAI,MAAM,GAAW,yBAAyB,EAAE,aAAa,GAAG,CAAC,EACjE,MAAM,GAAG,cAAc,CAAC,MAAM,EAC9B,MAAM,EAAE,EAAE,aAAa,EAAE,EACzB;oBACA,cAAc,CAAC,MAAM,CAAC,GAAG,iBAAiB,CAAC,aAAa,CAAC,CAAC;iBAC3D;aACF;SACF;IACH,CAAC;IAED;;;OAGG;IACI,UAAU,CAAC,OAAgB;QAChC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC1B,CAAC;IAED;;;OAGG;IACI,SAAS;QACd,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAcD;;OAEG;IACI,OAAO;QACX,IAAsB,CAAC,WAAW,GAAG,SAAS,CAAC;IAClD,CAAC;IAED;;;OAGG;IACI,KAAK,CAAC,WAAmC;QAC9C,IAAI,CAAC,WAAW,GAAG,IAAI,sCAAgB,EAAE,CAAC;QAE1C,IAAI,IAAI,GAAsB,IAAI,mCAAiB,CAAC,WAAW,CAAC,CAAC;QAEjE,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAC7C,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;QACvC,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QAErD,IAAI,UAAU,GAAG,CAAC,EAChB,WAAW,GAAG,CAAC,EACf,aAAa,GAAG,CAAC,CAAC;QAEpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE;YACrD,MAAM,OAAO,GAAG,IAAI,mBAAmB,EAAE,CAAC;YAE1C,OAAO,CAAC,qBAAqB,CAAC,OAAO,GAAG,IAAI,CAAC,oCAAoC,CAAC,CAAC,CAAC,CAAC;YACrF,OAAO,CAAC,qBAAqB,CAAC,OAAO,GAAG,IAAI,CAAC,oCAAoC,CAAC,CAAC,CAAC,CAAC;YACrF,OAAO,CAAC,qBAAqB,CAAC,OAAO,GAAG,IAAI,CAAC,oCAAoC,CAAC,CAAC,CAAC,CAAC;YACrF,OAAO,CAAC,kBAAkB,CAAC,OAAO,GAAG,IAAI,CAAC,iCAAiC,CAAC,CAAC,CAAC,CAAC;YAC/E,OAAO,CAAC,kBAAkB,CAAC,OAAO,GAAG,IAAI,CAAC,iCAAiC,CAAC,CAAC,CAAC,CAAC;YAC/E,OAAO,CAAC,kBAAkB,CAAC,OAAO,GAAG,IAAI,CAAC,iCAAiC,CAAC,CAAC,CAAC,CAAC;YAE/E,QAAQ;YACR,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YAC3C,OAAO,CAAC,cAAc,GAAG,UAAU,CAAC;YACpC,UAAU,IAAI,OAAO,CAAC,UAAU,CAAC;YAEjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;gBAC3C,MAAM,KAAK,GAAG,IAAI,kBAAkB,EAAE,CAAC;gBAEvC,KAAK,CAAC,oBAAoB,GAAG,CAAC,CAAC,CAAC;gBAChC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACzC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAE3C,QAAQ,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;oBAC/B,KAAK,eAAe;wBAClB,KAAK,CAAC,IAAI,GAAG,mBAAmB,CAAC,qBAAqB,CAAC;wBACvD,KAAK,CAAC,2BAA2B,GAAG,gDAAgD,CAAC;wBACrF,MAAM;oBAER,KAAK,eAAe;wBAClB,KAAK,CAAC,IAAI,GAAG,mBAAmB,CAAC,qBAAqB,CAAC;wBACvD,KAAK,CAAC,2BAA2B,GAAG,+CAA+C,CAAC;wBACpF,MAAM;oBAER,KAAK,mBAAmB;wBACtB,KAAK,CAAC,IAAI,GAAG,mBAAmB,CAAC,yBAAyB,CAAC;wBAC3D,KAAK,CAAC,2BAA2B,GAAG,yCAAyC,CAAC;wBAC9E,MAAM;iBACT;gBAED,KAAK,CAAC,MAAM,CAAC,UAAU,GAAG,uBAAuB,CAAC,iCAAiC,CAAC;gBACpF,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAE9C,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrC;YAED,SAAS;YACT,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAC7C,OAAO,CAAC,eAAe,GAAG,WAAW,CAAC;YACtC,WAAW,IAAI,OAAO,CAAC,WAAW,CAAC;YAEnC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE;gBAC5C,MAAM,MAAM,GAAG,IAAI,yCAAmB,EAAE,CAAC;gBAEzC,MAAM,CAAC,yBAAyB,GAAG,CAAC,CAAC,CAAC;gBACtC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACrD,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACnD,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC3C,MAAM,CAAC,WAAW,CAAC,UAAU,GAAG,uBAAuB,CAAC,iCAAiC,CAAC;gBAE1F,MAAM,CAAC,WAAW,CAAC,EAAE,GAAG,IAAI,CAAC,sBAAsB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAE1D,QAAQ,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;oBAChC,KAAK,eAAe;wBAClB,MAAM,CAAC,IAAI,GAAG,mBAAmB,CAAC,qBAAqB,CAAC;wBACxD,MAAM,CAAC,QAAQ,GAAG,qBAAqB,CAAC;wBACxC,MAAM,CAAC,QAAQ,GAAG,0BAA0B,CAAC;wBAC7C,MAAM;oBAER,KAAK,eAAe;wBAClB,MAAM,CAAC,IAAI,GAAG,mBAAmB,CAAC,qBAAqB,CAAC;wBACxD,MAAM,CAAC,QAAQ,GAAG,qBAAqB,CAAC;wBACxC,MAAM,CAAC,QAAQ,GAAG,0BAA0B,CAAC;wBAC7C,MAAM;oBAER,KAAK,mBAAmB;wBACtB,MAAM,CAAC,IAAI,GAAG,mBAAmB,CAAC,yBAAyB,CAAC;wBAC5D,MAAM,CAAC,QAAQ,GAAG,cAAc,CAAC;wBACjC,MAAM,CAAC,QAAQ,GAAG,mBAAmB,CAAC;wBACtC,MAAM;iBACT;gBAED,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAE7C,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACvC;YAED,WAAW;YACX,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YACjD,OAAO,CAAC,iBAAiB,GAAG,aAAa,CAAC;YAC1C,aAAa,IAAI,OAAO,CAAC,aAAa,CAAC;YAEvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,EAAE;gBAC9C,MAAM,QAAQ,GAAG,IAAI,2CAAqB,EAAE,CAAC;gBAE7C,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACnD,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC7C,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC3D,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC/C,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAEnD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC3C;YAED,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACzC;QAED,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED;;OAEG;IACI,UAAU;QACf,IAAI,MAA+B,CAAC;QACpC,IAAI,cAAmC,CAAC;QACxC,IAAI,MAAqB,CAAC;QAE1B,KACE,IAAI,YAAY,GAAG,CAAC,EACpB,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAC3C,EAAE,YAAY,EACd;YACA,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACzD,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;YAE5E,kCAAkC;YAClC,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,GAAG,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACxD,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,IAAI,aAAa,CACxC,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,EAC3B,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAC5B,CAAC;YACF,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,IAAI,aAAa,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;YACrD,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;YAChC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACjD,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YAE9C,wBAAwB;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,aAAa,EAAE,EAAE,CAAC,EAAE;gBACrD,MAAM,GAAG,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;gBACrC,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAC5B,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,GAAG,IAAI,aAAa,CAC3C,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,EAC1C,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAC3C,CAAC;gBACF,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,aAAa,CACpC,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,EAC3B,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAC5B,CAAC;gBACF,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,IAAI,aAAa,CACxC,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,EAC3B,MAAM,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAC5B,CAAC;gBACF,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,IAAI,aAAa,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;gBACrD,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;gBAChC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;gBACjD,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;aAC/C;SACF;IACH,CAAC;CAIF;AAED;;GAEG;AACI,MAAM,qBAAO;IAClB;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvC,IAAI,CAAC,IAAI,GAAG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtC,CAAC;CAIF;AAED,SAAS,gDAAgD,CACvD,iBAAgC,EAChC,WAA8B,EAC9B,KAAa,EACb,qBAA6B,EAC7B,qBAA6B,EAC7B,qBAA6B,EAC7B,qBAAiD,EACjD,kBAA8C,EAC9C,UAAmB,EACnB,MAAc;IAEd,iBAAiB,CAAC,CAAC;QACjB,uBAAuB,CACrB,KAAK,EACL,qBAAqB,EACrB,qBAAqB,EACrB,qBAAqB,EACrB,qBAAqB,CAAC,OAAO,EAC7B,qBAAqB,CAAC,OAAO,EAC7B,qBAAqB,CAAC,OAAO,EAC7B,UAAU,CACX,GAAG,MAAM,CAAC;AACf,CAAC;AAED,SAAS,+CAA+C,CACtD,iBAAgC,EAChC,WAA8B,EAC9B,KAAa,EACb,qBAA6B,EAC7B,qBAA6B,EAC7B,qBAA6B,EAC7B,qBAAiD,EACjD,kBAA8C,EAC9C,UAAmB,EACnB,MAAc;IAEd,iBAAiB,CAAC,CAAC;QACjB,uBAAuB,CACrB,KAAK,EACL,qBAAqB,EACrB,qBAAqB,EACrB,qBAAqB,EACrB,qBAAqB,CAAC,OAAO,EAC7B,qBAAqB,CAAC,OAAO,EAC7B,qBAAqB,CAAC,OAAO,EAC7B,UAAU,CACX,GAAG,MAAM,CAAC;AACf,CAAC;AAED,SAAS,yCAAyC,CAChD,iBAAgC,EAChC,WAA8B,EAC9B,KAAa,EACb,qBAA6B,EAC7B,qBAA6B,EAC7B,qBAA6B,EAC7B,sBAAkD,EAClD,kBAA8C,EAC9C,UAAmB,EACnB,MAAc;IAEd,WAAW,CAAC,KAAK;QACf,uBAAuB,CACrB,KAAK,EACL,qBAAqB,EACrB,qBAAqB,EACrB,qBAAqB,EACrB,kBAAkB,CAAC,OAAO,EAC1B,kBAAkB,CAAC,OAAO,EAC1B,kBAAkB,CAAC,OAAO,EAC1B,UAAU,CACX,GAAG,MAAM,CAAC;AACf,CAAC;AAED,SAAS,qBAAqB,CAC5B,WAA0B,EAC1B,SAAkC,EAClC,aAAqB,EACrB,UAAmB,EACnB,aAA4B;IAE5B,IAAI,WAAW,GAAW,WAAW,CAAC,CAAC,CAAC;IAExC,IAAI,UAAU,EAAE;QACd,WAAW,IAAI,CAAC,GAAG,CAAC;KACrB;IAED,OAAO,WAAW,CAAC;AACrB,CAAC;AAED,SAAS,qBAAqB,CAC5B,WAA0B,EAC1B,SAAkC,EAClC,aAAqB,EACrB,UAAmB,EACnB,aAA4B;IAE5B,IAAI,WAAW,GAAW,WAAW,CAAC,CAAC,CAAC;IAExC,IAAI,UAAU,EAAE;QACd,WAAW,IAAI,CAAC,GAAG,CAAC;KACrB;IACD,OAAO,WAAW,CAAC;AACrB,CAAC;AAED,SAAS,cAAc,CACrB,WAA0B,EAC1B,SAAkC,EAClC,aAAqB,EACrB,UAAmB,EACnB,aAA4B;IAE5B,IAAI,WAAmB,CAAC;IAExB,IAAI,aAAa,IAAI,CAAC,EAAE;QACtB,aAAa,GAAG,SAAS,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAC7D,SAAS,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,QAAQ,CACtC,CAAC;KACH;SAAM;QACL,aAAa,GAAG,aAAa,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC;KACtD;IAED,WAAW,GAAG,qBAAU,CAAC,iBAAiB,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;IAEvE,IAAI,UAAU,EAAE;QACd,WAAW,IAAI,CAAC,GAAG,CAAC;KACrB;IAED,OAAO,WAAW,CAAC;AACrB,CAAC;AAED,SAAS,aAAa,CAAC,GAAW,EAAE,GAAW;IAC7C,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAC3D,CAAC;AAED,SAAS,eAAe,CAAC,GAAW,EAAE,GAAW;IAC/C,MAAM,QAAQ,GAAW,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC5C,OAAO,QAAQ,GAAG,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;AAClD,CAAC;AAED,SAAS,0BAA0B,CACjC,gBAA+B,EAC/B,UAAkB;IAElB,OAAO,gBAAgB,CAAC,CAAC,CAAC;AAC5B,CAAC;AAED,SAAS,0BAA0B,CACjC,gBAA+B,EAC/B,UAAkB;IAElB,OAAO,gBAAgB,CAAC,CAAC,CAAC;AAC5B,CAAC;AAED,SAAS,mBAAmB,CAC1B,gBAA+B,EAC/B,UAAkB;IAElB,OAAO,UAAU,CAAC;AACpB,CAAC;AAED;;;;;;;;;;;GAWG;AACH,SAAS,eAAe,CACtB,MAA+B,EAC/B,WAAmB,EACnB,gBAA+B,EAC/B,UAAkB,EAClB,aAA4B,EAC5B,cAAsB,EACtB,gBAAwB,EACxB,aAAqB;IAErB,IAAI,WAAmB,CAAC;IACxB,IAAI,KAAa,CAAC;IAClB,IAAI,MAAc,CAAC;IACnB,IAAI,cAA6B,CAAC;IAClC,IAAI,SAAS,GAAkB,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC3D,IAAI,QAAQ,GAAkB,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC1D,IAAI,KAAK,GAAkB,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IACvD,IAAI,YAAY,GAAkB,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAE9D,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,aAAa,CACpC,gBAAgB,CAAC,CAAC,EAClB,gBAAgB,CAAC,CAAC,CACnB,CAAC;IAEF,WAAW,GAAG,qBAAU,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;IACrD,cAAc,GAAG,qBAAU,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;IAC3D,cAAc,CAAC,SAAS,EAAE,CAAC;IAE3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,EAAE,CAAC,EAAE;QACpC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,cAAc;aAC7B,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;aACxC,GAAG,CAAC,aAAa,CAAC,CAAC;QAEtB,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,IAAI,aAAa,CACxC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EACpB,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CACrB,CAAC;QAEF,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,gBAAgB,GAAG,IAAI,CAAC;QAElD,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QAEjE,MAAM;YACJ,qBAAU,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,cAAc,CAAC;gBACnE,aAAa,CAAC;QAEhB,SAAS,CAAC,CAAC;YACT,qBAAU,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,SAAS,CAAC,CAAC;gBACpC,SAAS,CAAC,CAAC,GAAG,qBAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvC,SAAS,CAAC,CAAC;YACT,qBAAU,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,SAAS,CAAC,CAAC;gBACpC,SAAS,CAAC,CAAC,GAAG,qBAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAEvC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAE3D,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACtD,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAExE,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAEjE,YAAY,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;QACpE,YAAY,CAAC,SAAS,EAAE,CAAC;QAEzB,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAC7C,YAAY,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAChD,CAAC;QAEF,IAAI,qBAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,cAAc,EAAE;YACzD,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC;SAC5B;QAED,IAAI,KAAK,IAAI,GAAG,EAAE;YAChB,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAC/C,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,CACvB,CAAC;YACF,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAChE,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,gBAAgB,CACtD,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CACnB,CAAC;SACH;QAED,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QAC9C,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,IAAI,aAAa,CACvC,cAAc,CAAC,CAAC,EAChB,cAAc,CAAC,CAAC,CACjB,CAAC;KACH;AACH,CAAC;AAED;;;;;;GAMG;AACH,SAAS,0BAA0B,CACjC,cAA4B,EAC5B,qBAA6B,EAC7B,qBAA6B,EAC7B,WAAmB,EACnB,MAA2B;IAE3B,IAAI,WAAmB,CAAC;IACxB,IAAI,KAAa,CAAC;IAClB,IAAI,MAAc,CAAC;IAEnB,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,gBAAgB,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;IAE1E,KAAK,GAAG,WAAW,GAAG,WAAW,CAAC;IAElC,IAAI,KAAK,GAAG,qBAAqB,EAAE;QACjC,IAAI,KAAK,GAAG,MAAM,CAAC,iBAAiB,EAAE;YACpC,MAAM,CAAC,iBAAiB,GAAG,KAAK,CAAC;SAClC;QAED,KAAK,GAAG,qBAAqB,CAAC;KAC/B;SAAM,IAAI,KAAK,GAAG,qBAAqB,EAAE;QACxC,IAAI,KAAK,GAAG,MAAM,CAAC,oBAAoB,EAAE;YACvC,MAAM,CAAC,oBAAoB,GAAG,KAAK,CAAC;SACrC;QAED,KAAK,GAAG,qBAAqB,CAAC;KAC/B;IAED,MAAM,GAAG,MAAM,CAAC,MAAM,GAAG,aAAa,CAAC;IAEvC,IAAI,MAAM,IAAI,GAAG,EAAE;QACjB,cAAc,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;KAC3B;SAAM;QACL,KAAK,GAAG,cAAc,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC;QAC5D,cAAc,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;KAC3B;AACH,CAAC;AAED,SAAS,uBAAuB,CAC9B,KAAa,EACb,gBAAwB,EACxB,gBAAwB,EACxB,gBAAwB,EACxB,iBAAyB,EACzB,iBAAyB,EACzB,iBAAyB,EACzB,UAAmB;IAEnB,IAAI,MAAM,GAAG,GAAG,CAAC;IAEjB,MAAM,QAAQ,GAAW,qBAAU,CAAC,GAAG,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;IAE5E,IAAI,QAAQ,GAAG,KAAK,EAAE;QACpB,KAAK,GAAG,QAAQ,CAAC;KAClB;IAED,MAAM,QAAQ,GAAW,qBAAU,CAAC,GAAG,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;IAE5E,IAAI,QAAQ,GAAG,KAAK,EAAE;QACpB,KAAK,GAAG,QAAQ,CAAC;KAClB;IAED,MAAM,YAAY,GAAW,qBAAU,CAAC,GAAG,CACzC,iBAAiB,EACjB,iBAAiB,CAClB,CAAC;IACF,MAAM,YAAY,GAAW,qBAAU,CAAC,GAAG,CACzC,iBAAiB,EACjB,iBAAiB,CAClB,CAAC;IACF,MAAM,eAAe,GAAW,iBAAiB,CAAC;IAElD,MAAM,WAAW,GAAW,eAAe,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAChE,MAAM,UAAU,GAAW,KAAK,GAAG,WAAW,CAAC;IAE/C,QAAQ,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;QAC7B,KAAK,CAAC,CAAC,CAAC;YACN,MAAM,OAAO,GAAW,YAAY,GAAG,eAAe,CAAC;YACvD,MAAM,OAAO,GAAW,QAAQ,GAAG,WAAW,CAAC;YAE/C,IAAI,OAAO,IAAI,GAAG,EAAE;gBAClB,MAAM,GAAG,UAAU,GAAG,CAAC,OAAO,GAAG,OAAO,CAAC,CAAC;gBAC1C,MAAM,IAAI,eAAe,CAAC;aAC3B;YAED,MAAM;SACP;QACD,KAAK,CAAC,CAAC,CAAC,CAAC;YACP,MAAM,OAAO,GAAW,YAAY,GAAG,eAAe,CAAC;YACvD,MAAM,OAAO,GAAW,QAAQ,GAAG,WAAW,CAAC;YAE/C,IAAI,OAAO,IAAI,GAAG,EAAE;gBAClB,MAAM,GAAG,UAAU,GAAG,CAAC,OAAO,GAAG,OAAO,CAAC,CAAC;gBAC1C,MAAM,IAAI,eAAe,CAAC;aAC3B;YAED,MAAM;SACP;QACD,KAAK,CAAC,CAAC,CAAC;YACN,MAAM,GAAG,eAAe,CAAC;YAEzB,MAAM;SACP;QACD,OAAO,CAAC,CAAC;YACP,MAAM;SACP;KACF;IAED,OAAO,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC;AAC7C,CAAC;;;AChzBqE;AACA;AACvB;AAC+B;AACvB;AACH;AAEU;AAC5B;AACuB;AAEzD,wBAAM,CAAC,OAAO,GAAG,aAAa,CAAC;AAE/B,sCAAa,CAAC,eAAe,CAAC;IAC1B,OAAO,EAAE,CAAC;IAEV,KAAK,EAAE,YAAY;IAEnB,IAAI,CAAC,MAAW;QACZ,OAAO,MAAM,YAAY,yCAAoB,IAAI,yCAAoB,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAC9F,CAAC;IAED,UAAU,CAAC,SAAsB;QAC7B,IAAI,SAAS,CAAC,UAAU,GAAG,CAAC,EAAE;YAC1B,OAAO,KAAK,CAAC;SAChB;QAED,MAAM,IAAI,GAAG,IAAI,SAAS,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAE5C,OAAO,MAAM,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,KAAK,MAAM,CAAC;IACnD,CAAC;IAED,mBAAmB,CAAC,IAAY;QAC5B,OAAO,IAAI,yCAAoB,CAAC,IAA8C,CAAC,CAAC;IACpF,CAAC;IAED,eAAe,CAAC,IAAiB;QAC7B,MAAM,GAAG,GAAG,mBAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAEnC,IAAI;YACA,MAAM,KAAK,GAAG,GAAG,CAAC,WAAW,EAAE,CAAC;YAEhC,sDAAsD;YACrD,KAAa,CAAC,KAAK,GAAG,GAAG,CAAC;YAE3B,OAAO,KAAK,CAAC;SAChB;QAAC,OAAO,CAAC,EAAE;YACR,IAAI;gBACA,GAAG,CAAC,OAAO,EAAE,CAAC;aACjB;YAAC,OAAO,OAAO,EAAE;aACjB;YAED,MAAM,CAAC,CAAC;SACX;IACL,CAAC;IAED,mBAAmB,CAAC,SAAsB,EAAE,QAA8B,EAAE,OAA8B;QACtG,MAAM,KAAK,GAAG,IAAI,yCAAoB,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;QAErE,MAAM,gBAAgB,GAAG,SAAkC,CAAC;QAE5D,IAAI,gBAAgB,CAAC,KAAK,EAAE;YACxB,gEAAgE;YAChE,0EAA0E;YACzE,KAAa,CAAC,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC;YAE9C,OAAO,gBAAgB,CAAC,KAAK,CAAC;YAE9B,kCAAkC;YAClC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;SACrC;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,aAAa,CAAC,SAAsB,EAAE,IAAS;QAC3C,OAAO,2BAAa,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAED,UAAU,CAAC,SAAsB,EAAE,IAAS;QACxC,OAAO,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;CACJ,CAAC,CAAC;AAEH,SAAS,UAAU;;IACf,MAAE,IAAY,CAAC,KAA+B,0CAAE,OAAO,GAAG;AAC9D,CAAC;;;ACtFwB;AAEkB;AACJ;AACA;AACA;AACb;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPU;AAE3B,MAAM,iCAAiB,SAAQ,OAAO;IAGzC,YAAY,IAAgC;QACxC,KAAK,EAAE,CAAC;QAHH,WAAM,GAAsD,EAAE,CAAC;QAKpE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAQ,CAAC,CAAC,CAAC,wBAAM,CAAC,wBAAwB,CAAC,CAAC;QACpF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAS,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAS,CAAC,CAAC,CAAC,wBAAM,CAAC,wBAAwB,CAAC,CAAC;QAEvF,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YAC5B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBACxB,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC;gBAEjC,IAAI,IAAI,KAAK,KAAK,EAAE;oBAChB,MAAM,YAAY,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;oBACpC,KAAK,CAAC,GAAG,IAAI,YAAY,CAAC;iBAC7B;qBAAM,IAAI,IAAI,KAAK,MAAM,EAAE;oBACxB,MAAM,YAAY,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;oBACpC,KAAK,CAAC,GAAG,IAAI,YAAY,CAAC;iBAC7B;gBAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;oBACb,IAAI;oBACJ,GAAG,EAAE,KAAK,CAAC,GAAG;oBACd,EAAE,EAAE,KAAK,CAAC,EAAE;iBACf,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,gBAAgB;IAChB,cAAc,CAAC,KAAuB,EAAE,IAAkB,EAAE,MAAc,EAAE,cAAuB;QAC/F,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACxB,mFAAmF;YACnF,EAAE;YACF,wBAAwB;YACxB,8BAA8B;YAC9B,8DAA8D;YAC9D,iBAAiB;YACjB,8BAA8B;YAC9B,iEAAiE;YACjE,iBAAiB;YACjB,+BAA+B;YAC/B,+DAA+D;YAC/D,iBAAiB;YACjB,IAAI;YAEJ,gCAAgC;YAChC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;;;ACpDqE;AAEhB;AAE/C,MAAM,iDAAyB,SAAQ,8CAAmC;IAO7E,YAAY,QAA8B,EAAE,OAA8B;;QACtE,KAAK,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QAPpB,iBAAY,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAS7C,IAAI,CAAC,WAAW,SAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,mCAAI,EAAE,CAAC;QAEnD,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,UAAU;QACN,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;IAC1C,CAAC;IAED,kBAAkB,CAAC,IAAY;QAC3B,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;IAChE,CAAC;IAED,iBAAiB,CAAC,UAAkC;QAChD,OAAO,UAAU,CAAC,IAAI,CAAC;IAC3B,CAAC;IAED,gBAAgB,CAAC,IAAY,EAAE,UAA8C;QACzE,OAAO,IAAI,iCAAgB,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAES,cAAc,CAAC,MAAwB;QAC7C,OAAO,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACjD,CAAC;IAES,kBAAkB;QACxB,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;IACvC,CAAC;IAES,gBAAgB,CAAC,KAAuB,EAAE,EAAU;QAC1D,OAAO,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC;CACJ;;;;;;;;;AC/CmF;AACN;AAEtD;AACU;AAE3B,MAAM,yCAAqB,SAAQ,sCAA+C;IAarF,YAAY,QAA8B,EAAE,OAA8B;QACtE,KAAK,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QAXpB,WAAM,GAAG,EAAE,IAAI,EAAE,MAAM,EAAW,CAAC;QAEnC,mBAAc,GAAG,aAAa,CAAC;QAE/B,iBAAY,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAS7C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;QAEzC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACvB,CAAC;IAES,IAAI,CAAC,OAA8B;QACzC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEpB,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;YAC3B,IAAI,CAAC,iBAAiB,GAAG,IAAI,iDAAwB,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;SACjF;IACL,CAAC;IAED,UAAU;QACN,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;IAC1C,CAAC;IAED,YAAY,CAAC,IAAiB,EAAE,KAAa,EAAE,UAA8B;QACzE,MAAM,MAAM,GAAG,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAE7C,MAAM,qBAAqB,GACvB,KAAK,KAAK,IAAI,CAAC,MAAM,CAAC,IAAI;YACtB,CAAC,CAAC,wBAAM,CAAC,wBAAwB;YACjC,CAAC,CAAC,wBAAM,CAAC,oBAAoB,CAAC;QAEtC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,OAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,OAAQ,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC;QACxF,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,QAAS,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,QAAS,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC;QAE3F,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,aAAa,CAAC,UAA8B;QACxC,OAAO,UAAU,CAAC,IAAI,CAAC;IAC3B,CAAC;IAES,aAAa,CAAC,UAA8B;QAClD,OAAO,UAAU,CAAC,IAAI,CAAC;IAC3B,CAAC;IAES,YAAY,CAAC,UAA8B;QACjD,OAAO,UAAU,CAAC,KAAK,CAAC;IAC5B,CAAC;IAES,YAAY,CAAC,MAAoB,EAAE,QAAyC;QAClF,MAAM,CAAC,eAAe,GAAG,QAAQ,CAAC;QAElC,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;QAEnC,OAAO,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACjD,CAAC;IAES,eAAe;QACrB,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;IACvC,CAAC;IAES,gBAAgB,CAAC,KAAuB,EAAE,GAAwB;QACxE,OAAO,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC;IAED,OAAO;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAEf,IAA+B,CAAC,YAAY,GAAG,SAAS,CAAC;IAC9D,CAAC;CACJ;;;;;;ACtFqC;AAEtC,IAAW,QAKV;AALD,WAAW,QAAQ;IACf,uCAAI;IACJ,6CAAO;IACP,2CAAM;IACN,6CAAO;AACX,CAAC,EALU,QAAQ,KAAR,QAAQ,QAKlB;AAEM,MAAM,6BAAc;IAcvB,YAAqB,SAA2B;QAA3B,cAAS,GAAT,SAAS,CAAkB;QAVhD,kBAAa,GAAwB,IAAI,CAAC;QAC1C,oBAAe,GAAwB,GAAG,CAAC;QAC3C,mBAAc,GAAwB,EAAE,CAAC;QACzC,oBAAe,GAAwB,GAAG,CAAC;QAE3C,aAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC;QACzB,kBAAa,GAAG,CAAC,CAAC;QAClB,gBAAW,GAAG,CAAC,CAAC;QAChB,sBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC;QAGnC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;QAC7D,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;IAClE,CAAC;IAED,YAAY,CAAC,KAAa;QACtB,IAAI,CAAC,aAAa,GAAG,8BAAK,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACxC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACjE,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;IACtE,CAAC;IAED,MAAM,CAAC,EAAuB;QAC1B,QAAQ,IAAI,CAAC,QAAQ,EAAE;YACnB,KAAK,QAAQ,CAAC,IAAI;gBACd,IAAI,CAAC,iBAAiB,IAAI,EAAE,CAAC;gBAE7B,IAAI,IAAI,CAAC,iBAAiB,GAAG,CAAC,EAAE;oBAC5B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC;oBACjC,IAAI,CAAC,iBAAiB;wBAClB,IAAI,CAAC,aAAa;4BAClB,IAAI,CAAC,eAAe;4BACpB,IAAI,CAAC,cAAc;4BACnB,IAAI,CAAC,eAAe;4BACpB,6BAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;iBACrB;gBACD,MAAM;YAEV,KAAK,QAAQ,CAAC,OAAO;gBACjB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,GAAG,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC;gBAElE,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,EAAE;oBACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC;oBAChC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;iBACxB;gBACD,MAAM;YAEV,KAAK,QAAQ,CAAC,MAAM;gBAChB,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC;gBAEvB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,cAAc,EAAE;oBACzC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC;iBACpC;gBACD,MAAM;YAEV,KAAK,QAAQ,CAAC,OAAO;gBACjB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,GAAG,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC;gBAElE,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,EAAE;oBACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC;iBACjC;SACR;IACL,CAAC;CACJ;;;AC1E0F;AAE7B;AACZ;AAIlD,kBAAkB;AAClB,MAAM,eAAe,GAAG,IAAI,YAAY,CAAC;IACrC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;CACb,CAAC,CAAC;AAEI,MAAM,yCAAqB,SAAQ,sCAAa;IAgCnD,YAAY,SAA2B,EAAE,QAA8B,EAAE,OAA8B;QACnG,KAAK,EAAE,CAAC;QAdZ,iBAAY,GAAG,IAAI,CAAC;QAEpB;;WAEG;QACH,kBAAa,GAAG,CAAC,CAAC;QAElB;;;WAGG;QACH,mBAAc,GAAG,KAAK,CAAC;QAKnB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,aAAa,GAAG,IAAI,yCAAoB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QACjE,IAAI,CAAC,QAAQ,GAAG,IAAI,6BAAc,CAAC,SAAS,CAAC,CAAC;QAE9C,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;QACtE,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;QACtE,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;QACjE,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;QACjE,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;QACjE,IAAI,CAAC,oBAAoB,GAAG,SAAS,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC;QAC1E,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;QAEhE,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAES,IAAI;QACV,KAAK,CAAC,IAAI,EAAE,CAAC;QAEb,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE;YAC1B,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC;SAChG;QACD,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;YAC7B,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC;SACrG;QAED,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAE3B,MAAM,GAAG,GAAQ,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC;QAEvD,IAAI,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,MAAM,EAAE;YACb,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,MAAM,CAAC;SACnC;QAED,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC;QAEpD,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,SAAS,EAAE;YAC5D,GAAG,EAAE,CAAC,CAAU,EAAE,EAAE,CAAC,OAAO,GAAG,CAAC;YAEhC,oCAAoC;YACpC,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO;SACnD,CAAC,CAAC;QAEH,MAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,WAAW,CAAC;QACjE,MAAM,iBAAiB,GAAG,WAAW,CAAC,SAAS,CAAC;QAEhD,yFAAyF;QACzF,4BAA4B;QAC5B,WAAW,CAAC,SAAS,GAAG,CAAC,YAAY,EAAE,SAAS,EAAE,EAAE;YAChD,iBAAiB,CAAC,IAAI,CAAC,WAAW,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;YAE7D,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5C,CAAC,CAAC;IACN,CAAC;IAES,OAAO;QACb,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,CAAC;IAC/E,CAAC;IAES,SAAS;QACf,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,EAAE,CAAC;QAE1C,uCACO,MAAM,KACT,OAAO,EAAE,MAAM,CAAC,QAAQ,EACxB,OAAO,EAAE,MAAM,CAAC,QAAQ,IAC1B;IACN,CAAC;IAED,kBAAkB,CAAC,EAAyB,EAAE,WAAmB;QAC7D,MAAM,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC;QAErD,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC;QAChC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACzB,cAAc,CAAC,IAAI,GAAG,WAAW,CAAC;QAElC,sBAAsB;QACtB,KAAK,MAAM,IAAI,IAAI,cAAc,EAAE;YAC/B,IAAI,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,IAAK,cAAsB,CAAC,IAAI,CAAC,YAAY,WAAW,EAAE;gBAC5F,cAAsB,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;aACxC;SACJ;QAED,MAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC,WAAW,CAAC;QACjE,WAAW,CAAC,UAAU,GAAG,WAAW,CAAC;QAErC,MAAM,WAAW,GAAG,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAE5D,4CAA4C;QAC5C,WAAW,CAAC,oBAAoB,EAAE,CAAC;QAEnC,EAAE,CAAC,eAAe,CAAC,EAAE,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;IACpD,CAAC;IAED,WAAW,CAAC,KAAa,EAAE,OAAqB;QAC5C,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAC9C,CAAC;IAES,cAAc;;QACpB,OAAO,WAAI,CAAC,QAAQ,CAAC,QAAQ,0CAAE,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC3C,EAAE,EAAE,OAAO,CAAC,EAAE;YACd,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,CAAC;SACrD,CAAC,MAAK,EAAE,CAAC;IACd,CAAC;IAED,cAAc;QACV,MAAM,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC;QACtD,MAAM,GAAG,GAAG,EAAE,CAAC;QAEf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;YACzC,MAAM,QAAQ,GAAG,YAAY,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YAE7C,IAAI,QAAQ,EAAE;gBACV,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,CAAC;aACzC;SACJ;QAED,OAAO,GAAG,CAAC;IACf,CAAC;IAED,gBAAgB,CAAC,EAAU;QACvB,OAAO,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;IAC/C,CAAC;IAED,mBAAmB,CAAC,SAA0B;QAC1C,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;YAC/B,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;YAEvD,IAAI,SAAS,KAAK,CAAC,CAAC;gBAAE,MAAM,IAAI,SAAS,CAAC,8BAA8B,GAAG,SAAS,CAAC,CAAC;SACzF;QAED,OAAO,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,CAAC;IAClE,CAAC;IAED,MAAM,CAAC,EAAuB,EAAE,GAAwB;;QACpD,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;QAEtB,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;QAE7B,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAEhC,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;QAErE,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAE/B,KAAK,CAAC,SAAS,EAAE,CAAC;QAElB,IAAI,CAAC,aAAa,EAAE;YAChB,UAAI,CAAC,QAAQ,0CAAE,MAAM,CAAC,EAAE,EAAE;SAC7B;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,sBAAsB,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;QAErC,UAAI,CAAC,OAAO,0CAAE,MAAM,CAAC,GAAG,EAAE;QAC1B,UAAI,CAAC,IAAI,0CAAE,MAAM,CAAC,EAAE,EAAE;QAEtB,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAE/B,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,KAAK,CAAC,SAAS,EAAE,CAAC;IACtB,CAAC;IAED,WAAW;QACP,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QAChF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QAChF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QACnF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QACnF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAC7G,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;IAC3F,CAAC;IAED,sBAAsB,CAAC,EAAuB,EAAE,GAAwB;QACpE,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;QAErC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;QACvF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;QACtF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;QACvF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC;QAE3F,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;IAC1F,CAAC;IAED,IAAI,CAAC,EAAyB;QAC1B,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QAE3C,qFAAqF;QACrF,IAAI,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,mBAAmB,CAAC,EAAE;YACzC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC9B;QAED,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;QAElC,yCAAyC;QACzC,eAAe,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;QAC9B,eAAe,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;QAC9B,eAAe,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;QAC9B,eAAe,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;QAC9B,eAAe,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC;QAChC,eAAe,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC;QAEhC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QAEtB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACzC,CAAC;IAED,OAAO;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAEhB,+GAA+G;QAC9G,IAAsB,CAAC,SAAS,GAAG,SAAS,CAAC;IAClD,CAAC;CACJ;;;;;;ACzQ6D;AACX;AAE5C,MAAM,yCAAqB,SAAQ,sCAAa;IAiCnD,YAAY,IAA6C;QACrD,KAAK,CAAC,IAAI,CAAC,CAAC;QAjBhB,YAAO,GAAyC,EAAE,CAAC;QAmB/C,IAAI,CAAC,yCAAoB,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YACzC,MAAM,IAAI,SAAS,CAAC,eAAe,CAAC,CAAC;SACxC;QAED,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;QAEtB,sBAAsB;QACtB,kCAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;QAExD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpB,CAAC;IA3BD;;;OAGG;IACH,MAAM,CAAC,WAAW,CAAC,IAAS;;QACxB,iCAAiC;QACjC,OAAO,CAAC,CAAC,IAAI;eACN,OAAO,IAAI,CAAC,KAAK,KAAK,QAAQ;eAC9B,WAAI,CAAC,QAAQ,0CAAE,MAAM,IAAG,CAAC;YAE5B,uCAAuC;eACpC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAS,EAAE,EAAE,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC;IACxE,CAAC;IAiBD;;OAEG;IACO,IAAI,CAAC,IAA2B;QACtC,qCAAY,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QACnD,qCAAY,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QACnD,qCAAY,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;QAEzD,qCAAY,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;QACvD,qCAAY,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;QAEzD,kCAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;QACzD,kCAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,aAAa,EAAE,aAAa,CAAC,CAAC;QAC9D,kCAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,aAAa,EAAE,YAAY,CAAC,CAAC;QAC7D,kCAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,gBAAgB,EAAE,eAAe,CAAC,CAAC;IACvE,CAAC;IAED,YAAY,CAAC,OAA+C;QACxD,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAE5B,KAAK,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YACzD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrC,OAAO,CAAC,CAAC,CAAE,CAAC,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAE,CAAC,IAAI,EAAE,WAAW,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAE5E,IAAI,OAAO,CAAC,CAAC,CAAE,CAAC,KAAK,KAAK,SAAS,EAAE;oBACjC,OAAO,CAAC,CAAC,CAAE,CAAC,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAE,CAAC,KAAM,EAAE,WAAW,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC;iBACnF;aACJ;SACJ;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC9C,IAAI,CAAC,WAAW,CAAC,CAAC,CAAE,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAE,CAAC,IAAI,EAAE,eAAe,CAAC,QAAQ,CAAC,CAAC;aAC5F;SACJ;IACL,CAAC;CACJ;;;ACvFD,MAAM,YAAY,GAAG;IACjB,CAAC,EAAE,WAAW,CAAC,GAAG,CAAC,QAAQ;IAC3B,CAAC,EAAE,WAAW,CAAC,GAAG,CAAC,QAAQ;IAC3B,KAAK,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc;CACxC,CAAC;AAEF,MAAM,eAAe,GAAG;IACpB,CAAC,EAAE,WAAW,CAAC,GAAG,CAAC,QAAQ;IAC3B,CAAC,EAAE,WAAW,CAAC,GAAG,CAAC,QAAQ;IAC3B,KAAK,EAAE,WAAW,CAAC,GAAG,CAAC,cAAc;CACxC,CAAC;AAEK,MAAM,aAAa;IAGtB,YAAqB,SAA2B,EAAE,IAA6B;QAA1D,cAAS,GAAT,SAAS,CAAkB;QAFhD,iBAAY,GAAkB,EAAE,CAAC;QAG7B,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;gBACnD,MAAM,WAAW,GAAG,IAAI,WAAW,EAAE,CAAC;gBAEtC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAE3F,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE;oBACpD,MAAM,IAAI,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;oBAEjC,IAAI,IAAI,EAAE;wBACN,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;qBACpD;gBACL,CAAC,CAAC,CAAC;gBAEH,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE;oBACxD,MAAM,IAAI,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC;oBAEpC,IAAI,IAAI,EAAE;wBACN,WAAW,CAAC,cAAc,CAAC,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;qBACvD;gBACL,CAAC,CAAC,CAAC;gBAEH,OAAO,WAAW,CAAC;YACvB,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,MAAM,CAAC,OAA4B;QAC/B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;IAC1F,CAAC;CACJ;;;AC9C+B;AAEhC,MAAM,gBAAgB;IAKlB,YAAqB,EAAU;QAAV,OAAE,GAAF,EAAE,CAAQ;QAJ/B,eAAU,GAAG,CAAC,CAAC,CAAC;QAChB,eAAU,GAAG,CAAC,CAAC,CAAC;QAChB,SAAI,GAAuB,EAAE,CAAC;IAEI,CAAC;IAEnC,SAAS,CAAC,KAAuB;QAC7B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QAC5D,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,iBAAiB,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QACtE,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;IAC5C,CAAC;CACJ;AAEM,MAAM,qBAAU;IAKnB,YAAqB,SAA2B,EAAE,IAA0B;QAAvD,cAAS,GAAT,SAAS,CAAkB;QAJhD,wBAAmB,GAAwB,GAAG,CAAC;QAE/C,gBAAW,GAAyB,EAAE,CAAC;QAGnC,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CACpD,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE;gBACvB,MAAM,KAAK,GAAG,IAAI,gBAAgB,CAAC,EAAE,CAAC,CAAC;gBAEvC,IAAI,IAAI,EAAE;oBACN,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC;iBACvD;gBAED,OAAO,KAAK,CAAC;YACjB,CAAC,CAAC,CACL,CAAC;YAEF,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;IACL,CAAC;IAED,IAAI;QACA,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YAC7B,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBAClB,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAEhC,IAAI,KAAK,CAAC,UAAU,IAAI,CAAC,EAAE;oBACvB,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;oBACrE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,KAAK,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAClE,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAEhE,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;wBACvB,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;qBACxD;iBACJ;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0BAA0B,CAAC,UAA8B,EAAE,EAAuB;QAC9E,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;QAC7B,MAAM,GAAG,GAAG,GAAG,CAAC;QAChB,MAAM,cAAc,GAAG,IAAI,CAAC;QAC5B,IAAI,cAAc,GAAG,CAAC,CAAC;QAEvB,IAAI,YAAY,GAAG,UAAU,CAAC,SAAS,CACnC,CAAC,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC,UAAU,IAAI,CAAC,IAAI,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,CAC3F,CAAC;QAEF,IAAI,YAAY,IAAI,CAAC,EAAE;YACnB,MAAM,eAAe,GAAG,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,YAAY,CAAE,CAAC,UAAU,CAAC,CAAC;YAEpF,cAAc,GAAG,8BAAK,CAAC,eAAe,GAAG,EAAE,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;SACjF;aAAM;YACH,YAAY,GAAG,CAAC,CAAC;YACjB,cAAc,GAAG,CAAC,CAAC;SACtB;QAED,UAAU,CAAC,OAAO,CAAC,CAAC,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE,EAAE;YACzC,IAAI,UAAU,IAAI,CAAC,EAAE;gBACjB,IAAI,YAAY,IAAI,KAAK,EAAE;oBACvB,KAAK,CAAC,eAAe,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;iBACrD;qBAAM;oBACH,IAAI,OAAO,GAAG,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;oBAEhD,0DAA0D;oBAC1D,IAAI,EAAE,CAAC;oBACP,IAAI,cAAc,GAAG,GAAG,EAAE;wBACtB,EAAE,GAAG,CAAC,cAAc,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;qBAC/C;yBAAM;wBACH,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,cAAc,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;qBACjD;oBACD,IAAI,MAAM,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC,CAAC;oBAC7C,IAAI,MAAM,GAAG,cAAc,EAAE;wBACzB,EAAE,GAAG,CAAC,GAAG,cAAc,GAAG,CAAC,CAAC,GAAG,cAAc,CAAC,CAAC;qBAClD;oBACD,IAAI,OAAO,GAAG,EAAE,EAAE;wBACd,OAAO,GAAG,EAAE,CAAC;qBAChB;oBAED,KAAK,CAAC,eAAe,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;iBAC9C;aACJ;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,WAAW,CAAC,UAA8B;QACtC,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;QAE7B,UAAU,CAAC,OAAO,CAAC,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,EAAE,EAAE;YACxC,IAAI,UAAU,IAAI,CAAC,IAAI,IAAI,EAAE;gBACzB,MAAM,OAAO,GAAG,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;gBAElD,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE;oBAC5B,IAAI,UAAU,IAAI,CAAC,EAAE;wBACjB,KAAK,CAAC,eAAe,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;qBAC9C;gBACL,CAAC,CAAC,CAAC;aACN;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,MAAM,CAAC,EAAuB;QAC1B,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YACjC,IAAI,CAAC,0BAA0B,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;YAC/C,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;;;;;;AC9HqE;AACA;AACd;AACN;AAC4B;AAE9E,sCAAa,CAAC,eAAe,CAAC;IAC1B,OAAO,EAAE,CAAC;IAEV,IAAI,CAAC,MAAW;QACZ,OAAO,MAAM,YAAY,yCAAoB,IAAI,yCAAoB,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAC9F,CAAC;IAED,KAAK;QACD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,UAAU,CAAC,SAAsB;QAC7B,IAAI,SAAS,CAAC,UAAU,GAAG,CAAC,EAAE;YAC1B,OAAO,KAAK,CAAC;SAChB;QAED,MAAM,IAAI,GAAG,IAAI,SAAS,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAE5C,OAAO,MAAM,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,KAAK,KAAK,CAAC;IAClD,CAAC;IAED,mBAAmB,CAAC,IAAY;QAC5B,OAAO,IAAI,yCAAoB,CAAC,IAA+C,CAAC,CAAC;IACrF,CAAC;IAED,eAAe,CAAC,IAAiB;QAC7B,MAAM,KAAK,GAAG,gBAAgB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAE/C,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAChC,IAAI,KAAK;YAAE,MAAM,KAAK,CAAC;QAEvB,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,mBAAmB,CAAC,SAA2B,EAAE,QAA8B,EAAE,OAA8B;QAC3G,OAAO,IAAI,yCAAoB,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IAClE,CAAC;IAED,UAAU,CAAC,SAA2B,EAAE,IAAS;QAC7C,OAAO,IAAI,qBAAU,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC3C,CAAC;IAED,aAAa,CAAC,SAA2B,EAAE,IAAS;QAChD,OAAO,IAAI,aAAa,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC9C,CAAC;CACJ,CAAC,CAAC;;;ACnDsB;AACD;AAEmB;AACJ;AACA;AACA;AACJ;AACF;AACD;AACH;AACH;;;;;;;ACX1B,sBAAsB,mBAAO,CAAC,EAAoB;AAClD,iBAAiB,mBAAO,CAAC,EAAe;AACxC,mBAAmB,mBAAO,CAAC,GAAiB;;AAE5C;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA,IAAI;AACJ,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;ACnCA,IAAI,CAAE,MAAc,CAAC,MAAM,EAAE;IACzB,MAAM,IAAI,KAAK,CAAC,4EAA4E,CAAC,CAAC;CACjG;;;;;;;;;ACFD,IAAI,CAAE,MAAc,CAAC,gBAAgB,EAAE;IACnC,MAAM,IAAI,KAAK,CAAC,sFAAsF,CAAC,CAAC;CAC3G;;;;;;;ACFD,qBAAqB,mBAAO,CAAC,EAAmB;;AAEhD;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;;;;;;;ACxBA,cAAc,mBAAO,CAAC,EAAY;AAClC,WAAW,mBAAO,CAAC,EAAQ;;AAE3B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA,oBAAoB,mBAAO,CAAC,EAAkB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;;;;;;;ACfA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,kBAAkB,mBAAO,CAAC,EAAe;AACzC,cAAc,mBAAO,CAAC,EAAW;AACjC,eAAe,mBAAO,CAAC,EAAY;AACnC,cAAc,mBAAO,CAAC,EAAY;AAClC,mBAAmB,mBAAO,CAAC,EAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA,iBAAiB,mBAAO,CAAC,EAAe;AACxC,mBAAmB,mBAAO,CAAC,EAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,EAAe;AACxC,eAAe,mBAAO,CAAC,EAAY;AACnC,mBAAmB,mBAAO,CAAC,EAAgB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3DA,+DAAiB,mBAAO,CAAC,EAAe;;AAExC;AACA,kBAAkB,KAA0B;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;AC7BA,kBAAkB,mBAAO,CAAC,GAAgB;AAC1C,iBAAiB,mBAAO,CAAC,GAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACjBA,cAAc,mBAAO,CAAC,GAAY;;AAElC;AACA;;AAEA;;;;;;;ACLA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA,iBAAiB,mBAAO,CAAC,EAAc;AACvC,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA,kBAAkB,mBAAO,CAAC,GAAgB;AAC1C,0BAA0B,mBAAO,CAAC,GAAwB;AAC1D,eAAe,mBAAO,CAAC,EAAY;AACnC,cAAc,mBAAO,CAAC,EAAW;AACjC,eAAe,mBAAO,CAAC,GAAY;;AAEnC;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA,kBAAkB,mBAAO,CAAC,GAAgB;AAC1C,mBAAmB,mBAAO,CAAC,GAAiB;AAC5C,8BAA8B,mBAAO,CAAC,EAA4B;;AAElE;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA,YAAY,mBAAO,CAAC,EAAU;AAC9B,kBAAkB,mBAAO,CAAC,EAAgB;;AAE1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACZA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AClBA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA,gBAAgB,mBAAO,CAAC,EAAc;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACbA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,UAAU,mBAAO,CAAC,EAAQ;AAC1B,eAAe,mBAAO,CAAC,EAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA,WAAW,mBAAO,CAAC,GAAS;AAC5B,gBAAgB,mBAAO,CAAC,EAAc;AACtC,UAAU,mBAAO,CAAC,EAAQ;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA,gBAAgB,mBAAO,CAAC,GAAc;AACtC,iBAAiB,mBAAO,CAAC,GAAe;AACxC,cAAc,mBAAO,CAAC,GAAY;AAClC,cAAc,mBAAO,CAAC,GAAY;AAClC,cAAc,mBAAO,CAAC,GAAY;;AAElC;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,mBAAmB,mBAAO,CAAC,EAAiB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,iBAAiB,mBAAO,CAAC,EAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA,iBAAiB,mBAAO,CAAC,EAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,EAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,EAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA,YAAY,mBAAO,CAAC,EAAU;AAC9B,kBAAkB,mBAAO,CAAC,EAAgB;AAC1C,iBAAiB,mBAAO,CAAC,GAAe;AACxC,mBAAmB,mBAAO,CAAC,GAAiB;AAC5C,aAAa,mBAAO,CAAC,GAAW;AAChC,cAAc,mBAAO,CAAC,EAAW;AACjC,eAAe,mBAAO,CAAC,EAAY;AACnC,mBAAmB,mBAAO,CAAC,EAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClFA,eAAe,mBAAO,CAAC,EAAa;AACpC,kBAAkB,mBAAO,CAAC,GAAgB;AAC1C,kBAAkB,mBAAO,CAAC,GAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC1BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACZA,aAAa,mBAAO,CAAC,EAAW;AAChC,iBAAiB,mBAAO,CAAC,GAAe;AACxC,SAAS,mBAAO,CAAC,EAAM;AACvB,kBAAkB,mBAAO,CAAC,EAAgB;AAC1C,iBAAiB,mBAAO,CAAC,GAAe;AACxC,iBAAiB,mBAAO,CAAC,GAAe;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/GA,WAAW,mBAAO,CAAC,CAAS;;AAE5B;AACA;;AAEA;;;;;;;ACLA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,GAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzFA,qBAAqB,mBAAO,CAAC,GAAmB;AAChD,iBAAiB,mBAAO,CAAC,GAAe;AACxC,WAAW,mBAAO,CAAC,EAAQ;;AAE3B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA,gBAAgB,mBAAO,CAAC,GAAc;AACtC,cAAc,mBAAO,CAAC,EAAW;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA,kBAAkB,mBAAO,CAAC,GAAgB;AAC1C,gBAAgB,mBAAO,CAAC,GAAa;;AAErC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA,eAAe,mBAAO,CAAC,GAAa;AACpC,UAAU,mBAAO,CAAC,EAAQ;AAC1B,cAAc,mBAAO,CAAC,GAAY;AAClC,UAAU,mBAAO,CAAC,GAAQ;AAC1B,cAAc,mBAAO,CAAC,GAAY;AAClC,iBAAiB,mBAAO,CAAC,EAAe;AACxC,eAAe,mBAAO,CAAC,EAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzDA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,WAAW,mBAAO,CAAC,CAAS;;AAE5B;AACA;;AAEA;;;;;;;ACNA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,WAAW,mBAAO,CAAC,CAAS;;AAE5B;AACA;;AAEA;;;;;;;ACNA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,WAAW,mBAAO,CAAC,CAAS;;AAE5B;AACA;;AAEA;;;;;;;ACNA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,WAAW,mBAAO,CAAC,CAAS;;AAE5B;AACA;;AAEA;;;;;;;ACNA,yBAAyB,mBAAO,CAAC,EAAuB;AACxD,WAAW,mBAAO,CAAC,EAAQ;;AAE3B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA,kBAAkB,mBAAO,CAAC,EAAgB;AAC1C,UAAU,mBAAO,CAAC,GAAO;AACzB,YAAY,mBAAO,CAAC,GAAS;AAC7B,YAAY,mBAAO,CAAC,EAAU;AAC9B,yBAAyB,mBAAO,CAAC,EAAuB;AACxD,8BAA8B,mBAAO,CAAC,EAA4B;AAClE,YAAY,mBAAO,CAAC,EAAU;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA,cAAc,mBAAO,CAAC,EAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA,oBAAoB,mBAAO,CAAC,GAAkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;AC1BA,cAAc,mBAAO,CAAC,GAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;ACzBA,eAAe,mBAAO,CAAC,EAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACxEA,mBAAmB,mBAAO,CAAC,GAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA,aAAa,mBAAO,CAAC,EAAW;AAChC,eAAe,mBAAO,CAAC,EAAa;AACpC,cAAc,mBAAO,CAAC,EAAW;AACjC,eAAe,mBAAO,CAAC,EAAY;;AAEnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA,gBAAgB,mBAAO,CAAC,GAAc;AACtC,cAAc,mBAAO,CAAC,GAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA,0BAA0B,gBAAgB,SAAS,GAAG;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACZA,eAAe,mBAAO,CAAC,EAAa;AACpC,kBAAkB,mBAAO,CAAC,EAAe;AACzC,cAAc,mBAAO,CAAC,EAAW;AACjC,cAAc,mBAAO,CAAC,EAAY;AAClC,eAAe,mBAAO,CAAC,EAAY;AACnC,YAAY,mBAAO,CAAC,EAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtCA,mBAAmB,mBAAO,CAAC,GAAiB;AAC5C,uBAAuB,mBAAO,CAAC,GAAqB;AACpD,YAAY,mBAAO,CAAC,EAAU;AAC9B,YAAY,mBAAO,CAAC,EAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA,MAAM,OAAO,SAAS,EAAE;AACxB,MAAM,OAAO,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA,cAAc,mBAAO,CAAC,EAAY;;AAElC;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyB;AACC;AACA","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@pixi/math\"), require(\"@pixi/utils\"), require(\"@pixi/core\"), require(\"@pixi/text\"), require(\"@pixi/display\"), require(\"@pixi/graphics\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@pixi/math\", \"@pixi/utils\", \"@pixi/core\", \"@pixi/text\", \"@pixi/display\", \"@pixi/graphics\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"live2d\"] = factory(require(\"@pixi/math\"), require(\"@pixi/utils\"), require(\"@pixi/core\"), require(\"@pixi/text\"), require(\"@pixi/display\"), require(\"@pixi/graphics\"));\n\telse\n\t\troot[\"PIXI\"] = root[\"PIXI\"] || {}, root[\"PIXI\"][\"live2d\"] = factory(root[\"PIXI\"], root[\"PIXI\"][\"utils\"], root[\"PIXI\"], root[\"PIXI\"], root[\"PIXI\"], root[\"PIXI\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__20__, __WEBPACK_EXTERNAL_MODULE__24__, __WEBPACK_EXTERNAL_MODULE__34__, __WEBPACK_EXTERNAL_MODULE__35__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 165);\n","import { config } from '@/config';\n\n/**\n * A simple tagged logger.\n *\n * You can replace the methods with your own ones.\n *\n * ```js\n * import { logger } from 'pixi-live2d-display';\n *\n * logger.log = (tag, ...messages) => {\n *     console.log(tag, 'says:', ...messages);\n * };\n * ```\n */\nexport namespace logger {\n    export function log(tag: string, ...messages: any[]) {\n        if (config.logLevel <= config.LOG_LEVEL_VERBOSE) {\n            console.log(`[${tag}]`, ...messages);\n        }\n    }\n\n    export function warn(tag: string, ...messages: any[]) {\n        if (config.logLevel <= config.LOG_LEVEL_WARNING) {\n            console.warn(`[${tag}]`, ...messages);\n        }\n    }\n\n    export function error(tag: string, ...messages: any[]) {\n        if (config.logLevel <= config.LOG_LEVEL_ERROR) {\n            console.error(`[${tag}]`, ...messages);\n        }\n    }\n}\n","/**\n * These functions can be slightly faster than the ones in Lodash.\n * @packageDocumentation\n */\n\nexport function clamp(num: number, lower: number, upper: number) {\n    return num < lower ? lower : num > upper ? upper : num;\n}\n\nexport function rand(min: number, max: number) {\n    return Math.random() * (max - min) + min;\n}\n","/**\n * Copies a property at only if it matches the `type`.\n * @param type - Type expected to match `typeof` on the property.\n * @param from - Source object.\n * @param to - Destination object.\n * @param fromKey - Key of the property in source object.\n * @param toKey - Key of the property in destination object.\n */\n// TODO: lint and fix the formatting!\nexport function copyProperty<From, FromKey extends keyof From, ToKey extends keyof any, To extends Partial<Record<ToKey, From[FromKey]>>>(type: string, from: From, to: To, fromKey: FromKey, toKey: ToKey) {\n    const value = from[fromKey];\n\n    if (value !== null && typeof value === type) {\n        // a type error will occur here, have no idea\n        to[toKey] = value as any;\n    }\n}\n\n/**\n * Copies an array at `key`, filtering the items that match the `type`.\n * @param type - Type expected to match `typeof` on the items.\n * @param from - Source object.\n * @param to - Destination object.\n * @param fromKey - Key of the array property in source object.\n * @param toKey - Key of the array property in destination object.\n */\nexport function copyArray<FromKey extends keyof any, From extends Partial<Record<FromKey, any[]>>, ToKey extends keyof any, To extends Partial<Record<ToKey, any[]>>>(type: string, from: From, to: To, fromKey: FromKey, toKey: ToKey) {\n    const array = from[fromKey];\n\n    if (Array.isArray(array)) {\n        to[toKey] = array.filter(item => item !== null && typeof item === type) as any;\n    }\n}\n\n/**\n * @see {@link https://www.typescriptlang.org/docs/handbook/mixins.html}\n */\nexport function applyMixins(derivedCtor: any, baseCtors: any[]) {\n    baseCtors.forEach(baseCtor => {\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\n            if (name !== 'constructor') {\n                Object.defineProperty(derivedCtor.prototype, name, Object.getOwnPropertyDescriptor(baseCtor.prototype, name)!);\n            }\n        });\n    });\n}\n","/**\n * Gets the name of parent folder in a url.\n * @param url - URL of a file.\n * @return Name of the parent folder, or the file itself if it has no parent folder.\n */\nexport function folderName(url: string) {\n    let lastSlashIndex = url.lastIndexOf('/');\n\n    if (lastSlashIndex != -1) {\n        url = url.slice(0, lastSlashIndex);\n    }\n\n    lastSlashIndex = url.lastIndexOf('/');\n\n    if (lastSlashIndex !== -1) {\n        url = url.slice(lastSlashIndex + 1);\n    }\n\n    return url;\n}\n","export * from './log';\nexport * from './math';\nexport * from './obj';\nexport * from './string';\n","/**\n * Global configs.\n */\nexport namespace config {\n    export const LOG_LEVEL_VERBOSE = 0;\n    export const LOG_LEVEL_WARNING = 1;\n    export const LOG_LEVEL_ERROR = 2;\n    export const LOG_LEVEL_NONE = 999;\n\n    declare const __PRODUCTION__: boolean;\n\n    /**\n     * Global log level.\n     * @default {@link LOG_LEVEL_WARNING}\n     */\n    export let logLevel = __PRODUCTION__ ? LOG_LEVEL_WARNING : LOG_LEVEL_VERBOSE;\n\n    /**\n     * Enabling sound for motions.\n     */\n    export let sound = true;\n\n    /**\n     * Deferring motion and corresponding sound until both are loaded.\n     */\n    export let motionSync = true;\n\n    /**\n     * Default fading duration for motions without such value specified.\n     */\n    export let motionFadingDuration = 500;\n\n    /**\n     * Default fading duration for idle motions without such value specified.\n     */\n    export let idleMotionFadingDuration = 2000;\n\n    /**\n     * Default fading duration for expressions without such value specified.\n     */\n    export let expressionFadingDuration = 500;\n\n    export let cubism4: {\n        /**\n         * Should masks support 4x4 division, which is unofficial and experimental.\n         * See [official manual](https://docs.live2d.com/cubism-sdk-manual/ow-sdk-mask-premake-web/?locale=en_us).\n         * @default true\n         */\n        supportMoreMaskDivisions: boolean;\n    } | undefined;\n}\n\ndeclare const __VERSION__: string;\n\n/**\n * Consistent with the `version` in package.json.\n */\nexport const VERSION = __VERSION__;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","import { ExpressionManager, InternalModel, ModelSettings, MotionManager } from '@/cubism-common';\nimport { XHRLoader } from '@/factory/XHRLoader';\nimport { Live2DModel } from '@/Live2DModel';\nimport { Middleware, runMiddlewares } from '@/utils/middleware';\n\nexport type Live2DLoaderTarget = Live2DModel | InternalModel | MotionManager | ExpressionManager\n\n/**\n * The context transferred through Live2DLoader middlewares.\n */\nexport interface Live2DLoaderContext {\n    /** The XHR's response type. */\n    type: XMLHttpRequestResponseType;\n\n    /** Will be resolved by {@link ModelSettings.resolveURL} if a ModelSettings is provided. */\n    url: string;\n\n    /** If provided, the given URL will be resolved by {@link ModelSettings.resolveURL}. */\n    settings?: ModelSettings;\n\n    /**\n     * Owner of this resource. The load task will be automatically canceled\n     * when receiving an \"destroy\" event from the target.\n     */\n    target?: Live2DLoaderTarget;\n\n    /** Loaded data. */\n    result?: any;\n}\n\nexport class Live2DLoader {\n    static middlewares: Middleware<Live2DLoaderContext>[] = [XHRLoader.loader];\n\n    /**\n     * Loads a resource.\n     * @return Promise that resolves with the loaded data in a format that's consistent with the specified `type`.\n     */\n    static load<T = any>(context: Live2DLoaderContext): Promise<T> {\n        return runMiddlewares(this.middlewares, context).then(() => context.result);\n    }\n}\n","import { Texture } from '@pixi/core';\n\nexport function createTexture(url: string, options: { crossOrigin?: string } = {}): Promise<Texture> {\n    const textureOptions: any = { resourceOptions: { crossorigin: options.crossOrigin } };\n\n    // there's already such a method since Pixi v5.3.0\n    if ((Texture as any).fromURL) {\n        return Texture.fromURL(url, textureOptions).catch(e => {\n            if (e instanceof Error) {\n                throw e;\n            }\n\n            // assume e is an ErrorEvent, let's convert it to an Error\n            const err = new Error('Texture loading error');\n            (err as any).event = e;\n\n            throw err;\n        });\n    }\n\n    // and in order to provide backward compatibility for older Pixi versions,\n    // we have to manually implement this method\n    // see https://github.com/pixijs/pixi.js/pull/6687/files\n\n    textureOptions.resourceOptions.autoLoad = false;\n\n    const texture = Texture.from(url, textureOptions);\n\n    if (texture.baseTexture.valid) {\n        return Promise.resolve(texture);\n    }\n\n    const resource = texture.baseTexture.resource as any;\n\n    // before Pixi v5.2.2, the Promise will not be rejected when loading has failed,\n    // we have to manually handle the \"error\" event\n    // see https://github.com/pixijs/pixi.js/pull/6374\n    resource._live2d_load ??= new Promise<Texture>((resolve, reject) => {\n        const errorHandler = (event: ErrorEvent) => {\n            (resource.source as HTMLImageElement).removeEventListener('error', errorHandler);\n\n            // convert the ErrorEvent to an Error\n            const err = new Error('Texture loading error');\n            (err as any).event = event;\n\n            reject(err);\n        };\n\n        (resource.source as HTMLImageElement).addEventListener('error', errorHandler);\n\n        (resource.load() as Promise<unknown>).then(() => resolve(texture)).catch(errorHandler);\n    });\n\n    return resource._live2d_load;\n}\n","import { Middleware } from '@/utils/middleware';\nimport { Live2DLoader } from '@/factory/Live2DLoader';\nimport { ModelSettings } from '@/cubism-common';\nimport { logger } from '@/utils';\nimport { createTexture } from '@/factory/texture';\nimport { Live2DFactory, Live2DFactoryContext } from '@/factory/Live2DFactory';\n\nconst TAG = 'Live2DFactory';\n\n/**\n * A middleware that converts the source from a URL to a settings JSON object.\n */\nexport const urlToJSON: Middleware<Live2DFactoryContext> = async (context, next) => {\n    if (typeof context.source === 'string') {\n        const data = await Live2DLoader.load({\n            url: context.source,\n            type: 'json',\n            target: context.live2dModel,\n        });\n\n        data.url = context.source;\n\n        context.source = data;\n\n        context.live2dModel.emit('settingsJSONLoaded', data);\n    }\n\n    return next();\n};\n\n/**\n * A middleware that converts the source from a settings JSON object to a ModelSettings instance.\n */\nexport const jsonToSettings: Middleware<Live2DFactoryContext> = async (context, next) => {\n    if (context.source instanceof ModelSettings) {\n        context.settings = context.source;\n\n        return next();\n    } else if (typeof context.source === 'object') {\n        const runtime = Live2DFactory.findRuntime(context.source);\n\n        if (runtime) {\n            const settings = runtime.createModelSettings(context.source);\n\n            context.settings = settings;\n            context.live2dModel.emit('settingsLoaded', settings);\n\n            return next();\n        }\n    }\n\n    throw new TypeError('Unknown settings format.');\n};\n\nexport const waitUntilReady: Middleware<Live2DFactoryContext> = (context, next) => {\n    if (context.settings) {\n        const runtime = Live2DFactory.findRuntime(context.settings);\n\n        if (runtime) {\n            return runtime.ready().then(next);\n        }\n    }\n\n    return next();\n};\n\n/**\n * A middleware that populates the Live2DModel with optional resources.\n * Requires InternalModel in context when all the subsequent middlewares have finished.\n */\nexport const setupOptionals: Middleware<Live2DFactoryContext> = async (context, next) => {\n    // wait until all has finished\n    await next();\n\n    const internalModel = context.internalModel;\n\n    if (internalModel) {\n        const settings = context.settings!;\n        const runtime = Live2DFactory.findRuntime(settings);\n\n        if (runtime) {\n            const tasks: Promise<void>[] = [];\n\n            if (settings.pose) {\n                tasks.push(\n                    Live2DLoader.load({\n                            settings,\n                            url: settings.pose,\n                            type: 'json',\n                            target: internalModel,\n                        })\n                        .then((data: ArrayBuffer) => {\n                            internalModel.pose = runtime.createPose(internalModel.coreModel, data);\n                            context.live2dModel.emit('poseLoaded', internalModel.pose);\n                        })\n                        .catch((e: Error) => logger.warn(TAG, 'Failed to load pose.\\n', e)),\n                );\n            }\n\n            if (settings.physics) {\n                tasks.push(\n                    Live2DLoader.load({\n                            settings,\n                            url: settings.physics,\n                            type: 'json',\n                            target: internalModel,\n                        })\n                        .then((data: ArrayBuffer) => {\n                            internalModel.physics = runtime.createPhysics(internalModel.coreModel, data);\n                            context.live2dModel.emit('physicsLoaded', internalModel.physics);\n                        })\n                        .catch((e: Error) => logger.warn(TAG, 'Failed to load physics.\\n', e)),\n                );\n            }\n\n            if (tasks.length) {\n                await Promise.all(tasks);\n            }\n        }\n    }\n};\n\n/**\n * A middleware that populates the Live2DModel with essential resources.\n * Requires ModelSettings in context immediately, and InternalModel in context\n * when all the subsequent middlewares have finished.\n */\nexport const setupEssentials: Middleware<Live2DFactoryContext> = async (context, next) => {\n    if (context.settings) {\n        const live2DModel = context.live2dModel;\n\n        const textureLoadings = context.settings.textures.map(tex => {\n            const url = context.settings!.resolveURL(tex);\n            return createTexture(url, { crossOrigin: context.options.crossOrigin });\n        });\n\n        // wait for the internal model to be created\n        await next();\n\n        if (context.internalModel) {\n            live2DModel.internalModel = context.internalModel;\n            live2DModel.emit('modelLoaded', context.internalModel);\n        } else {\n            throw new TypeError('Missing internal model.');\n        }\n\n        live2DModel.textures = await Promise.all(textureLoadings);\n        live2DModel.emit('textureLoaded', live2DModel.textures);\n    } else {\n        throw new TypeError('Missing settings.');\n    }\n};\n\n/**\n * A middleware that creates the InternalModel. Requires ModelSettings in context.\n */\nexport const createInternalModel: Middleware<Live2DFactoryContext> = async (context, next) => {\n    const settings = context.settings;\n\n    if (settings instanceof ModelSettings) {\n        const runtime = Live2DFactory.findRuntime(settings);\n\n        if (!runtime) {\n            throw new TypeError('Unknown model settings.');\n        }\n\n        const modelData = await Live2DLoader.load<ArrayBuffer>({\n            settings,\n            url: settings.moc,\n            type: 'arraybuffer',\n            target: context.live2dModel,\n        });\n\n        if (!runtime.isValidMoc(modelData)) {\n            throw new Error('Invalid moc data');\n        }\n\n        const coreModel = runtime.createCoreModel(modelData);\n\n        context.internalModel = runtime.createInternalModel(coreModel, settings, context.options);\n\n        return next();\n    }\n\n    throw new TypeError('Missing settings.');\n};\n","import { ExpressionManager, InternalModel, ModelSettings, MotionManager } from '@/cubism-common';\nimport { Live2DLoader } from '@/factory/Live2DLoader';\nimport { Live2DModel, Live2DModelOptions } from '@/Live2DModel';\nimport { logger } from '@/utils';\nimport { Middleware, runMiddlewares } from '@/utils/middleware';\nimport {\n    createInternalModel,\n    jsonToSettings,\n    setupEssentials,\n    setupOptionals,\n    urlToJSON,\n    waitUntilReady,\n} from '@/factory/model-middlewares';\n\nexport interface Live2DFactoryOptions extends Live2DModelOptions {\n    /**\n     * String to use for crossOrigin properties on `<img>` elements when loading textures.\n     * @default undefined\n     */\n    crossOrigin?: string;\n\n    /**\n     * Callback invokes when the model has been loaded.\n     * @default undefined\n     */\n    onLoad?(): void;\n\n    /**\n     * Callback invokes when error occurs while loading the model.\n     * @default undefined\n     */\n    onError?(e: Error): void;\n}\n\n/**\n * The context transferred through the model creation middlewares.\n */\nexport interface Live2DFactoryContext {\n    source: any,\n    options: Live2DFactoryOptions;\n    live2dModel: Live2DModel;\n    internalModel?: InternalModel;\n    settings?: ModelSettings;\n}\n\n/**\n * Represents a Cubism version.\n */\nexport interface Live2DRuntime {\n    /**\n     * The version number. Higher version takes priority when matching the runtime.\n     */\n    version: number;\n\n    /**\n     * Checks if the source belongs to this runtime.\n     * @param source - Either a settings JSON object or a ModelSettings instance.\n     * @return True if the source belongs to this runtime.\n     */\n    test(source: any): boolean;\n\n    // TODO: remove\n    ready(): Promise<void>;\n\n    /**\n     * Checks if the data is a valid moc to create the core model.\n     * @param modelData - The moc content.\n     * @return True if the data is valid.\n     */\n    isValidMoc(modelData: ArrayBuffer): boolean;\n\n    /**\n     * Creates a ModelSettings.\n     * @param json - The settings JSON object.\n     * @return Created ModelSettings.\n     */\n    createModelSettings(json: JSONObject): ModelSettings;\n\n    /**\n     * Creates a core model.\n     * @param data - Content of the moc file.\n     * @return Created core model.\n     */\n    createCoreModel(data: ArrayBuffer): any;\n\n    /**\n     * Creates an InternalModel.\n     * @param coreModel - Core model that *must* belong to this runtime.\n     * @param settings - ModelSettings of this model.\n     * @param options - Options that will be passed to the InternalModel's constructor.\n     * @return Created InternalModel.\n     */\n    createInternalModel(coreModel: any, settings: ModelSettings, options?: Live2DFactoryOptions): InternalModel;\n\n    /**\n     * Creates a pose.\n     * @param coreModel - Core model that *must* belong to this runtime.\n     * @param data - Content of the pose file.\n     * @return Created pose.\n     */\n    createPose(coreModel: any, data: any): any;\n\n    /**\n     * Creates a physics.\n     * @param coreModel - Core model that *must* belong to this runtime.\n     * @param data - Content of the physics file.\n     * @return Created physics.\n     */\n    createPhysics(coreModel: any, data: any): any;\n}\n\n/**\n * Handles all the network load tasks.\n *\n * - Model creation: requested by {@link Live2DModel.from}.\n * - Motion loading: implements the load method of MotionManager.\n * - Expression loading: implements the load method of ExpressionManager.\n */\nexport class Live2DFactory {\n    /**\n     * All registered runtimes, sorted by versions in descending order.\n     */\n    static runtimes: Live2DRuntime[] = [];\n\n    static urlToJSON = urlToJSON;\n    static jsonToSettings = jsonToSettings;\n    static waitUntilReady = waitUntilReady;\n    static setupOptionals = setupOptionals;\n    static setupEssentials = setupEssentials;\n    static createInternalModel = createInternalModel;\n\n    /**\n     * Middlewares to run through when setting up a Live2DModel.\n     */\n    static live2DModelMiddlewares: Middleware<Live2DFactoryContext>[] = [\n        urlToJSON, jsonToSettings, waitUntilReady, setupOptionals, setupEssentials, createInternalModel,\n    ];\n\n    /**\n     * load tasks of each motion. The structure of each value in this map\n     * is the same as respective {@link MotionManager.definitions}.\n     */\n    static motionTasksMap = new WeakMap<MotionManager, Record<string, (Promise<any> | undefined)[]>>();\n\n    /**\n     * Load tasks of each expression.\n     */\n    static expressionTasksMap = new WeakMap<ExpressionManager, (Promise<any> | undefined)[]>();\n\n    /**\n     * Registers a Live2DRuntime.\n     */\n    static registerRuntime(runtime: Live2DRuntime) {\n        Live2DFactory.runtimes.push(runtime);\n\n        // higher version as higher priority\n        Live2DFactory.runtimes.sort((a, b) => b.version - a.version);\n    }\n\n    /**\n     * Finds a runtime that matches given source.\n     * @param source - Either a settings JSON object or a ModelSettings instance.\n     * @return The Live2DRuntime, or undefined if not found.\n     */\n    static findRuntime(source: any): Live2DRuntime | undefined {\n        for (const runtime of Live2DFactory.runtimes) {\n            if (runtime.test(source)) {\n                return runtime;\n            }\n        }\n    }\n\n    /**\n     * Sets up a Live2DModel, populating it with all defined resources.\n     * @param live2dModel - The Live2DModel instance.\n     * @param source - Can be one of: settings file URL, settings JSON object, ModelSettings instance.\n     * @param options - Options for the process.\n     * @return Promise that resolves when all resources have been loaded, rejects when error occurs.\n     */\n    static async setupLive2DModel<IM extends InternalModel>(live2dModel: Live2DModel<IM>, source: string | object | IM['settings'], options?: Live2DFactoryOptions): Promise<void> {\n        const textureLoaded = new Promise(resolve => live2dModel.once('textureLoaded', resolve));\n        const modelLoaded = new Promise(resolve => live2dModel.once('modelLoaded', resolve));\n\n        // because the \"ready\" event is supposed to be emitted after\n        // both the internal model and textures have been loaded,\n        // we should here wrap the emit() in a then() so it'll\n        // be executed after all the handlers of \"modelLoaded\" and \"textureLoaded\"\n        const readyEventEmitted = Promise.all([textureLoaded, modelLoaded]).then(() => live2dModel.emit('ready'));\n\n        await runMiddlewares(Live2DFactory.live2DModelMiddlewares, {\n            live2dModel,\n            source,\n            options: options || {},\n        });\n\n        // the \"load\" event should never be emitted before \"ready\"\n        await readyEventEmitted;\n\n        live2dModel.emit('load');\n    }\n\n    /**\n     * Loads a Motion and registers the task to {@link motionTasksMap}. The task will be automatically\n     * canceled when its owner - the MotionManager instance - has been destroyed.\n     * @param motionManager - MotionManager that owns this Motion.\n     * @param group - The motion group.\n     * @param index - Index in the motion group.\n     * @return Promise that resolves with the Motion, or with undefined if it can't be loaded.\n     */\n    static loadMotion<Motion, MotionSpec>(motionManager: MotionManager<Motion, MotionSpec>, group: string, index: number): Promise<Motion | undefined> {\n        // errors in this method are always handled\n        const handleError = (e: any) => motionManager.emit('motionLoadError', group, index, e);\n\n        try {\n            const definition = motionManager.definitions[group] ?. [index];\n\n            if (!definition) {\n                return Promise.resolve(undefined);\n            }\n\n            if (!motionManager.listeners('destroy').includes(Live2DFactory.releaseTasks)) {\n                motionManager.once('destroy', Live2DFactory.releaseTasks);\n            }\n\n            let tasks = Live2DFactory.motionTasksMap.get(motionManager);\n\n            if (!tasks) {\n                tasks = {};\n                Live2DFactory.motionTasksMap.set(motionManager, tasks);\n            }\n\n            let taskGroup = tasks[group];\n\n            if (!taskGroup) {\n                taskGroup = [];\n                tasks[group] = taskGroup;\n            }\n\n            const path = motionManager.getMotionFile(definition);\n\n            taskGroup[index] ??= Live2DLoader.load({\n                    url: path,\n                    settings: motionManager.settings,\n                    type: motionManager.motionDataType,\n                    target: motionManager,\n                })\n                .then(data => {\n                    const taskGroup = Live2DFactory.motionTasksMap.get(motionManager)?.[group];\n\n                    if (taskGroup) {\n                        delete taskGroup[index];\n                    }\n\n                    const motion = motionManager.createMotion(data, group, definition);\n\n                    motionManager.emit('motionLoaded', group, index, motion);\n\n                    return motion;\n                })\n                .catch(e => {\n                    logger.warn(motionManager.tag, `Failed to load motion: ${path}\\n`, e);\n                    handleError(e);\n                });\n\n            return taskGroup[index]!;\n        } catch (e) {\n            logger.warn(motionManager.tag, `Failed to load motion at \"${group}\"[${index}]\\n`, e);\n            handleError(e);\n        }\n\n        return Promise.resolve(undefined);\n    }\n\n    /**\n     * Loads an Expression and registers the task to {@link expressionTasksMap}. The task will be automatically\n     * canceled when its owner - the ExpressionManager instance - has been destroyed.\n     * @param expressionManager - ExpressionManager that owns this Expression.\n     * @param index - Index of the Expression.\n     * @return Promise that resolves with the Expression, or with undefined if it can't be loaded.\n     */\n    static loadExpression<Expression, ExpressionSpec>(expressionManager: ExpressionManager<Expression, ExpressionSpec>, index: number): Promise<Expression | undefined> {\n        // errors in this method are always handled\n        const handleError = (e: any) => expressionManager.emit('expressionLoadError', index, e);\n\n        try {\n            const definition = expressionManager.definitions[index];\n\n            if (!definition) {\n                return Promise.resolve(undefined);\n            }\n\n            if (!expressionManager.listeners('destroy').includes(Live2DFactory.releaseTasks)) {\n                expressionManager.once('destroy', Live2DFactory.releaseTasks);\n            }\n\n            let tasks = Live2DFactory.expressionTasksMap.get(expressionManager);\n\n            if (!tasks) {\n                tasks = [];\n                Live2DFactory.expressionTasksMap.set(expressionManager, tasks);\n            }\n\n            const path = expressionManager.getExpressionFile(definition);\n\n            tasks[index] ??= Live2DLoader.load({\n                    url: path,\n                    settings: expressionManager.settings,\n                    type: 'json',\n                    target: expressionManager,\n                })\n                .then(data => {\n                    const tasks = Live2DFactory.expressionTasksMap.get(expressionManager);\n\n                    if (tasks) {\n                        delete tasks[index];\n                    }\n\n                    const expression = expressionManager.createExpression(data, definition);\n\n                    expressionManager.emit('expressionLoaded', index, expression);\n\n                    return expression;\n                })\n                .catch(e => {\n                    logger.warn(expressionManager.tag, `Failed to load expression: ${path}\\n`, e);\n                    handleError(e);\n                });\n\n            return tasks[index]!;\n        } catch (e) {\n            logger.warn(expressionManager.tag, `Failed to load expression at [${index}]\\n`, e);\n            handleError(e);\n        }\n\n        return Promise.resolve(undefined);\n    }\n\n    static releaseTasks(this: MotionManager | ExpressionManager) {\n        if (this instanceof MotionManager) {\n            Live2DFactory.motionTasksMap.delete(this);\n        } else {\n            Live2DFactory.expressionTasksMap.delete(this);\n        }\n    }\n}\n\n(MotionManager.prototype as any)._loadMotion = function(this: MotionManager, group: string, index: number) {\n    return Live2DFactory.loadMotion(this, group, index);\n};\n\n(ExpressionManager.prototype as any)._loadExpression = function(this: ExpressionManager, index: number) {\n    return Live2DFactory.loadExpression(this, index);\n};\n","export * from './constants';\nexport * from './ExpressionManager';\nexport * from './FocusController';\nexport * from './ModelSettings';\nexport * from './MotionState';\nexport * from './MotionManager';\nexport * from './SoundManager';\nexport * from './InternalModel';\n","import { logger } from '@/utils';\nimport pull from 'lodash/pull';\n\nconst TAG = 'SoundManager';\nconst VOLUME = 0.5;\n\n/**\n * Manages all the sounds.\n */\nexport class SoundManager {\n    /**\n     * Audio elements playing or pending to play. Finished audios will be removed automatically.\n     */\n    static audios: HTMLAudioElement[] = [];\n\n    protected static _volume = VOLUME;\n\n    /**\n     * Global volume that applies to all the sounds.\n     */\n    static get volume(): number {\n        return this._volume;\n    }\n\n    static set volume(value: number) {\n        this._volume = (value > 1 ? 1 : value < 0 ? 0 : value) || 0;\n        this.audios.forEach(audio => (audio.volume = this._volume));\n    }\n\n    // TODO: return an ID?\n    /**\n     * Creates an audio element and adds it to the {@link audios}.\n     * @param file - URL of the sound file.\n     * @param onFinish - Callback invoked when the playback has finished.\n     * @param onError - Callback invoked when error occurs.\n     * @return Created audio element.\n     */\n    static add(file: string, onFinish?: () => void, onError?: (e: Error) => void): HTMLAudioElement {\n        const audio = new Audio(file);\n\n        audio.volume = this._volume;\n        audio.preload = 'auto';\n\n        audio.addEventListener('ended', () => {\n            this.dispose(audio);\n            onFinish?.();\n        });\n\n        audio.addEventListener('error', (e: ErrorEvent) => {\n            this.dispose(audio);\n            logger.warn(TAG, `Error occurred on \"${file}\"`, e.error);\n            onError?.(e.error);\n        });\n\n        this.audios.push(audio);\n\n        return audio;\n    }\n\n    /**\n     * Plays the sound.\n     * @param audio - An audio element.\n     * @return Promise that resolves when the audio is ready to play, rejects when error occurs.\n     */\n    static play(audio: HTMLAudioElement): Promise<void> {\n        return new Promise((resolve, reject) => {\n            // see https://developers.google.com/web/updates/2017/09/autoplay-policy-changes\n            audio.play()?.catch(e => {\n                audio.dispatchEvent(new ErrorEvent('error', { error: e }));\n                reject(e);\n            });\n\n            if (audio.readyState === audio.HAVE_ENOUGH_DATA) {\n                resolve();\n            } else {\n                audio.addEventListener('canplaythrough', resolve as () => void);\n            }\n        });\n    }\n\n    /**\n     * Disposes an audio element and removes it from {@link audios}.\n     * @param audio - An audio element.\n     */\n    static dispose(audio: HTMLAudioElement): void {\n        audio.pause();\n        audio.removeAttribute('src');\n\n        pull(this.audios, audio);\n    }\n\n    /**\n     * Destroys all managed audios.\n     */\n    static destroy(): void {\n        // dispose() removes given audio from the array, so the loop must be backward\n        for (let i = this.audios.length - 1; i >= 0; i--) {\n            this.dispose(this.audios[i]!);\n        }\n    }\n}\n","export const LOGICAL_WIDTH = 2;\nexport const LOGICAL_HEIGHT = 2;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","import { logger } from '@/utils';\n\n/**\n * Indicates the motion priority.\n */\nexport enum MotionPriority {\n    /** States that the model is currently not playing any motion. This priority cannot be applied to a motion. */\n    NONE,\n\n    /** Low priority, used when starting idle motions automatically. */\n    IDLE,\n\n    /** Medium priority. */\n    NORMAL,\n\n    /** High priority. Motions as this priority will always be played regardless of the current priority. */\n    FORCE\n}\n\n/**\n * Handles the state of a MotionManager.\n */\nexport class MotionState {\n    /**\n     * Tag for logging.\n     */\n    tag!: string;\n\n    /**\n     * When enabled, the states will be dumped to the logger when an exception occurs.\n     */\n    debug = false;\n\n    /**\n     * Priority of the current motion. Will be `MotionPriority.NONE` if there's no playing motion.\n     */\n    currentPriority = MotionPriority.NONE;\n\n    /**\n     * Priority of the reserved motion, which is still in loading and will be played once loaded.\n     * Will be `MotionPriority.NONE` if there's no reserved motion.\n     */\n    reservePriority = MotionPriority.NONE;\n\n    /**\n     * Group of current motion.\n     */\n    currentGroup?: string;\n\n    /**\n     * Index of current motion in its group.\n     */\n    currentIndex?: number;\n\n    /**\n     * Group of the reserved motion.\n     */\n    reservedGroup?: string;\n\n    /**\n     * Index of the reserved motion in its group.\n     */\n    reservedIndex?: number;\n\n    /**\n     * Group of the reserved idle motion.\n     */\n    reservedIdleGroup?: string;\n\n    /**\n     * Index of the reserved idle motion in its group.\n     */\n    reservedIdleIndex?: number;\n\n    /**\n     * Reserves the playback for a motion.\n     * @param group - The motion group.\n     * @param index - Index in the motion group.\n     * @param priority - The priority to be applied.\n     * @return True if the reserving has succeeded.\n     */\n    reserve(group: string, index: number, priority: MotionPriority): boolean {\n        if (priority <= MotionPriority.NONE) {\n            logger.log(this.tag, `Cannot start a motion with MotionPriority.NONE.`);\n            return false;\n        }\n\n        if (group === this.currentGroup && index === this.currentIndex) {\n            logger.log(this.tag, `Motion is already playing.`, this.dump(group, index));\n            return false;\n        }\n\n        if ((group === this.reservedGroup && index === this.reservedIndex) || (group === this.reservedIdleGroup && index === this.reservedIdleIndex)) {\n            logger.log(this.tag, `Motion is already reserved.`, this.dump(group, index));\n            return false;\n        }\n\n        if (priority === MotionPriority.IDLE) {\n            if (this.currentPriority !== MotionPriority.NONE) {\n                logger.log(this.tag, `Cannot start idle motion because another motion is playing.`, this.dump(group, index));\n                return false;\n            }\n\n            if (this.reservedIdleGroup !== undefined) {\n                logger.log(this.tag, `Cannot start idle motion because another idle motion has reserved.`, this.dump(group, index));\n                return false;\n            }\n\n            this.setReservedIdle(group, index);\n        } else {\n            if (priority < MotionPriority.FORCE) {\n                if (priority <= this.currentPriority) {\n                    logger.log(this.tag, 'Cannot start motion because another motion is playing as an equivalent or higher priority.', this.dump(group, index));\n                    return false;\n                }\n\n                if (priority <= this.reservePriority) {\n                    logger.log(this.tag, 'Cannot start motion because another motion has reserved as an equivalent or higher priority.', this.dump(group, index));\n                    return false;\n                }\n            }\n\n            this.setReserved(group, index, priority);\n        }\n\n        return true;\n    }\n\n    /**\n     * Requests the playback for a motion.\n     * @param motion - The Motion, can be undefined.\n     * @param group - The motion group.\n     * @param index - Index in the motion group.\n     * @param priority - The priority to be applied.\n     * @return True if the request has been approved, i.e. the motion is allowed to play.\n     */\n    start(motion: any, group: string, index: number, priority: MotionPriority): boolean {\n        if (priority === MotionPriority.IDLE) {\n            this.setReservedIdle(undefined, undefined);\n\n            if (this.currentPriority !== MotionPriority.NONE) {\n                logger.log(this.tag, 'Cannot start idle motion because another motion is playing.', this.dump(group, index));\n                return false;\n            }\n        } else {\n            if (group !== this.reservedGroup || index !== this.reservedIndex) {\n                logger.log(this.tag, 'Cannot start motion because another motion has taken the place.', this.dump(group, index));\n                return false;\n            }\n\n            this.setReserved(undefined, undefined, MotionPriority.NONE);\n        }\n\n        if (!motion) {\n            return false;\n        }\n\n        this.setCurrent(group, index, priority);\n\n        return true;\n    }\n\n    /**\n     * Notifies the motion playback has finished.\n     */\n    complete() {\n        this.setCurrent(undefined, undefined, MotionPriority.NONE);\n    }\n\n    /**\n     * Sets the current motion.\n     */\n    setCurrent(group: string | undefined, index: number | undefined, priority: MotionPriority) {\n        this.currentPriority = priority;\n        this.currentGroup = group;\n        this.currentIndex = index;\n    }\n\n    /**\n     * Sets the reserved motion.\n     */\n    setReserved(group: string | undefined, index: number | undefined, priority: MotionPriority) {\n        this.reservePriority = priority;\n        this.reservedGroup = group;\n        this.reservedIndex = index;\n    }\n\n    /**\n     * Sets the reserved idle motion.\n     */\n    setReservedIdle(group: string | undefined, index: number | undefined) {\n        this.reservedIdleGroup = group;\n        this.reservedIdleIndex = index;\n    }\n\n    /**\n     * Checks if a Motion is currently playing or has reserved.\n     * @return True if active.\n     */\n    isActive(group: string, index: number): boolean {\n        return (group === this.currentGroup && index === this.currentIndex)\n            || (group === this.reservedGroup && index === this.reservedIndex)\n            || (group === this.reservedIdleGroup && index === this.reservedIdleIndex);\n    }\n\n    /**\n     * Resets the state.\n     */\n    reset() {\n        this.setCurrent(undefined, undefined, MotionPriority.NONE);\n\n        // make sure the reserved motions (if existing) won't start when they are loaded\n        this.setReserved(undefined, undefined, MotionPriority.NONE);\n        this.setReservedIdle(undefined, undefined);\n    }\n\n    /**\n     * Checks if an idle motion should be requests to play.\n     */\n    shouldRequestIdleMotion(): boolean {\n        return this.currentGroup === undefined && this.reservedIdleGroup === undefined;\n    }\n\n    /**\n     * Checks if the model's expression should be overridden by the motion.\n     */\n    shouldOverrideExpression(): boolean {\n        return this.currentPriority > MotionPriority.IDLE;\n    }\n\n    /**\n     * Dumps the state for debugging.\n     */\n    dump(requestedGroup?: string, requestedIndex?: number): string {\n        if (this.debug) {\n            const keys: (keyof this)[] = [\n                'currentPriority',\n                'reservePriority',\n                'currentGroup',\n                'currentIndex',\n                'reservedGroup',\n                'reservedIndex',\n                'reservedIdleGroup',\n                'reservedIdleIndex',\n            ];\n            return `\\n<Requested> group = \"${requestedGroup}\", index = ${requestedIndex}\\n` + keys.map(key => '[' + key + '] ' + this[key]).join('\\n');\n        }\n        return '';\n    }\n}\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","import { ModelSettings } from '@/cubism-common/ModelSettings';\nimport { MotionManagerOptions } from '@/cubism-common/MotionManager';\nimport { logger } from '@/utils';\nimport { EventEmitter } from '@pixi/utils';\n\n/**\n * Abstract expression manager.\n * @emits {@link ExpressionManagerEvents}\n */\nexport abstract class ExpressionManager<Expression = any, ExpressionSpec = any> extends EventEmitter {\n    /**\n     * Tag for logging.\n     */\n    tag: string;\n\n    /**\n     * Expression definitions copied from ModelSettings.\n     */\n    abstract readonly definitions: ExpressionSpec[];\n\n    /**\n     * The ModelSettings reference.\n     */\n    readonly settings: ModelSettings;\n\n    /**\n     * The Expressions. The structure is the same as {@link definitions}, initially there's only\n     * an empty array, which means all expressions will be `undefined`. When an Expression has\n     * been loaded, it'll fill the place in which it should be; when it fails to load,\n     * the place will be filled with `null`.\n     */\n    expressions: (Expression | null | undefined)[] = [];\n\n    /**\n     * An empty Expression to reset all the expression parameters.\n     */\n    defaultExpression!: Expression;\n\n    /**\n     * Current Expression. This will not be overwritten by the {@link defaultExpression}.\n     */\n    currentExpression!: Expression;\n\n    /**\n     * The pending Expression.\n     */\n    reserveExpressionIndex = -1;\n\n    /**\n     * Flags the instance has been destroyed.\n     */\n    destroyed = false;\n\n    protected constructor(settings: ModelSettings, options?: MotionManagerOptions) {\n        super();\n        this.settings = settings;\n        this.tag = `ExpressionManager(${settings.name})`;\n    }\n\n    /**\n     * Should be called in the constructor of derived class.\n     */\n    protected init() {\n        this.defaultExpression = this.createExpression({}, undefined);\n        this.currentExpression = this.defaultExpression;\n\n        this.stopAllExpressions();\n    }\n\n    /**\n     * Loads an Expression. Errors in this method will not be thrown,\n     * but be emitted with an \"expressionLoadError\" event.\n     * @param index - Index of the expression in definitions.\n     * @return Promise that resolves with the Expression, or with undefined if it can't be loaded.\n     * @emits {@link ExpressionManagerEvents.expressionLoaded}\n     * @emits {@link ExpressionManagerEvents.expressionLoadError}\n     */\n    protected async loadExpression(index: number): Promise<Expression | undefined> {\n        if (!this.definitions[index]) {\n            logger.warn(this.tag, `Undefined expression at [${index}]`);\n            return undefined;\n        }\n\n        if (this.expressions[index] === null) {\n            logger.warn(this.tag, `Cannot set expression at [${index}] because it's already failed in loading.`);\n            return undefined;\n        }\n\n        if (this.expressions[index]) {\n            return this.expressions[index] as Expression;\n        }\n\n        const expression = await this._loadExpression(index);\n\n        this.expressions[index] = expression;\n\n        return expression;\n    }\n\n    /**\n     * Loads the Expression. Will be implemented by Live2DFactory.\n     * @ignore\n     */\n    private _loadExpression(index: number): Promise<Expression | undefined> {\n        throw new Error('Not implemented.');\n    }\n\n    /**\n     * Sets a random Expression that differs from current one.\n     * @return Promise that resolves with true if succeeded, with false otherwise.\n     */\n    async setRandomExpression(): Promise<boolean> {\n        if (this.definitions.length) {\n            const availableIndices = [];\n\n            for (let i = 0; i < this.definitions.length; i++) {\n                if (\n                    this.expressions[i] !== null\n                    && this.expressions[i] !== this.currentExpression\n                    && i !== this.reserveExpressionIndex\n                ) {\n                    availableIndices.push(i);\n                }\n            }\n\n            if (availableIndices.length) {\n                const index = Math.floor(Math.random() * availableIndices.length);\n\n                return this.setExpression(index);\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Resets model's expression using {@link defaultExpression}.\n     */\n    resetExpression(): void {\n        this._setExpression(this.defaultExpression);\n    }\n\n    /**\n     * Restores model's expression to {@link currentExpression}.\n     */\n    restoreExpression(): void {\n        this._setExpression(this.currentExpression);\n    }\n\n    /**\n     * Sets an Expression.\n     * @param index - Either the index, or the name of the expression.\n     * @return Promise that resolves with true if succeeded, with false otherwise.\n     */\n    async setExpression(index: number | string): Promise<boolean> {\n        if (typeof index !== 'number') {\n            index = this.getExpressionIndex(index);\n        }\n\n        if (!(index > -1 && index < this.definitions.length)) {\n            return false;\n        }\n\n        if (index === this.expressions.indexOf(this.currentExpression)) {\n            return false;\n        }\n\n        this.reserveExpressionIndex = index;\n\n        const expression = await this.loadExpression(index);\n\n        if (!expression || this.reserveExpressionIndex !== index) {\n            return false;\n        }\n\n        this.reserveExpressionIndex = -1;\n        this.currentExpression = expression;\n        this._setExpression(expression);\n\n        return true;\n    }\n\n    /**\n     * Updates parameters of the core model.\n     * @return True if the parameters are actually updated.\n     */\n    update(model: object, now: DOMHighResTimeStamp) {\n        if (!this.isFinished()) {\n            return this.updateParameters(model, now);\n        }\n\n        return false;\n    }\n\n    /**\n     * Destroys the instance.\n     * @emits {@link ExpressionManagerEvents.destroy}\n     */\n    destroy() {\n        this.destroyed = true;\n        this.emit('destroy');\n\n        const self = this as Mutable<Partial<this>>;\n        self.definitions = undefined;\n        self.expressions = undefined;\n    }\n\n    /**\n     * Checks if the expression playback has finished.\n     */\n    abstract isFinished(): boolean;\n\n    /**\n     * Retrieves the expression's index by its name.\n     * @return The index. `-1` if not found.\n     */\n    abstract getExpressionIndex(name: string): number;\n\n    /**\n     * Retrieves the expression's file path by its definition.\n     * @return The file path extracted from given definition. Not resolved.\n     */\n    abstract getExpressionFile(definition: ExpressionSpec): string;\n\n    /**\n     * Creates an Expression from the data.\n     * @param data - Content of the expression file.\n     * @param definition - The expression definition. Can be undefined when creating the {@link defaultExpression}.\n     * @return The created Expression.\n     */\n    abstract createExpression(data: JSONObject, definition: ExpressionSpec | undefined): Expression;\n\n    /**\n     * Applies the Expression to the model.\n     */\n    protected abstract _setExpression(motion: Expression): number;\n\n    /**\n     * Cancels expression playback.\n     */\n    protected abstract stopAllExpressions(): void;\n\n    /**\n     * Updates parameters of the core model.\n     * @return True if the parameters are actually updated.\n     */\n    protected abstract updateParameters(model: object, now: DOMHighResTimeStamp): boolean;\n}\n","import { folderName } from '@/utils';\nimport { url } from '@pixi/utils';\n\n/**\n * Parses, and provides access to the settings JSON.\n */\nexport abstract class ModelSettings {\n    json: JSONObject;\n\n    /**\n     * The model's name, typically used for displaying or logging. By default it's inferred from\n     * the URL by taking the folder name (the second to last component). In Cubism 2 it'll be overwritten\n     * by the `name` field of settings JSON.\n     */\n    name: string;\n\n    /**\n     * URL of the model settings file, used to resolve paths of the resource files defined in settings.\n     * This typically ends with `.model.json` in Cubism 2 and `.model3.json` in Cubism 4.\n     */\n    url: string;\n\n    /**\n     * Relative path of he moc file, typically ends with `.moc` in Cubism 2 and `.moc3` in Cubism 4.\n     */\n    abstract moc: string;\n\n    /**\n     * Relative paths of the texture images.\n     */\n    abstract textures: string[];\n\n    /**\n     * Relative path of the pose file.\n     */\n    pose?: string;\n\n    /**\n     * Relative path of the physics file.\n     */\n    physics?: string;\n\n    /**\n     * @param json - The settings JSON object.\n     * @param json.url - The `url` field must be defined to specify the settings file's URL.\n     */\n    protected constructor(json: JSONObject & { url: string }) {\n        this.json = json;\n\n        let url = (json as any).url;\n\n        if (typeof url !== 'string') {\n            // this is not allowed because it'll typically result in errors, including a\n            // fatal error - an OOM that crashes the browser while initializing this cubism2 model,\n            // I'm not kidding!\n            throw new TypeError('The `url` field in settings JSON must be defined as a string.');\n        }\n\n        this.url = url;\n\n        // set default name to folder's name\n        this.name = folderName(this.url);\n    }\n\n    /**\n     * Resolves a relative path using the {@link url}. This is used to resolve the resource files\n     * defined in the settings.\n     * @param path - Relative path.\n     * @return Resolved path.\n     */\n    resolveURL(path: string): string {\n        return url.resolve(this.url, path);\n    }\n\n    /**\n     * Replaces the resource files by running each file through the `replacer`.\n     * @param replacer - Invoked with two arguments: `(file, path)`, where `file` is the file definition,\n     * and `path` is its property path in the ModelSettings instance. A string must be returned to be the replacement.\n     *\n     * ```js\n     * modelSettings.replaceFiles((file, path) => {\n     *     // file = \"foo.moc\", path = \"moc\"\n     *     // file = \"foo.png\", path = \"textures[0]\"\n     *     // file = \"foo.mtn\", path = \"motions.idle[0].file\"\n     *     // file = \"foo.motion3.json\", path = \"motions.idle[0].File\"\n     *\n     *     return \"bar/\" + file;\n     * });\n     * ```\n     */\n    replaceFiles(replacer: (file: string, path: string) => string) {\n        this.moc = replacer(this.moc, 'moc');\n\n        if (this.pose !== undefined) {\n            (this.pose = replacer(this.pose, 'pose'));\n        }\n\n        if (this.physics !== undefined) {\n            (this.physics = replacer(this.physics, 'physics'));\n        }\n\n        for (let i = 0; i < this.textures.length; i++) {\n            this.textures[i] = replacer(this.textures[i]!, `textures[${i}]`);\n        }\n    };\n\n    /**\n     * Retrieves all resource files defined in the settings.\n     * @return A flat array of the paths of all resource files.\n     *\n     * ```js\n     * modelSettings.getDefinedFiles();\n     * // returns: [\"foo.moc\", \"foo.png\", ...]\n     * ```\n     */\n    getDefinedFiles(): string[] {\n        const files: string[] = [];\n\n        this.replaceFiles((file: string) => {\n            files.push(file);\n\n            return file;\n        });\n\n        return files;\n    }\n\n    /**\n     * Validates that the files defined in the settings exist in given files. Each file will be\n     * resolved by {@link resolveURL} before comparison.\n     * @param files - A flat array of file paths.\n     * @return All the files which are defined in the settings and also exist in given files,\n     * *including the optional files*.\n     * @throws Error if any *essential* file is defined in settings but not included in given files.\n     */\n    validateFiles(files: string[]): string[] {\n        const assertFileExists = (expectedFile: string, shouldThrow: boolean): boolean => {\n            const actualPath = this.resolveURL(expectedFile);\n\n            if (!files.includes(actualPath)) {\n                if (shouldThrow) {\n                    throw new Error(`File \"${expectedFile}\" is defined in settings, but doesn't exist in given files`);\n                }\n\n                return false;\n            }\n\n            return true;\n        };\n\n        const essentialFiles = [this.moc, ...this.textures];\n\n        essentialFiles.forEach(texture => assertFileExists(texture, true));\n\n        const definedFiles = this.getDefinedFiles();\n\n        return definedFiles.filter(file => assertFileExists(file, false));\n    }\n}\n","import { config } from '@/config';\nimport { ExpressionManager } from '@/cubism-common/ExpressionManager';\nimport { ModelSettings } from '@/cubism-common/ModelSettings';\nimport { MotionPriority, MotionState } from '@/cubism-common/MotionState';\nimport { SoundManager } from '@/cubism-common/SoundManager';\nimport { logger } from '@/utils';\nimport { EventEmitter } from '@pixi/utils';\n\nexport interface MotionManagerOptions {\n    /**\n     * How to preload the motions.\n     * @default {@link MotionPreloadStrategy.NONE}\n     */\n    motionPreload?: MotionPreloadStrategy;\n\n    /**\n     * Specifies the idle motion group.\n     * @default \"idle\" in Cubism 2 and \"Idle\" in Cubism 4.\n     */\n    idleMotionGroup?: string;\n}\n\n/**\n * Indicates how the motions will be preloaded.\n */\nexport enum MotionPreloadStrategy {\n    /** Preload all the motions. */\n    ALL = 'ALL',\n\n    /** Preload only the idle motions. */\n    IDLE = 'IDLE',\n\n    /** No preload. */\n    NONE = 'NONE',\n}\n\n/**\n * Handles the motion playback.\n * @emits {@link MotionManagerEvents}\n */\nexport abstract class MotionManager<Motion = any, MotionSpec = any> extends EventEmitter {\n    /**\n     * Tag for logging.\n     */\n    tag: string;\n\n    /**\n     * Motion definitions copied from ModelSettings.\n     */\n    abstract readonly definitions: Partial<Record<string, MotionSpec[]>>;\n\n    /**\n     * Motion groups with particular internal usages. Currently there's only the `idle` field,\n     * which specifies the actual name of the idle motion group, so the idle motions\n     * can be correctly found from the settings JSON of various Cubism versions.\n     */\n    abstract readonly groups: { idle: string };\n\n    /**\n     * Indicates the content type of the motion files, varies in different Cubism versions.\n     * This will be used as `xhr.responseType`.\n     */\n    abstract readonly motionDataType: 'json' | 'arraybuffer';\n\n    /**\n     * Can be undefined if the settings defines no expression.\n     */\n    abstract expressionManager?: ExpressionManager;\n\n    /**\n     * The ModelSettings reference.\n     */\n    readonly settings: ModelSettings;\n\n    /**\n     * The Motions. The structure is the same as {@link definitions}, initially each group contains\n     * an empty array, which means all motions will be `undefined`. When a Motion has been loaded,\n     * it'll fill the place in which it should be; when it fails to load, the place will be filled\n     * with `null`.\n     */\n    motionGroups: Partial<Record<string, (Motion | undefined | null)[]>> = {};\n\n    /**\n     * Maintains the state of this MotionManager.\n     */\n    state = new MotionState();\n\n    /**\n     * Audio element of the current motion if a sound file is defined with it.\n     */\n    currentAudio?: HTMLAudioElement;\n\n    /**\n     * Flags there's a motion playing.\n     */\n    playing = false;\n\n    /**\n     * Flags the instances has been destroyed.\n     */\n    destroyed = false;\n\n    protected constructor(settings: ModelSettings, options?: MotionManagerOptions) {\n        super();\n        this.settings = settings;\n        this.tag = `MotionManager(${settings.name})`;\n        this.state.tag = this.tag;\n    }\n\n    /**\n     * Should be called in the constructor of derived class.\n     */\n    protected init(options?: MotionManagerOptions) {\n        if (options?.idleMotionGroup) {\n            this.groups.idle = options.idleMotionGroup;\n        }\n\n        this.setupMotions(options);\n        this.stopAllMotions();\n    }\n\n    /**\n     * Sets up motions from the definitions, and preloads them according to the preload strategy.\n     */\n    protected setupMotions(options?: MotionManagerOptions): void {\n        for (const group of Object.keys(this.definitions)) {\n            // init with the same structure of definitions\n            this.motionGroups[group] = [];\n        }\n\n        // preload motions\n\n        let groups;\n\n        switch (options?.motionPreload) {\n            case MotionPreloadStrategy.NONE:\n                return;\n\n            case MotionPreloadStrategy.ALL:\n                groups = Object.keys(this.definitions);\n                break;\n\n            case MotionPreloadStrategy.IDLE:\n            default:\n                groups = [this.groups.idle];\n                break;\n        }\n\n        for (const group of groups) {\n            if (this.definitions[group]) {\n                for (let i = 0; i < this.definitions[group]!.length; i++) {\n                    this.loadMotion(group, i).then();\n                }\n            }\n        }\n    }\n\n    /**\n     * Loads a Motion in a motion group. Errors in this method will not be thrown,\n     * but be emitted with a \"motionLoadError\" event.\n     * @param group - The motion group.\n     * @param index - Index in the motion group.\n     * @return Promise that resolves with the Motion, or with undefined if it can't be loaded.\n     * @emits {@link MotionManagerEvents.motionLoaded}\n     * @emits {@link MotionManagerEvents.motionLoadError}\n     */\n    async loadMotion(group: string, index: number): Promise<Motion | undefined> {\n        if (!this.definitions[group] ?. [index]) {\n            logger.warn(this.tag, `Undefined motion at \"${group}\"[${index}]`);\n            return undefined;\n        }\n\n        if (this.motionGroups[group]![index] === null) {\n            logger.warn(this.tag, `Cannot start motion at \"${group}\"[${index}] because it's already failed in loading.`);\n            return undefined;\n        }\n\n        if (this.motionGroups[group]![index]) {\n            return this.motionGroups[group]![index]!;\n        }\n\n        const motion = await this._loadMotion(group, index);\n\n        if (this.destroyed) {\n            return;\n        }\n\n        this.motionGroups[group]![index] = motion ?? null;\n\n        return motion;\n    }\n\n    // TODO: remove\n    /**\n     * Loads the Motion. Will be implemented by Live2DFactory.\n     * @ignore\n     */\n    private _loadMotion(group: string, index: number): Promise<Motion | undefined> {\n        throw new Error('Not implemented.');\n    }\n\n    /**\n     * Starts a motion as given priority.\n     * @param group - The motion group.\n     * @param index - Index in the motion group.\n     * @param priority - The priority to be applied.\n     * @return Promise that resolves with true if the motion is successfully started, with false otherwise.\n     */\n    async startMotion(group: string, index: number, priority = MotionPriority.NORMAL): Promise<boolean> {\n        if (!this.state.reserve(group, index, priority)) {\n            return false;\n        }\n\n        const definition = this.definitions[group]?.[index];\n\n        if (!definition) {\n            return false;\n        }\n\n        if (this.currentAudio) {\n            // TODO: reuse the audio?\n            SoundManager.dispose(this.currentAudio);\n        }\n\n        let audio: HTMLAudioElement | undefined;\n\n        if (config.sound) {\n            const soundURL = this.getSoundFile(definition);\n\n            if (soundURL) {\n                try {\n                    // start to load the audio\n                    audio = SoundManager.add(\n                        this.settings.resolveURL(soundURL),\n                        () => this.currentAudio = undefined,\n                        () => this.currentAudio = undefined,\n                    );\n\n                    this.currentAudio = audio;\n                } catch (e) {\n                    logger.warn(this.tag, 'Failed to create audio', soundURL, e);\n                }\n            }\n        }\n\n        const motion = await this.loadMotion(group, index);\n\n        if (audio) {\n            const readyToPlay = SoundManager.play(audio)\n                .catch(e => logger.warn(this.tag, 'Failed to play audio', audio!.src, e));\n\n            if (config.motionSync) {\n                // wait until the audio is ready\n                await readyToPlay;\n            }\n        }\n\n        if (!this.state.start(motion, group, index, priority)) {\n            if (audio) {\n                SoundManager.dispose(audio);\n                this.currentAudio = undefined;\n            }\n\n            return false;\n        }\n\n        logger.log(this.tag, 'Start motion:', this.getMotionName(definition));\n\n        this.emit('motionStart', group, index, audio);\n\n        if (this.state.shouldOverrideExpression()) {\n            this.expressionManager && this.expressionManager.resetExpression();\n        }\n\n        this.playing = true;\n\n        this._startMotion(motion!);\n\n        return true;\n    }\n\n    /**\n     * Starts a random Motion as given priority.\n     * @param group - The motion group.\n     * @param priority - The priority to be applied.\n     * @return Promise that resolves with true if the motion is successfully started, with false otherwise.\n     */\n    async startRandomMotion(group: string, priority?: MotionPriority): Promise<boolean> {\n        const groupDefs = this.definitions[group];\n\n        if (groupDefs?.length) {\n            const availableIndices = [];\n\n            for (let i = 0; i < groupDefs!.length; i++) {\n                if (this.motionGroups[group]![i] !== null && !this.state.isActive(group, i)) {\n                    availableIndices.push(i);\n                }\n            }\n\n            if (availableIndices.length) {\n                const index = Math.floor(Math.random() * availableIndices.length);\n\n                return this.startMotion(group, availableIndices[index]!, priority);\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Stops all playing motions as well as the sound.\n     */\n    stopAllMotions(): void {\n        this._stopAllMotions();\n\n        this.state.reset();\n\n        if (this.currentAudio) {\n            SoundManager.dispose(this.currentAudio);\n            this.currentAudio = undefined;\n        }\n    }\n\n    /**\n     * Updates parameters of the core model.\n     * @param model - The core model.\n     * @param now - Current time in milliseconds.\n     * @return True if the parameters have been actually updated.\n     */\n    update(model: object, now: DOMHighResTimeStamp): boolean {\n        if (this.isFinished()) {\n            if (this.playing) {\n                this.playing = false;\n                this.emit('motionFinish');\n            }\n\n            if (this.state.shouldOverrideExpression()) {\n                this.expressionManager?.restoreExpression();\n            }\n\n            this.state.complete();\n\n            if (this.state.shouldRequestIdleMotion()) {\n                // noinspection JSIgnoredPromiseFromCall\n                this.startRandomMotion(this.groups.idle, MotionPriority.IDLE);\n            }\n        }\n\n        let updated = this.updateParameters(model, now);\n\n        updated = this.expressionManager?.update(model, now) || updated;\n\n        return updated;\n    }\n\n    /**\n     * Destroys the instance.\n     * @emits {@link MotionManagerEvents.destroy}\n     */\n    destroy() {\n        this.destroyed = true;\n        this.emit('destroy');\n\n        this.stopAllMotions();\n        this.expressionManager?.destroy();\n\n        const self = this as Mutable<Partial<this>>;\n        self.definitions = undefined;\n        self.motionGroups = undefined;\n    }\n\n    /**\n     * Checks if the motion playback has finished.\n     */\n    abstract isFinished(): boolean;\n\n    /**\n     * Creates a Motion from the data.\n     * @param data - Content of the motion file. The format must be consistent with {@link motionDataType}.\n     * @param group - The motion group.\n     * @param definition - The motion definition.\n     * @return The created Motion.\n     */\n    abstract createMotion(data: ArrayBuffer | JSONObject, group: string, definition: MotionSpec): Motion;\n\n    /**\n     * Retrieves the motion's file path by its definition.\n     * @return The file path extracted from given definition. Not resolved.\n     */\n    abstract getMotionFile(definition: MotionSpec): string;\n\n    /**\n     * Retrieves the motion's name by its definition.\n     * @return The motion's name.\n     */\n    protected abstract getMotionName(definition: MotionSpec): string;\n\n    /**\n     * Retrieves the motion's sound file by its definition.\n     * @return The motion's sound file, can be undefined.\n     */\n    protected abstract getSoundFile(definition: MotionSpec): string | undefined;\n\n    /**\n     * Starts the Motion.\n     */\n    protected abstract _startMotion(motion: Motion, onFinish?: (motion: Motion) => void): number;\n\n    /**\n     * Stops all playing motions.\n     */\n    protected abstract _stopAllMotions(): void;\n\n    /**\n     * Updates parameters of the core model.\n     * @param model - The core model.\n     * @param now - Current time in milliseconds.\n     * @return True if the parameters have been actually updated.\n     */\n    protected abstract updateParameters(model: object, now: DOMHighResTimeStamp): boolean;\n}\n","import { LOGICAL_HEIGHT, LOGICAL_WIDTH } from '@/cubism-common/constants';\nimport { FocusController } from '@/cubism-common/FocusController';\nimport { ModelSettings } from '@/cubism-common/ModelSettings';\nimport { MotionManager, MotionManagerOptions } from '@/cubism-common/MotionManager';\nimport { Matrix } from '@pixi/math';\nimport { EventEmitter } from '@pixi/utils';\n\n/**\n * Common layout definition shared between all Cubism versions.\n */\nexport interface CommonLayout {\n    centerX?: number;\n    centerY?: number;\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n    top?: number;\n    bottom?: number;\n    left?: number;\n    right?: number;\n}\n\n/**\n * Common hit area definition shared between all Cubism versions.\n */\nexport interface CommonHitArea {\n    id: string;\n    name: string;\n    index: number;\n}\n\nexport interface Bounds {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\n\nexport interface InternalModelOptions extends MotionManagerOptions {}\n\nconst tempBounds: Bounds = { x: 0, y: 0, width: 0, height: 0 };\n\n/**\n * A wrapper that manages the states of a Live2D core model, and delegates all operations to it.\n * @emits {@link InternalModelEvents}\n */\nexport abstract class InternalModel extends EventEmitter {\n    /**\n     * The managed Live2D core model.\n     */\n    abstract readonly coreModel: object;\n\n    abstract readonly settings: ModelSettings;\n\n    focusController = new FocusController();\n\n    abstract motionManager: MotionManager;\n\n    pose?: any;\n    physics?: any;\n\n    /**\n     * Original canvas width of the model. Note this doesn't represent the model's real size,\n     * as the model can overflow from its canvas.\n     */\n    readonly originalWidth: number = 0;\n\n    /**\n     * Original canvas height of the model. Note this doesn't represent the model's real size,\n     * as the model can overflow from its canvas.\n     */\n    readonly originalHeight: number = 0;\n\n    /**\n     * Canvas width of the model, scaled by the `width` of the model's layout.\n     */\n    readonly width: number = 0;\n\n    /**\n     * Canvas height of the model, scaled by the `height` of the model's layout.\n     */\n    readonly height: number = 0;\n\n    /**\n     * Local transformation, calculated from the model's layout.\n     */\n    localTransform = new Matrix();\n\n    /**\n     * The final matrix to draw the model.\n     */\n    drawingMatrix = new Matrix();\n\n    // TODO: change structure\n    /**\n     * The hit area definitions, keyed by their names.\n     */\n    hitAreas: Record<string, CommonHitArea> = {};\n\n    /**\n     * Flags whether `gl.UNPACK_FLIP_Y_WEBGL` should be enabled when binding the textures.\n     */\n    textureFlipY = false;\n\n    /**\n     * WebGL viewport when drawing the model. The format is `[x, y, width, height]`.\n     */\n    viewport: [number, number, number, number] = [0, 0, 0, 0];\n\n    /**\n     * Flags this instance has been destroyed.\n     */\n    destroyed = false;\n\n    /**\n     * Should be called in the constructor of derived class.\n     */\n    protected init() {\n        this.setupLayout();\n        this.setupHitAreas();\n    }\n\n    /**\n     * Sets up the model's size and local transform by the model's layout.\n     */\n    protected setupLayout() {\n        // cast `this` to be mutable\n        const self = this as Mutable<this>;\n\n        const size = this.getSize();\n\n        self.originalWidth = size[0];\n        self.originalHeight = size[1];\n\n        const layout = Object.assign(\n            {\n                width: LOGICAL_WIDTH,\n                height: LOGICAL_HEIGHT,\n            },\n            this.getLayout(),\n        );\n\n        this.localTransform.scale(layout.width / LOGICAL_WIDTH, layout.height / LOGICAL_HEIGHT);\n\n        self.width = this.originalWidth * this.localTransform.a;\n        self.height = this.originalHeight * this.localTransform.d;\n\n        // this calculation differs from Live2D SDK...\n        const offsetX = (layout.x !== undefined && layout.x - layout.width / 2)\n            || (layout.centerX !== undefined && layout.centerX)\n            || (layout.left !== undefined && layout.left - layout.width / 2)\n            || (layout.right !== undefined && layout.right + layout.width / 2)\n            || 0;\n\n        const offsetY = (layout.y !== undefined && layout.y - layout.height / 2)\n            || (layout.centerY !== undefined && layout.centerY)\n            || (layout.top !== undefined && layout.top - layout.height / 2)\n            || (layout.bottom !== undefined && layout.bottom + layout.height / 2)\n            || 0;\n\n        this.localTransform.translate(this.width * offsetX, -this.height * offsetY);\n    }\n\n    /**\n     * Sets up the hit areas by their definitions in settings.\n     */\n    protected setupHitAreas() {\n        const definitions = this.getHitAreaDefs().filter(hitArea => hitArea.index >= 0);\n\n        for (const def of definitions) {\n            this.hitAreas[def.name] = def;\n        }\n    }\n\n    /**\n     * Hit-test on the model.\n     * @param x - Position in model canvas.\n     * @param y - Position in model canvas.\n     * @return The names of the *hit* hit areas. Can be empty if none is hit.\n     */\n    hitTest(x: number, y: number): string[] {\n        return Object.keys(this.hitAreas).filter(hitAreaName => this.isHit(hitAreaName, x, y));\n    }\n\n    /**\n     * Hit-test for a single hit area.\n     * @param hitAreaName - The hit area's name.\n     * @param x - Position in model canvas.\n     * @param y - Position in model canvas.\n     * @return True if hit.\n     */\n    isHit(hitAreaName: string, x: number, y: number): boolean {\n        if (!this.hitAreas[hitAreaName]) {\n            return false;\n        }\n\n        const drawIndex = this.hitAreas[hitAreaName]!.index;\n\n        const bounds = this.getDrawableBounds(drawIndex, tempBounds);\n\n        return bounds.x <= x && x <= bounds.x + bounds.width && bounds.y <= y && y <= bounds.y + bounds.height;\n    }\n\n    /**\n     * Gets a drawable's bounds.\n     * @param index - Index of the drawable.\n     * @param bounds - Object to store the output values.\n     * @return The bounds in model canvas space.\n     */\n    getDrawableBounds(index: number, bounds?: Bounds): Bounds {\n        const vertices = this.getDrawableVertices(index);\n\n        let left = vertices[0]!;\n        let right = vertices[0]!;\n        let top = vertices[1]!;\n        let bottom = vertices[1]!;\n\n        for (let i = 0; i < vertices.length; i += 2) {\n            const vx = vertices[i]!;\n            const vy = vertices[i + 1]!;\n\n            left = Math.min(vx, left);\n            right = Math.max(vx, right);\n            top = Math.min(vy, top);\n            bottom = Math.max(vy, bottom);\n        }\n\n        bounds ??= {} as Bounds;\n\n        bounds.x = left;\n        bounds.y = top;\n        bounds.width = right - left;\n        bounds.height = bottom - top;\n\n        return bounds;\n    }\n\n    /**\n     * Updates the model's transform.\n     * @param transform - The world transform.\n     */\n    updateTransform(transform: Matrix) {\n        this.drawingMatrix.copyFrom(transform).append(this.localTransform);\n    }\n\n    /**\n     * Updates the model's parameters.\n     * @param dt - Elapsed time in milliseconds from last frame.\n     * @param now - Current time in milliseconds.\n     */\n    update(dt: DOMHighResTimeStamp, now: DOMHighResTimeStamp): void {\n        this.focusController.update(dt);\n    };\n\n    /**\n     * Destroys the model and all related resources.\n     * @emits {@link InternalModelEvents.destroy | destroy}\n     */\n    destroy() {\n        this.destroyed = true;\n        this.emit('destroy');\n\n        this.motionManager.destroy();\n        (this as Partial<this>).motionManager = undefined;\n    }\n\n    /**\n     * Gets all the hit area definitions.\n     * @return Normalized definitions.\n     */\n    protected abstract getHitAreaDefs(): CommonHitArea[];\n\n    /**\n     * Gets the model's original canvas size.\n     * @return `[width, height]`\n     */\n    protected abstract getSize(): [number, number];\n\n    /**\n     * Gets the layout definition.\n     * @return Normalized definition.\n     */\n    protected abstract getLayout(): CommonLayout;\n\n    /**\n     * Gets all the drawables' IDs.\n     * @return IDs.\n     */\n    abstract getDrawableIDs(): string[];\n\n    /**\n     * Finds the index of a drawable by its ID.\n     * @return The index.\n     */\n    abstract getDrawableIndex(id: string): number;\n\n    /**\n     * Gets a drawable's vertices.\n     * @param index - Either the index or the ID of the drawable.\n     * @throws Error when the drawable cannot be found.\n     */\n    abstract getDrawableVertices(index: number | string): Float32Array;\n\n    /**\n     * Updates WebGL context bound to this model.\n     * @param gl - WebGL context.\n     * @param glContextID - Unique ID for given WebGL context.\n     */\n    abstract updateWebGLContext(gl: WebGLRenderingContext, glContextID: number): void;\n\n    /**\n     * Binds a texture to the model. The index must be the same as that of this texture\n     * in the {@link ModelSettings.textures} array.\n     */\n    abstract bindTexture(index: number, texture: WebGLTexture): void;\n\n    /**\n     * Draws the model.\n     */\n    abstract draw(gl: WebGLRenderingContext): void;\n}\n","import { clamp } from '@/utils';\n\n// Minimum distance to respond\nconst EPSILON = 0.01;\n\nconst MAX_SPEED = 40 / 7.5;\n\n// the time to accelerate to max speed\nconst ACCELERATION_TIME = 1 / (0.15 * 1000);\n\n/**\n * Interpolates the transition of focus position.\n */\nexport class FocusController {\n    /** The focus position. */\n    targetX = 0;\n\n    /** The focus position. */\n    targetY = 0;\n\n    /** Current position. */\n    x = 0;\n\n    /** Current position. */\n    y = 0;\n\n    /** Current velocity. */\n    vx = 0;\n\n    /** Current velocity. */\n    vy = 0;\n\n    /**\n     * Sets the focus position.\n     * @param x - X position in range `[-1, 1]`.\n     * @param y - Y position in range `[-1, 1]`.\n     * @param instant - Should the focus position be instantly applied.\n     */\n    focus(x: number, y: number, instant: boolean = false) {\n        this.targetX = clamp(x, -1, 1);\n        this.targetY = clamp(y, -1, 1);\n\n        if (instant) {\n            this.x = this.targetX;\n            this.y = this.targetY;\n        }\n    }\n\n    /**\n     * Updates the interpolation.\n     * @param dt - Delta time in milliseconds.\n     */\n    update(dt: DOMHighResTimeStamp) {\n        const dx = this.targetX - this.x;\n        const dy = this.targetY - this.y;\n\n        if (Math.abs(dx) < EPSILON && Math.abs(dy) < EPSILON) return;\n\n        const d = Math.sqrt(dx ** 2 + dy ** 2);\n        const maxSpeed = MAX_SPEED / (1000 / dt);\n\n        let ax = maxSpeed * (dx / d) - this.vx;\n        let ay = maxSpeed * (dy / d) - this.vy;\n\n        const a = Math.sqrt(ax ** 2 + ay ** 2);\n        const maxA = maxSpeed * ACCELERATION_TIME * dt;\n\n        if (a > maxA) {\n            ax *= maxA / a;\n            ay *= maxA / a;\n        }\n\n        this.vx += ax;\n        this.vy += ay;\n\n        const v = Math.sqrt(this.vx ** 2 + this.vy ** 2);\n        const maxV = 0.5 * (Math.sqrt(maxA ** 2 + 8 * maxA * d) - maxA);\n\n        if (v > maxV) {\n            this.vx *= maxV / v;\n            this.vy *= maxV / v;\n        }\n\n        this.x += this.vx;\n        this.y += this.vy;\n    }\n}\n","import { Live2DLoaderContext, Live2DLoaderTarget } from '@/factory/Live2DLoader';\nimport { logger } from '@/utils';\nimport { Middleware } from '@/utils/middleware';\n\nconst TAG = 'XHRLoader';\n\nclass NetworkError extends Error {\n    constructor(message: string, public url: string, public status: number, public aborted = false) {\n        super(message);\n    }\n}\n\n/**\n * The basic XHR loader.\n *\n * A network error will be thrown with the following properties:\n * - `url` - The request URL.\n * - `status` - The HTTP status.\n * - `aborted` - True if the error is caused by aborting the XHR.\n */\nexport class XHRLoader {\n    /**\n     * All the created XHRs, keyed by their owners respectively.\n     */\n    static xhrMap = new WeakMap<Live2DLoaderTarget, Set<XMLHttpRequest>>();\n\n    /**\n     * All the created XHRs as a flat array.\n     */\n    static allXhrSet = new Set<XMLHttpRequest>();\n\n    /**\n     * Middleware for Live2DLoader.\n     */\n    static loader: Middleware<Live2DLoaderContext> = (context, next) => {\n        return new Promise<void>((resolve, reject) => {\n            const xhr = XHRLoader.createXHR(\n                context.target,\n                context.settings ? context.settings.resolveURL(context.url) : context.url,\n                context.type,\n                data => {\n                    context.result = data;\n                    resolve();\n                },\n                reject,\n            );\n            xhr.send();\n        });\n    };\n\n    /**\n     * Creates a managed XHR.\n     * @param target - If provided, the XHR will be canceled when receiving an \"destroy\" event from the target.\n     * @param url - The URL.\n     * @param type - The XHR response type.\n     * @param onload - Load listener.\n     * @param onerror - Error handler.\n     */\n    static createXHR<T = any>(\n        target: Live2DLoaderTarget | undefined,\n        url: string,\n        type: XMLHttpRequestResponseType,\n        onload: (data: T) => void,\n        onerror: (e: Error) => void,\n    ): XMLHttpRequest {\n        const xhr = new XMLHttpRequest();\n\n        XHRLoader.allXhrSet.add(xhr);\n\n        if (target) {\n            let xhrSet = XHRLoader.xhrMap.get(target);\n\n            if (!xhrSet) {\n                xhrSet = new Set([xhr]);\n                XHRLoader.xhrMap.set(target, xhrSet);\n            } else {\n                xhrSet.add(xhr);\n            }\n\n            if (!target.listeners('destroy').includes(XHRLoader.cancelXHRs)) {\n                target.once('destroy', XHRLoader.cancelXHRs);\n            }\n        }\n\n        xhr.open('GET', url);\n        xhr.responseType = type;\n        xhr.onload = () => {\n            if ((xhr.status === 200 || xhr.status === 0) && xhr.response) {\n                onload(xhr.response);\n            } else {\n                (xhr.onerror as any)();\n            }\n        };\n        xhr.onerror = () => {\n            logger.warn(TAG, `Failed to load resource as ${xhr.responseType} (Status ${xhr.status}): ${url}`);\n            onerror(new NetworkError('Network error.', url, xhr.status));\n        };\n        xhr.onabort = () => onerror(new NetworkError('Aborted.', url, xhr.status, true));\n        xhr.onloadend = () => {\n            XHRLoader.allXhrSet.delete(xhr);\n\n            if (target) {\n                XHRLoader.xhrMap.get(target)?.delete(xhr);\n            }\n        };\n\n        return xhr;\n    }\n\n    /**\n     * Cancels all XHRs related to this target.\n     */\n    static cancelXHRs(this: Live2DLoaderTarget) {\n        XHRLoader.xhrMap.get(this)?.forEach(xhr => {\n            xhr.abort();\n            XHRLoader.allXhrSet.delete(xhr);\n        });\n        XHRLoader.xhrMap.delete(this);\n    }\n\n    /**\n     * Release all XHRs.\n     */\n    static release() {\n        XHRLoader.allXhrSet.forEach(xhr => xhr.abort());\n        XHRLoader.allXhrSet.clear();\n        XHRLoader.xhrMap = new WeakMap();\n    }\n}\n","export type Middleware<T> = (context: T, next: (err?: any) => Promise<void>) => Promise<void>\n\n/**\n * Run middlewares with given context.\n * @see https://github.com/koajs/compose/blob/master/index.js\n *\n * @param middleware\n * @param context\n */\nexport function runMiddlewares<T>(middleware: Middleware<T>[], context: T): Promise<void> {\n    // last called middleware #\n    let index = -1;\n    return dispatch(0);\n\n    function dispatch(i: number, err?: Error): Promise<void> {\n        if (err) return Promise.reject(err);\n        if (i <= index) return Promise.reject(new Error('next() called multiple times'));\n        index = i;\n        const fn = middleware[i];\n        if (!fn) return Promise.resolve();\n        try {\n            return Promise.resolve(fn(context, dispatch.bind(null, i + 1)));\n        } catch (err) {\n            return Promise.reject(err);\n        }\n    }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__20__;","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__24__;","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","import { InteractionEvent, InteractionManager } from '@pixi/interaction';\nimport { Live2DModel } from './Live2DModel';\n\n/**\n * The interaction control split from Live2DModel class for code clarity. This mixin should *only*\n * be used on the Live2DModel.\n */\nexport class InteractionMixin {\n    private _autoInteract = false;\n\n    /**\n     * Enables automatic interaction. Only takes effect if Pixi's interaction\n     * feature has been enabled (by registering the `PIXI.InteractionManager` into `PIXI.Renderer`).\n     */\n    get autoInteract(): boolean {\n        return this._autoInteract;\n    }\n\n    set autoInteract(autoInteract: boolean) {\n        if (autoInteract !== this._autoInteract) {\n            if (autoInteract) {\n                (this as any as Live2DModel).on('pointertap', onTap, this);\n            } else {\n                (this as any as Live2DModel).off('pointertap', onTap, this);\n            }\n\n            this._autoInteract = autoInteract;\n        }\n    }\n\n    /**\n     * Local reference used to clean up the event listeners when destroying the model.\n     */\n    interactionManager?: InteractionManager;\n\n    /**\n     * Registers interaction by subscribing to the `PIXI.InteractionManager`.\n     */\n    registerInteraction(this: Live2DModel, manager?: InteractionManager): void {\n        if (manager !== this.interactionManager) {\n            this.unregisterInteraction();\n\n            if (this._autoInteract && manager) {\n                this.interactionManager = manager;\n\n                manager.on('pointermove', onPointerMove, this);\n            }\n        }\n    }\n\n    /**\n     * Unregisters interaction.\n     */\n    unregisterInteraction(this: Live2DModel): void {\n        if (this.interactionManager) {\n            this.interactionManager?.off('pointermove', onPointerMove, this);\n            this.interactionManager = undefined;\n        }\n    }\n}\n\nfunction onTap(this: Live2DModel, event: InteractionEvent): void {\n    this.tap(event.data.global.x, event.data.global.y);\n}\n\nfunction onPointerMove(this: Live2DModel, event: InteractionEvent) {\n    this.focus(event.data.global.x, event.data.global.y);\n}\n","import { Transform } from '@pixi/math';\n\n/**\n * Useless class. May be useful in the future.\n */\nexport class Live2DTransform extends Transform {\n}\n","import { InternalModel, ModelSettings, MotionPriority } from '@/cubism-common';\nimport { MotionManagerOptions } from '@/cubism-common/MotionManager';\nimport type { Live2DFactoryOptions } from '@/factory/Live2DFactory';\nimport { Live2DFactory } from '@/factory/Live2DFactory';\nimport { Renderer, Texture } from '@pixi/core';\nimport { Container } from '@pixi/display';\nimport { Matrix, ObservablePoint, Point, Rectangle } from '@pixi/math';\nimport { Ticker } from '@pixi/ticker';\nimport { InteractionMixin } from './InteractionMixin';\nimport { Live2DTransform } from './Live2DTransform';\nimport { applyMixins, logger } from './utils';\n\nexport interface Live2DModelOptions extends MotionManagerOptions {\n    /**\n     * Should the internal model be automatically updated by `PIXI.Ticker.shared`.\n     * @default ture\n     */\n    autoUpdate?: boolean;\n\n    /**\n     * Should the internal model automatically reacts to interactions by listening for pointer events.\n     * @see {@link InteractionMixin}\n     * @default true\n     */\n    autoInteract?: boolean;\n}\n\nconst tempPoint = new Point();\nconst tempMatrix = new Matrix();\n\n// a reference to Ticker class, defaults to window.PIXI.Ticker (when loaded by a <script> tag)\nlet TickerClass: typeof Ticker | undefined = (window as any).PIXI?.Ticker;\n\nexport interface Live2DModel<IM extends InternalModel = InternalModel> extends InteractionMixin {}\n\nexport type Live2DConstructor = { new(options?: Live2DModelOptions): Live2DModel }\n\n/**\n * A wrapper that allows the Live2D model to be used as a DisplayObject in PixiJS.\n *\n * ```js\n * const model = await Live2DModel.from('shizuku.model.json');\n * container.add(model);\n * ```\n * @emits {@link Live2DModelEvents}\n */\nexport class Live2DModel<IM extends InternalModel = InternalModel> extends Container {\n    /**\n     * Creates a Live2DModel from given source.\n     * @param source - Can be one of: settings file URL, settings JSON object, ModelSettings instance.\n     * @param options - Options for the creation.\n     * @return Promise that resolves with the Live2DModel.\n     */\n    static from<M extends Live2DConstructor = typeof Live2DModel>(this: M, source: string | JSONObject | ModelSettings, options?: Live2DFactoryOptions): Promise<InstanceType<M>> {\n        const model = new this(options) as InstanceType<M>;\n\n        return Live2DFactory.setupLive2DModel(model, source, options).then(() => model);\n    }\n\n    /**\n     * Synchronous version of `Live2DModel.from()`. This method immediately returns a Live2DModel instance,\n     * whose resources have not been loaded. Therefore this model can't be manipulated or rendered\n     * until the \"load\" event has been emitted.\n     *\n     * ```js\n     * // no `await` here as it's not a Promise\n     * const model = Live2DModel.fromSync('shizuku.model.json');\n     *\n     * // these will cause errors!\n     * // app.stage.addChild(model);\n     * // model.motion('tap_body');\n     *\n     * model.once('load', () => {\n     *     // now it's safe\n     *     app.stage.addChild(model);\n     *     model.motion('tap_body');\n     * });\n     * ```\n     */\n    static fromSync<M extends Live2DConstructor = typeof Live2DModel>(this: M, source: string | JSONObject | ModelSettings, options?: Live2DFactoryOptions): InstanceType<M> {\n        const model = new this(options) as InstanceType<M>;\n\n        Live2DFactory.setupLive2DModel(model, source, options).then(options?.onLoad).catch(options?.onError);\n\n        return model;\n    }\n\n    /**\n     * Registers the class of `PIXI.Ticker` for auto updating.\n     */\n    static registerTicker(tickerClass: typeof Ticker): void {\n        TickerClass = tickerClass;\n    }\n\n    /**\n     * Tag for logging.\n     */\n    tag = 'Live2DModel(uninitialized)';\n\n    /**\n     * The internal model. Though typed as non-nullable, it'll be undefined until the \"ready\" event is emitted.\n     */\n    internalModel!: IM;\n\n    /**\n     * Pixi textures.\n     */\n    textures: Texture[] = [];\n\n    /** @override */\n    transform = new Live2DTransform();\n\n    /**\n     * The anchor behaves like the one in `PIXI.Sprite`, where `(0, 0)` means the top left\n     * and `(1, 1)` means the bottom right.\n     */\n    anchor = new ObservablePoint(this.onAnchorChange, this, 0, 0);\n\n    /**\n     * An ID of Gl context that syncs with `renderer.CONTEXT_UID`. Used to check if the GL context has changed.\n     */\n    protected glContextID = -1;\n\n    /**\n     * Elapsed time in milliseconds since created.\n     */\n    elapsedTime: DOMHighResTimeStamp = performance.now();\n\n    /**\n     * Elapsed time in milliseconds from last frame to this frame.\n     */\n    deltaTime: DOMHighResTimeStamp = 0;\n\n    protected _autoUpdate = false;\n\n    /**\n     * Enables automatic updating. Requires {@link Live2DModel.registerTicker} or the global `window.PIXI.Ticker`.\n     */\n    get autoUpdate() {\n        return this._autoUpdate;\n    }\n\n    set autoUpdate(autoUpdate: boolean) {\n        if (autoUpdate) {\n            if (!this._destroyed) {\n                if (TickerClass) {\n                    TickerClass.shared.add(this.onTickerUpdate, this);\n\n                    this._autoUpdate = true;\n                } else {\n                    logger.warn(this.tag, 'No Ticker registered, please call Live2DModel.registerTicker(Ticker).');\n                }\n            }\n        } else {\n            TickerClass?.shared.remove(this.onTickerUpdate, this);\n\n            this._autoUpdate = false;\n        }\n    }\n\n    constructor(options?: Live2DModelOptions) {\n        super();\n\n        this.once('modelLoaded', () => this.init(options));\n    }\n\n    // TODO: rename\n    /**\n     * A handler of the \"modelLoaded\" event, invoked when the internal model has been loaded.\n     */\n    protected init(options?: Live2DModelOptions) {\n        this.tag = `Live2DModel(${this.internalModel.settings.name})`;\n\n        const _options = Object.assign({\n            autoUpdate: true,\n            autoInteract: true,\n        }, options);\n\n        if (_options.autoInteract) {\n            this.interactive = true;\n        }\n\n        this.autoInteract = _options.autoInteract;\n        this.autoUpdate = _options.autoUpdate;\n    }\n\n    /**\n     * A callback that observes {@link anchor}, invoked when the anchor's values have been changed.\n     */\n    protected onAnchorChange(): void {\n        this.pivot.set(this.anchor.x * this.internalModel.width, this.anchor.y * this.internalModel.height);\n    }\n\n    /**\n     * Shorthand to start a motion.\n     * @param group - The motion group.\n     * @param index - The index in this group. If not presented, a random motion will be started.\n     * @param priority - The motion priority. Defaults to `MotionPriority.NORMAL`.\n     * @return Promise that resolves with true if the motion is successfully started, with false otherwise.\n     */\n    motion(group: string, index?: number, priority?: MotionPriority): Promise<boolean> {\n        return index === undefined\n            ? this.internalModel.motionManager.startRandomMotion(group, priority)\n            : this.internalModel.motionManager.startMotion(group, index, priority);\n    }\n\n    /**\n     * Shorthand to set an expression.\n     * @param id - Either the index, or the name of the expression. If not presented, a random expression will be set.\n     * @return Promise that resolves with true if succeeded, with false otherwise.\n     */\n    expression(id?: number | string): Promise<boolean> {\n        if (this.internalModel.motionManager.expressionManager) {\n            return id === undefined\n                ? this.internalModel.motionManager.expressionManager.setRandomExpression()\n                : this.internalModel.motionManager.expressionManager.setExpression(id);\n        }\n        return Promise.resolve(false);\n    }\n\n    /**\n     * Updates the focus position. This will not cause the model to immediately look at the position,\n     * instead the movement will be interpolated.\n     * @param x - Position in world space.\n     * @param y - Position in world space.\n     * @param instant - Should the focus position be instantly applied.\n     */\n    focus(x: number, y: number, instant: boolean = false): void {\n        tempPoint.x = x;\n        tempPoint.y = y;\n\n        // we can pass `true` as the third argument to skip the update transform\n        // because focus won't take effect until the model is rendered,\n        // and a model being rendered will always get transform updated\n        this.toModelPosition(tempPoint, tempPoint, true);\n\n        this.internalModel.focusController.focus(\n            (tempPoint.x / this.internalModel.originalWidth) * 2 - 1,\n            -((tempPoint.y / this.internalModel.originalHeight) * 2 - 1),\n            instant,\n        );\n    }\n\n    /**\n     * Tap on the model. This will perform a hit-testing, and emit a \"hit\" event\n     * if at least one of the hit areas is hit.\n     * @param x - Position in world space.\n     * @param y - Position in world space.\n     * @emits {@link Live2DModelEvents.hit}\n     */\n    tap(x: number, y: number): void {\n        const hitAreaNames = this.hitTest(x, y);\n\n        if (hitAreaNames.length) {\n            logger.log(this.tag, `Hit`, hitAreaNames);\n\n            this.emit('hit', hitAreaNames);\n        }\n    }\n\n    /**\n     * Hit-test on the model.\n     * @param x - Position in world space.\n     * @param y - Position in world space.\n     * @return The names of the *hit* hit areas. Can be empty if none is hit.\n     */\n    hitTest(x: number, y: number): string[] {\n        tempPoint.x = x;\n        tempPoint.y = y;\n        this.toModelPosition(tempPoint, tempPoint);\n\n        return this.internalModel.hitTest(tempPoint.x, tempPoint.y);\n    }\n\n    /**\n     * Calculates the position in the canvas of original, unscaled Live2D model.\n     * @param position - A Point in world space.\n     * @param result - A Point to store the new value. Defaults to a new Point.\n     * @param skipUpdate - True to skip the update transform.\n     * @return The Point in model canvas space.\n     */\n    toModelPosition(position: Point, result: Point = position.clone(), skipUpdate?: boolean): Point {\n        if (!skipUpdate) {\n            this._recursivePostUpdateTransform();\n\n            if (!this.parent) {\n                (this.parent as any) = this._tempDisplayObjectParent;\n                this.displayObjectUpdateTransform();\n                (this.parent as any) = null;\n            } else {\n                this.displayObjectUpdateTransform();\n            }\n        }\n\n        this.transform.worldTransform.applyInverse(position, result);\n        this.internalModel.localTransform.applyInverse(result, result);\n\n        return result;\n    }\n\n    /**\n     * A method required by `PIXI.InteractionManager` to perform hit-testing.\n     * @param point - A Point in world space.\n     * @return True if the point is inside this model.\n     */\n    containsPoint(point: Point): boolean {\n        return this.getBounds(true).contains(point.x, point.y);\n    }\n\n    /** @override */\n    protected _calculateBounds(): void {\n        this._bounds.addFrame(this.transform, 0, 0, this.internalModel.width, this.internalModel.height);\n    }\n\n    /**\n     * An update callback to be added to `PIXI.Ticker` and invoked every tick.\n     */\n    onTickerUpdate(): void {\n        this.update(TickerClass!.shared.deltaMS);\n    }\n\n    /**\n     * Updates the model. Note this method just updates the timer,\n     * and the actual update will be done right before rendering the model.\n     * @param dt - The elapsed time in milliseconds since last frame.\n     */\n    update(dt: DOMHighResTimeStamp): void {\n        this.deltaTime += dt;\n        this.elapsedTime += dt;\n\n        // don't call `this.internalModel.update()` here, because it requires WebGL context\n    }\n\n    /** @override */\n    protected _render(renderer: Renderer): void {\n        this.registerInteraction(renderer.plugins.interaction);\n\n        // reset certain systems in renderer to make Live2D's drawing system compatible with Pixi\n        renderer.batch.reset();\n        renderer.geometry.reset();\n        renderer.shader.reset();\n        renderer.state.reset();\n\n        let shouldUpdateTexture = false;\n\n        // when the WebGL context has changed\n        if (this.glContextID !== (renderer as any).CONTEXT_UID) {\n            this.glContextID = (renderer as any).CONTEXT_UID;\n\n            this.internalModel.updateWebGLContext(renderer.gl, this.glContextID);\n\n            shouldUpdateTexture = true;\n        }\n\n        for (let i = 0; i < this.textures.length; i++) {\n            const texture = this.textures[i]!;\n\n            if (!texture.valid) {\n                continue;\n            }\n\n            if (shouldUpdateTexture || !(texture.baseTexture as any)._glTextures[this.glContextID]) {\n                renderer.gl.pixelStorei(WebGLRenderingContext.UNPACK_FLIP_Y_WEBGL, this.internalModel.textureFlipY);\n\n                // let the TextureSystem generate corresponding WebGLTexture, and bind to an arbitrary location\n                renderer.texture.bind(texture.baseTexture, 0);\n            }\n\n            // bind the WebGLTexture into Live2D core.\n            // because the Texture in Pixi can be shared between multiple DisplayObjects,\n            // it's unable to know if the WebGLTexture in this Texture has been destroyed (GCed) and regenerated,\n            // and therefore we always bind the texture at this moment no matter what\n            this.internalModel.bindTexture(i, (texture.baseTexture as any)._glTextures[this.glContextID].texture);\n\n            // manually update the GC counter so they won't be GCed while using this model\n            (texture.baseTexture as any).touched = renderer.textureGC.count;\n        }\n\n        const viewport = (renderer.framebuffer as any).viewport as Rectangle;\n        this.internalModel.viewport = [viewport.x, viewport.y, viewport.width, viewport.height];\n\n        // update only if the time has changed, as the model will possibly be updated once but rendered multiple times\n        if (this.deltaTime) {\n            this.internalModel.update(this.deltaTime, this.elapsedTime);\n            this.deltaTime = 0;\n        }\n\n        const internalTransform = tempMatrix\n            .copyFrom(renderer.globalUniforms.uniforms.projectionMatrix)\n            .append(this.worldTransform);\n\n        this.internalModel.updateTransform(internalTransform);\n        this.internalModel.draw(renderer.gl);\n\n        // reset WebGL state and texture bindings\n        renderer.state.reset();\n        renderer.texture.reset();\n    }\n\n    /**\n     * Destroys the model and all related resources. This takes the same options and also\n     * behaves the same as `PIXI.Container#destroy`.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param [options.children=false] - if set to true, all the children will have their destroy\n     *  method called as well. 'options' will be passed on to those calls.\n     * @param [options.texture=false] - Only used for child Sprites if options.children is set to true\n     *  Should it destroy the texture of the child sprite\n     * @param [options.baseTexture=false] - Only used for child Sprites if options.children is set to true\n     *  Should it destroy the base texture of the child sprite\n     */\n    destroy(options?: { children?: boolean, texture?: boolean, baseTexture?: boolean }): void {\n        this.emit('destroy');\n\n        // the setters will do the cleanup\n        this.autoUpdate = false;\n\n        this.unregisterInteraction();\n\n        if (options?.texture) {\n            this.textures.forEach(texture => texture.destroy(options.baseTexture));\n        }\n\n        this.internalModel.destroy();\n\n        super.destroy(options);\n    }\n}\n\napplyMixins(Live2DModel, [InteractionMixin]);\n","import { InternalModel, ModelSettings } from '@/cubism-common';\nimport { Live2DFactory, Live2DFactoryContext } from '@/factory';\nimport { Middleware } from '@/utils/middleware';\nimport { url as urlUtils } from '@pixi/utils';\n\ndeclare global {\n    interface File {\n        webkitRelativePath: string;\n    }\n}\n\ndeclare module '@/cubism-common/ModelSettings' {\n    interface ModelSettings {\n        /** @ignore */\n        _objectURL?: string;\n    }\n}\n\nexport type ExtendedFileList = File[] & { settings?: ModelSettings }\n\n/**\n * Experimental loader to load resources from uploaded files.\n *\n * This loader relies on\n * [webkitRelativePath](https://developer.mozilla.org/en-US/docs/Web/API/File/webkitRelativePath)\n * to recognize the file path.\n *\n * Though named as a \"Loader\", this class has nothing to do with Live2DLoader,\n * it only contains a middleware for the Live2DFactory.\n */\nexport class FileLoader {\n    /**\n     * Stores all the object URLs of uploaded files.\n     */\n    static filesMap: {\n        [settingsFileURL: string]: {\n            [resourceFileURL: string]: string\n        }\n    } = {};\n\n    /**\n     * Resolves the path of a resource file to the object URL.\n     * @param settingsURL - Object URL of the settings file.\n     * @param filePath - Resource file path.\n     * @return Resolved object URL.\n     */\n    static resolveURL(settingsURL: string, filePath: string): string {\n        const resolved = FileLoader.filesMap[settingsURL]?.[filePath];\n\n        if (resolved === undefined) {\n            throw new Error('Cannot find this file from uploaded files: ' + filePath);\n        }\n\n        return resolved;\n    }\n\n    /**\n     * Middleware for Live2DFactory.\n     */\n    static factory: Middleware<Live2DFactoryContext> = async (context, next) => {\n        if (Array.isArray(context.source) && context.source[0] instanceof File) {\n            const files = context.source as File[];\n\n            let settings = (files as ExtendedFileList).settings;\n\n            if (!settings) {\n                settings = await FileLoader.createSettings(files);\n            } else if (!settings._objectURL) {\n                throw  new Error('\"_objectURL\" must be specified in ModelSettings');\n            }\n\n            settings.validateFiles(files.map(file => encodeURI(file.webkitRelativePath)));\n\n            await FileLoader.upload(files, settings);\n\n            // override the default method to resolve URL from uploaded files\n            settings.resolveURL = function(url) {\n                return FileLoader.resolveURL(this._objectURL!, url);\n            };\n\n            context.source = settings;\n\n            // clean up when destroying the model\n            context.live2dModel.once('modelLoaded', (internalModel: InternalModel) => {\n                internalModel.once('destroy', function(this: InternalModel) {\n                    const objectURL = this.settings._objectURL!;\n\n                    URL.revokeObjectURL(objectURL);\n\n                    if (FileLoader.filesMap[objectURL]) {\n                        for (const resourceObjectURL of Object.values(FileLoader.filesMap[objectURL]!)) {\n                            URL.revokeObjectURL(resourceObjectURL);\n                        }\n                    }\n\n                    delete FileLoader.filesMap[objectURL];\n                });\n            });\n        }\n\n        return next();\n    };\n\n    /**\n     * Consumes the files by storing their object URLs. Files not defined in the settings will be ignored.\n     */\n    static async upload(files: File[], settings: ModelSettings): Promise<void> {\n        const fileMap: Record<string, string> = {};\n\n        // only consume the files defined in settings\n        for (const definedFile of settings.getDefinedFiles()) {\n            const actualPath = decodeURI(urlUtils.resolve(settings.url, definedFile));\n\n            const actualFile = files.find(file => file.webkitRelativePath === actualPath);\n\n            if (actualFile) {\n                fileMap[definedFile] = URL.createObjectURL(actualFile);\n            }\n        }\n\n        FileLoader.filesMap[settings._objectURL!] = fileMap;\n    }\n\n    /**\n     * Creates a ModelSettings by given files.\n     * @return Promise that resolves with the created ModelSettings.\n     */\n    static async createSettings(files: File[]): Promise<ModelSettings> {\n        const settingsFile = files.find(file => file.name.endsWith('model.json') || file.name.endsWith('model3.json'));\n\n        if (!settingsFile) {\n            throw new TypeError('Settings file not found');\n        }\n\n        const settingsText = await FileLoader.readText(settingsFile);\n        const settingsJSON = JSON.parse(settingsText);\n\n        settingsJSON.url = settingsFile.webkitRelativePath;\n\n        const runtime = Live2DFactory.findRuntime(settingsJSON);\n\n        if (!runtime) {\n            throw new Error('Unknown settings JSON');\n        }\n\n        const settings = runtime.createModelSettings(settingsJSON);\n\n        settings._objectURL = URL.createObjectURL(settingsFile);\n\n        return settings;\n    }\n\n    /**\n     * Reads a file as text in UTF-8.\n     */\n    static async readText(file: File): Promise<string> {\n        return new Promise<string>((resolve, reject) => {\n            const reader = new FileReader();\n\n            reader.onload = () => resolve(reader.result as string);\n            reader.onerror = reject;\n            reader.readAsText(file, 'utf8');\n        });\n    }\n}\n\nLive2DFactory.live2DModelMiddlewares.unshift(FileLoader.factory);\n","import { url as urlUtils } from '@pixi/utils';\nimport { Middleware } from '@/utils/middleware';\nimport { InternalModel, ModelSettings } from '@/cubism-common';\nimport { ExtendedFileList } from './FileLoader';\nimport { Live2DFactory, Live2DFactoryContext } from '@/factory/Live2DFactory';\nimport { Live2DLoader } from '@/factory/Live2DLoader';\n\ntype ZipReader = any;\n\n/**\n * Experimental loader to load resources from a zip file.\n *\n * Though named as a \"Loader\", this class has nothing to do with Live2DLoader,\n * it only contains a middleware for the Live2DFactory.\n */\nexport class ZipLoader {\n    static ZIP_PROTOCOL = 'zip://';\n    static uid = 0;\n\n    static factory: Middleware<Live2DFactoryContext> = async (context, next) => {\n        const source = context.source;\n\n        let sourceURL: string;\n        let zipBlob: Blob | undefined;\n        let settings: ModelSettings | undefined;\n\n        if (typeof source === 'string' && (source.endsWith('.zip') || source.startsWith(ZipLoader.ZIP_PROTOCOL))) {\n            if (source.startsWith(ZipLoader.ZIP_PROTOCOL)) {\n                sourceURL = source.slice(ZipLoader.ZIP_PROTOCOL.length);\n            } else {\n                sourceURL = source;\n            }\n\n            zipBlob = await Live2DLoader.load({\n                url: sourceURL,\n                type: 'blob',\n                target: context.live2dModel,\n            });\n        } else if (\n            Array.isArray(source)\n            && source.length === 1\n            && source[0] instanceof File\n            && source[0].name.endsWith('.zip')\n        ) {\n            zipBlob = source[0];\n\n            sourceURL = URL.createObjectURL(zipBlob);\n\n            settings = (source as ExtendedFileList).settings;\n        }\n\n        if (zipBlob) {\n            if (!zipBlob.size) {\n                throw new Error('Empty zip file');\n            }\n\n            const reader = await ZipLoader.zipReader(zipBlob, sourceURL!);\n\n            if (!settings) {\n                settings = await ZipLoader.createSettings(reader);\n            }\n\n            // a fake URL, the only requirement is it should be unique,\n            // as FileLoader will use it as the ID of all uploaded files\n            settings._objectURL = ZipLoader.ZIP_PROTOCOL + ZipLoader.uid + '/' + settings.url;\n\n            const files = await ZipLoader.unzip(reader, settings);\n\n            (files as ExtendedFileList).settings = settings;\n\n            // pass files to the FileLoader\n            context.source = files;\n\n            // clean up when destroying the model\n            if (sourceURL!.startsWith('blob:')) {\n                context.live2dModel.once('modelLoaded', (internalModel: InternalModel) => {\n                    internalModel.once('destroy', function(this: InternalModel) {\n                        URL.revokeObjectURL(sourceURL);\n\n                    });\n                });\n            }\n\n            ZipLoader.releaseReader(reader);\n        }\n\n        return next();\n    };\n\n    static async unzip(reader: ZipReader, settings: ModelSettings): Promise<File[]> {\n        const filePaths = await ZipLoader.getFilePaths(reader);\n\n        const requiredFilePaths: string[] = [];\n\n        // only consume the files defined in settings\n        for (const definedFile of settings.getDefinedFiles()) {\n            const actualPath = decodeURI(urlUtils.resolve(settings.url, definedFile));\n\n            if (filePaths.includes(actualPath)) {\n                requiredFilePaths.push(actualPath);\n            }\n        }\n\n        const files = await ZipLoader.getFiles(reader, requiredFilePaths);\n\n        for (let i = 0; i < files.length; i++) {\n            const path = requiredFilePaths[i]!;\n            const file = files[i]!;\n\n            // let's borrow this property...\n            Object.defineProperty(file, 'webkitRelativePath', {\n                value: path,\n            });\n        }\n\n        return files;\n    }\n\n    static async createSettings(reader: ZipReader): Promise<ModelSettings> {\n        const filePaths = await ZipLoader.getFilePaths(reader);\n\n        const settingsFilePath = filePaths.find(path => path.endsWith('model.json') || path.endsWith('model3.json'));\n\n        if (!settingsFilePath) {\n            throw  new Error('Settings file not found');\n        }\n\n        const settingsText = await ZipLoader.readText(reader, settingsFilePath);\n\n        if (!settingsText) {\n            throw new Error('Empty settings file: ' + settingsFilePath);\n        }\n\n        const settingsJSON = JSON.parse(settingsText);\n\n        settingsJSON.url = settingsFilePath;\n\n        const runtime = Live2DFactory.findRuntime(settingsJSON);\n\n        if (!runtime) {\n            throw new Error('Unknown settings JSON');\n        }\n\n        return runtime.createModelSettings(settingsJSON);\n    }\n\n    static async zipReader(data: Blob, url: string): Promise<ZipReader> {\n        throw new Error('Not implemented');\n    }\n\n    static async getFilePaths(reader: ZipReader): Promise<string[]> {\n        throw new Error('Not implemented');\n    }\n\n    static async getFiles(reader: ZipReader, paths: string[]): Promise<File[]> {\n        throw new Error('Not implemented');\n    }\n\n    static async readText(reader: ZipReader, path: string): Promise<string> {\n        throw new Error('Not implemented');\n    }\n\n    static releaseReader(reader: ZipReader) {\n        // this method is optional\n    }\n}\n\nLive2DFactory.live2DModelMiddlewares.unshift(ZipLoader.factory);\n","export * from './Live2DFactory';\nexport * from './Live2DLoader';\nexport * from './XHRLoader';\nexport * from './FileLoader';\nexport * from './ZipLoader';\n","/// <reference path=\"../core/live2d.d.ts\"/>\n/// <reference path=\"../core/live2dcubismcore.d.ts\"/>\n/// <reference path=\"../cubism/src/CubismSpec.d.ts\"/>\n/// <reference path=\"types/Cubism2Spec.d.ts\"/>\n/// <reference path=\"types/helpers.d.ts\"/>\n/// <reference path=\"types/shim.d.ts\"/>\n\nexport * from './cubism-common';\nexport * from './Live2DModel';\nexport * from './Live2DTransform';\nexport * from './InteractionMixin';\nexport * from './config';\nexport * from './factory';\nexport * from './utils';\n","import { Live2DModel } from '@/Live2DModel';\nimport { Renderer } from '@pixi/core';\nimport { Graphics } from '@pixi/graphics';\nimport { InteractionEvent } from '@pixi/interaction';\nimport { Text, TextStyle } from '@pixi/text';\nimport { Rectangle } from '@pixi/math';\n\nconst tempBounds = new Rectangle();\n\nexport class HitAreaFrames extends Graphics {\n    initialized = false;\n\n    texts: Text[] = [];\n\n    strokeWidth = 4;\n    normalColor = 0xE31A1A;\n    activeColor = 0x1EC832;\n\n    constructor() {\n        super();\n\n        this.interactive = true;\n\n        this.on('added', this.init).on('pointermove', this.onPointerMove);\n    }\n\n    init() {\n        const internalModel = (this.parent as Live2DModel).internalModel;\n\n        const textStyle = new TextStyle({\n            fontSize: 24,\n            fill: '#ffffff',\n            stroke: '#000000',\n            strokeThickness: 4,\n        });\n\n        this.texts = Object.keys(internalModel.hitAreas).map(hitAreaName => {\n            const text = new Text(hitAreaName, textStyle);\n\n            text.visible = false;\n\n            this.addChild(text);\n\n            return text;\n        });\n    }\n\n    onPointerMove(e: InteractionEvent) {\n        const hitAreaNames = (this.parent as Live2DModel).hitTest(e.data.global.x, e.data.global.y);\n\n        this.texts.forEach(text => {\n            text.visible = hitAreaNames.includes(text.text);\n        });\n    }\n\n    /** @override */\n    protected _render(renderer: Renderer): void {\n        const internalModel = (this.parent as Live2DModel).internalModel;\n\n        // extract scale from the transform matrix, and invert it to ease following calculation\n        // https://math.stackexchange.com/a/13165\n        const scale = 1 / Math.sqrt(this.transform.worldTransform.a ** 2 + this.transform.worldTransform.b ** 2);\n\n        this.texts.forEach(text => {\n            (\n                // correct the type definition of this method, the official definition is wrong!\n                this.lineStyle as any as (options: { width?: number, color?: number }) => void\n            )({\n                width: this.strokeWidth * scale,\n                color: text.visible ? this.activeColor : this.normalColor,\n            });\n\n            const bounds = internalModel.getDrawableBounds(internalModel.hitAreas[text.text]!.index, tempBounds);\n            const transform = internalModel.localTransform;\n\n            bounds.x = bounds.x * transform.a + transform.tx;\n            bounds.y = bounds.y * transform.d + transform.ty;\n            bounds.width = bounds.width * transform.a;\n            bounds.height = bounds.height * transform.d;\n\n            this.drawRect(bounds.x, bounds.y, bounds.width, bounds.height);\n\n            text.x = bounds.x + this.strokeWidth * scale;\n            text.y = bounds.y + this.strokeWidth * scale;\n            text.scale.set(scale);\n        });\n\n        super._render(renderer);\n\n        this.clear();\n    }\n}\n","export * from './common';\n\nexport * from './tools/HitAreaFrames';\n","var baseRest = require('./_baseRest'),\n    pullAll = require('./pullAll');\n\n/**\n * Removes all given values from `array` using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n * to remove elements from an array by predicate.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {...*} [values] The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pull(array, 'a', 'c');\n * console.log(array);\n * // => ['b', 'b']\n */\nvar pull = baseRest(pullAll);\n\nmodule.exports = pull;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__34__;","module.exports = __WEBPACK_EXTERNAL_MODULE__35__;","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var basePullAll = require('./_basePullAll');\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nmodule.exports = pullAll;\n","var arrayMap = require('./_arrayMap'),\n    baseIndexOf = require('./_baseIndexOf'),\n    baseIndexOfWith = require('./_baseIndexOfWith'),\n    baseUnary = require('./_baseUnary'),\n    copyArray = require('./_copyArray');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAll;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOfWith;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","// subclassing is impossible because it will be instantiated by `Live2DMotion.create()`\ndeclare interface Live2DMotion {\n    onFinishHandler?(motion: this): void\n}\n\nconst originalUpdateParam = Live2DMotion.prototype.updateParam;\n\nLive2DMotion.prototype.updateParam = function(model: Live2DModelWebGL, entry: Live2DObfuscated.MotionQueueEnt) {\n    originalUpdateParam.call(this, model, entry);\n\n    if (entry.isFinished() && this.onFinishHandler) {\n        this.onFinishHandler(this);\n\n        delete this.onFinishHandler;\n    }\n};\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\n/**\n * 2\n *\n * 2\n */\nexport class CubismVector2 {\n  x: number;\n  y: number;\n\n  /**\n   * \n   */\n  public constructor(x?: number, y?: number) {\n    this.x = x || 0;\n    this.y = y || 0;\n  }\n\n  /**\n   * \n   *\n   * @param vector2 \n   * @return  \n   */\n  public add(vector2: CubismVector2): CubismVector2 {\n    const ret: CubismVector2 = new CubismVector2(0.0, 0.0);\n    ret.x = this.x + vector2.x;\n    ret.y = this.y + vector2.y;\n    return ret;\n  }\n\n  /**\n   * \n   *\n   * @param vector2 \n   * @return  \n   */\n  public substract(vector2: CubismVector2): CubismVector2 {\n    const ret: CubismVector2 = new CubismVector2(0.0, 0.0);\n    ret.x = this.x - vector2.x;\n    ret.y = this.y - vector2.y;\n    return ret;\n  }\n\n  /**\n   * \n   *\n   * @param vector2 \n   * @return  \n   */\n  public multiply(vector2: CubismVector2): CubismVector2 {\n    const ret: CubismVector2 = new CubismVector2(0.0, 0.0);\n    ret.x = this.x * vector2.x;\n    ret.y = this.y * vector2.y;\n    return ret;\n  }\n\n  /**\n   * ()\n   *\n   * @param scalar \n   * @return  \n   */\n  public multiplyByScaler(scalar: number): CubismVector2 {\n    return this.multiply(new CubismVector2(scalar, scalar));\n  }\n\n  /**\n   * \n   *\n   * @param vector2 \n   * @return  \n   */\n  public division(vector2: CubismVector2): CubismVector2 {\n    const ret: CubismVector2 = new CubismVector2(0.0, 0.0);\n    ret.x = this.x / vector2.x;\n    ret.y = this.y / vector2.y;\n    return ret;\n  }\n\n  /**\n   * ()\n   *\n   * @param scalar \n   * @return  \n   */\n  public divisionByScalar(scalar: number): CubismVector2 {\n    return this.division(new CubismVector2(scalar, scalar));\n  }\n\n  /**\n   * \n   *\n   * @return \n   */\n  public getLength(): number {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  /**\n   * \n   *\n   * @param a \n   * @return \n   */\n  public getDistanceWith(a: CubismVector2): number {\n    return Math.sqrt(\n      (this.x - a.x) * (this.x - a.x) + (this.y - a.y) * (this.y - a.y),\n    );\n  }\n\n  /**\n   * \n   *\n   * @param a \n   * @return \n   */\n  public dot(a: CubismVector2): number {\n    return this.x * a.x + this.y * a.y;\n  }\n\n  /**\n   * \n   */\n  public normalize(): void {\n    const length: number = Math.pow(this.x * this.x + this.y * this.y, 0.5);\n\n    this.x = this.x / length;\n    this.y = this.y / length;\n  }\n\n  /**\n   * \n   *\n   * \n   *\n   * @param rhs \n   * @return true \n   * @return false \n   */\n  public isEqual(rhs: CubismVector2): boolean {\n    return this.x == rhs.x && this.y == rhs.y;\n  }\n\n  /**\n   * \n   *\n   * \n   *\n   * @param rhs \n   * @return true \n   * @return false \n   */\n  public isNotEqual(rhs: CubismVector2): boolean {\n    return !this.isEqual(rhs);\n  }\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismVector2 } from './cubismvector2';\n\n  /**\n   * \n   */\n  export class CubismMath {\n    /**\n     * \n     *\n     * @param value \n     * @param min   \n     * @param max   \n     * @return \n     */\n    static range(value: number, min: number, max: number): number {\n      if (value < min) {\n        value = min;\n      } else if (value > max) {\n        value = max;\n      }\n\n      return value;\n    }\n\n    /**\n     * \n     *\n     * @param x \n     * @return sin(x)\n     */\n    static sin(x: number): number {\n      return Math.sin(x);\n    }\n\n    /**\n     * \n     *\n     * @param x ()\n     * @return cos(x)\n     */\n    static cos(x: number): number {\n      return Math.cos(x);\n    }\n\n    /**\n     * \n     *\n     * @param x \n     * @return \n     */\n    static abs(x: number): number {\n      return Math.abs(x);\n    }\n\n    /**\n     * ()\n     * @param x -> \n     * @return \n     */\n    static sqrt(x: number): number {\n      return Math.sqrt(x);\n    }\n\n    /**\n     * \n     * \n     *\n     * @param value \n     * @return \n     */\n    static getEasingSine(value: number): number {\n      if (value < 0.0) {\n        return 0.0;\n      } else if (value > 1.0) {\n        return 1.0;\n      }\n\n      return 0.5 - 0.5 * this.cos(value * Math.PI);\n    }\n\n    /**\n     * \n     *\n     * @param left \n     * @param right \n     * @return \n     */\n    static max(left: number, right: number): number {\n      return left > right ? left : right;\n    }\n\n    /**\n     * \n     *\n     * @param left  \n     * @param right \n     * @return \n     */\n    static min(left: number, right: number): number {\n      return left > right ? right : left;\n    }\n\n    /**\n     * \n     *\n     * @param degrees   \n     * @return \n     */\n    static degreesToRadian(degrees: number): number {\n      return (degrees / 180.0) * Math.PI;\n    }\n\n    /**\n     * \n     *\n     * @param radian    \n     * @return \n     */\n    static radianToDegrees(radian: number): number {\n      return (radian * 180.0) / Math.PI;\n    }\n\n    /**\n     * \n     *\n     * @param from  \n     * @param to    \n     * @return \n     */\n    static directionToRadian(from: CubismVector2, to: CubismVector2): number {\n      const q1: number = Math.atan2(to.y, to.x);\n      const q2: number = Math.atan2(from.y, from.x);\n\n      let ret: number = q1 - q2;\n\n      while (ret < -Math.PI) {\n        ret += Math.PI * 2.0;\n      }\n\n      while (ret > Math.PI) {\n        ret -= Math.PI * 2.0;\n      }\n\n      return ret;\n    }\n\n    /**\n     * \n     *\n     * @param from  \n     * @param to    \n     * @return \n     */\n    static directionToDegrees(from: CubismVector2, to: CubismVector2): number {\n      const radian: number = this.directionToRadian(from, to);\n      let degree: number = this.radianToDegrees(radian);\n\n      if (to.x - from.x > 0.0) {\n        degree = -degree;\n      }\n\n      return degree;\n    }\n\n    /**\n     * \n     *\n     * @param totalAngle    \n     * @return \n     */\n\n    static radianToDirection(totalAngle: number): CubismVector2 {\n      const ret: CubismVector2 = new CubismVector2();\n\n      ret.x = this.sin(totalAngle);\n      ret.y = this.cos(totalAngle);\n\n      return ret;\n    }\n\n    /**\n     * \n     */\n    private constructor() {}\n  }\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\n/**\n * 4x4\n *\n * 4x4\n */\nexport class CubismMatrix44 {\n  /**\n   * \n   */\n  public constructor() {\n    this._tr = new Float32Array(16); // 4 * 4\n    this.loadIdentity();\n  }\n\n  /**\n   * \n   *\n   * @param a a\n   * @param b b\n   * @return \n   */\n  public static multiply(\n    a: Float32Array,\n    b: Float32Array,\n    dst: Float32Array,\n  ): void {\n    const c: Float32Array = new Float32Array([\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n    ]);\n\n    const n = 4;\n\n    for (let i = 0; i < n; ++i) {\n      for (let j = 0; j < n; ++j) {\n        for (let k = 0; k < n; ++k) {\n          c[j + i * 4] += a[k + i * 4] * b[j + k * 4];\n        }\n      }\n    }\n\n    for (let i = 0; i < 16; ++i) {\n      dst[i] = c[i];\n    }\n  }\n\n  /**\n   * \n   */\n  public loadIdentity(): void {\n    const c: Float32Array = new Float32Array([\n      1.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      1.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      1.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      1.0,\n    ]);\n\n    this.setMatrix(c);\n  }\n\n  /**\n   * \n   *\n   * @param tr 164x4\n   */\n  public setMatrix(tr: Float32Array): void {\n    for (let i = 0; i < 16; ++i) {\n      this._tr[i] = tr[i];\n    }\n  }\n\n  /**\n   * \n   *\n   * @return 164x4\n   */\n  public getArray(): Float32Array {\n    return this._tr;\n  }\n\n  /**\n   * X\n   * @return X\n   */\n  public getScaleX(): number {\n    return this._tr[0];\n  }\n\n  /**\n   * Y\n   *\n   * @return Y\n   */\n  public getScaleY(): number {\n    return this._tr[5];\n  }\n\n  /**\n   * X\n   * @return X\n   */\n  public getTranslateX(): number {\n    return this._tr[12];\n  }\n\n  /**\n   * Y\n   * @return Y\n   */\n  public getTranslateY(): number {\n    return this._tr[13];\n  }\n\n  /**\n   * X\n   *\n   * @param src X\n   * @return X\n   */\n  public transformX(src: number): number {\n    return this._tr[0] * src + this._tr[12];\n  }\n\n  /**\n   * Y\n   *\n   * @param src Y\n   * @return Y\n   */\n  public transformY(src: number): number {\n    return this._tr[5] * src + this._tr[13];\n  }\n\n  /**\n   * X\n   */\n  public invertTransformX(src: number): number {\n    return (src - this._tr[12]) / this._tr[0];\n  }\n\n  /**\n   * Y\n   */\n  public invertTransformY(src: number): number {\n    return (src - this._tr[13]) / this._tr[5];\n  }\n\n  /**\n   * \n   *\n   * \n   *\n   * @param x X\n   * @param y Y\n   */\n  public translateRelative(x: number, y: number): void {\n    const tr1: Float32Array = new Float32Array([\n      1.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      1.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      1.0,\n      0.0,\n      x,\n      y,\n      0.0,\n      1.0,\n    ]);\n\n    CubismMatrix44.multiply(tr1, this._tr, this._tr);\n  }\n\n  /**\n   * \n   *\n   * \n   *\n   * @param x X\n   * @param y y\n   */\n  public translate(x: number, y: number): void {\n    this._tr[12] = x;\n    this._tr[13] = y;\n  }\n\n  /**\n   * X\n   *\n   * @param x X\n   */\n  public translateX(x: number): void {\n    this._tr[12] = x;\n  }\n\n  /**\n   * Y\n   *\n   * @param y Y\n   */\n  public translateY(y: number): void {\n    this._tr[13] = y;\n  }\n\n  /**\n   * \n   *\n   * @param x X\n   * @param y Y\n   */\n  public scaleRelative(x: number, y: number): void {\n    const tr1: Float32Array = new Float32Array([\n      x,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      y,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      1.0,\n      0.0,\n      0.0,\n      0.0,\n      0.0,\n      1.0,\n    ]);\n\n    CubismMatrix44.multiply(tr1, this._tr, this._tr);\n  }\n\n  /**\n   * \n   *\n   * @param x X\n   * @param y Y\n   */\n  public scale(x: number, y: number): void {\n    this._tr[0] = x;\n    this._tr[5] = y;\n  }\n\n  /**\n   * \n   *\n   * @param m \n   */\n  public multiplyByMatrix(m: CubismMatrix44): void {\n    CubismMatrix44.multiply(m.getArray(), this._tr, this._tr);\n  }\n\n  /**\n   * \n   */\n  public clone(): CubismMatrix44 {\n    const cloneMatrix: CubismMatrix44 = new CubismMatrix44();\n\n    for (let i = 0; i < this._tr.length; i++) {\n      cloneMatrix._tr[i] = this._tr[i];\n    }\n\n    return cloneMatrix;\n  }\n\n  protected _tr: Float32Array; // 4x4\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismMatrix44 } from '../math/cubismmatrix44';\nimport { CubismModel } from '../model/cubismmodel';\n\n/**\n * \n *\n * \n */\nexport abstract class CubismRenderer {\n  /**\n   * \n   * \n   * @param model \n   */\n  public initialize(model: CubismModel): void {\n    this._model = model;\n  }\n\n  /**\n   * \n   */\n  public drawModel(): void {\n    if (this.getModel() == null) return;\n\n    this.doDrawModel();\n  }\n\n  /**\n   * Model-View-Projection \n   * \n   * @param matrix44 Model-View-Projection \n   */\n  public setMvpMatrix(matrix44: CubismMatrix44): void {\n    this._mvpMatrix4x4.setMatrix(matrix44.getArray());\n  }\n\n  /**\n   * Model-View-Projection \n   * @return Model-View-Projection \n   */\n  public getMvpMatrix(): CubismMatrix44 {\n    return this._mvpMatrix4x4;\n  }\n\n  /**\n   * \n   * 0.0~1.01.0\n   * @param red \n   * @param green \n   * @param blue \n   * @param alpha \n   */\n  public setModelColor(\n    red: number,\n    green: number,\n    blue: number,\n    alpha: number,\n  ): void {\n    if (red < 0.0) {\n      red = 0.0;\n    } else if (red > 1.0) {\n      red = 1.0;\n    }\n\n    if (green < 0.0) {\n      green = 0.0;\n    } else if (green > 1.0) {\n      green = 1.0;\n    }\n\n    if (blue < 0.0) {\n      blue = 0.0;\n    } else if (blue > 1.0) {\n      blue = 1.0;\n    }\n\n    if (alpha < 0.0) {\n      alpha = 0.0;\n    } else if (alpha > 1.0) {\n      alpha = 1.0;\n    }\n\n    this._modelColor.R = red;\n    this._modelColor.G = green;\n    this._modelColor.B = blue;\n    this._modelColor.A = alpha;\n  }\n\n  /**\n   * \n   * 0.0~1.0(1.0)\n   *\n   * @return RGBA\n   */\n  public getModelColor(): CubismTextureColor {\n    return Object.assign({}, this._modelColor);\n  }\n\n  /**\n   * \n   * truefalse\n   */\n  public setIsPremultipliedAlpha(enable: boolean): void {\n    this._isPremultipliedAlpha = enable;\n  }\n\n  /**\n   * \n   * @return true \n   * @return false \n   */\n  public isPremultipliedAlpha(): boolean {\n    return this._isPremultipliedAlpha;\n  }\n\n  /**\n   * \n   * truefalse\n   */\n  public setIsCulling(culling: boolean): void {\n    this._isCulling = culling;\n  }\n\n  /**\n   * \n   * @return true \n   * @return false \n   */\n  public isCulling(): boolean {\n    return this._isCulling;\n  }\n\n  /**\n   * \n   * \n   * @param n \n   */\n  public setAnisotropy(n: number): void {\n    this._anisortopy = n;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getAnisotropy(): number {\n    return this._anisortopy;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getModel(): CubismModel {\n    return this._model;\n  }\n\n  /**\n   * \n   */\n  protected constructor() {\n    this._isCulling = false;\n    this._isPremultipliedAlpha = false;\n    this._anisortopy = 0.0;\n    this._modelColor = new CubismTextureColor();\n\n    // \n    this._mvpMatrix4x4 = new CubismMatrix44();\n    this._mvpMatrix4x4.loadIdentity();\n  }\n\n  /**\n   * \n   */\n  public abstract doDrawModel(): void;\n\n  /**\n   * \n   * \n   * @param textureNo \n   * @param indexCount \n   * @param vertexCount \n   * @param indexArray \n   * @param vertexArray \n   * @param uvArray uv\n   * @param opacity \n   * @param colorBlendMode \n   * @param invertedMask \n   */\n  public abstract drawMesh(\n    textureNo: number,\n    indexCount: number,\n    vertexCount: number,\n    indexArray: Uint16Array,\n    vertexArray: Float32Array,\n    uvArray: Float32Array,\n    opacity: number,\n    colorBlendMode: CubismBlendMode,\n    invertedMask: boolean,\n  ): void;\n\n  /**\n   * \n   */\n  public static staticRelease: Function;\n\n  protected _mvpMatrix4x4: CubismMatrix44; // Model-View-Projection \n  protected _modelColor: CubismTextureColor; // RGBA\n  protected _isCulling: boolean; // true\n  protected _isPremultipliedAlpha: boolean; // true\n  protected _anisortopy: any; // \n  protected _model!: CubismModel; // \n}\n\nexport enum CubismBlendMode {\n  CubismBlendMode_Normal = 0, // \n  CubismBlendMode_Additive = 1, // \n  CubismBlendMode_Multiplicative = 2 // \n}\n\n/**\n * RGBA\n */\nexport class CubismTextureColor {\n  /**\n   * \n   */\n  constructor() {\n    this.R = 1.0;\n    this.G = 1.0;\n    this.B = 1.0;\n    this.A = 1.0;\n  }\n\n  R: number; // \n  G: number; // \n  B: number; // \n  A: number; // \n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismRenderer } from './rendering/cubismrenderer';\nimport { CubismLogInfo, CubismLogWarning } from './utils/cubismdebug';\n\n// \n\nlet s_isStarted = false;\nlet s_isInitialized = false;\nlet s_option: CubismStartupOption | undefined = undefined;\n\n/**\n * Framework\n */\nexport namespace Constant {\n  export const vertexOffset = 0; // \n  export const vertexStep = 2; // \n}\n\n/**\n * Live2D Cubism SDK Original Workflow SDK\n * CubismFramework.initialize()CubismFramework.dispose()\n */\nexport class CubismFramework {\n  /**\n   * Cubism FrameworkAPI\n   *  API\n   *  \n   *\n   * @param    option      Option\n   *\n   * @return   true\n   */\n  public static startUp(option?: CubismStartupOption): boolean {\n    if (s_isStarted) {\n      CubismLogInfo('CubismFramework.startUp() is already done.');\n      return s_isStarted;\n    }\n\n    if ((Live2DCubismCore as any)._isStarted) {\n      s_isStarted = true;\n      return true;\n    }\n\n    (Live2DCubismCore as any)._isStarted = true;\n\n    s_option = option;\n\n    if (s_option) {\n      Live2DCubismCore.Logging.csmSetLogFunction(s_option.logFunction);\n    }\n\n    s_isStarted = true;\n\n    // Live2D Cubism Core\n    if (s_isStarted) {\n      const version: number = Live2DCubismCore.Version.csmGetVersion();\n      const major: number = (version & 0xff000000) >> 24;\n      const minor: number = (version & 0x00ff0000) >> 16;\n      const patch: number = version & 0x0000ffff;\n      const versionNumber: number = version;\n\n      CubismLogInfo(\n        `Live2D Cubism Core version: {0}.{1}.{2} ({3})`,\n        ('00' + major).slice(-2),\n        ('00' + minor).slice(-2),\n        ('0000' + patch).slice(-4),\n        versionNumber,\n      );\n    }\n\n    CubismLogInfo('CubismFramework.startUp() is complete.');\n\n    return s_isStarted;\n  }\n\n  /**\n   * StartUp()CubismFramework\n   * Dispose()CubismFramework\n   */\n  public static cleanUp(): void {\n    s_isStarted = false;\n    s_isInitialized = false;\n    s_option = undefined;\n  }\n\n  /**\n   * Cubism Framework<br>\n   *     Initialize()Dispose()\n   */\n  public static initialize(): void {\n    if (!s_isStarted) {\n      CubismLogWarning('CubismFramework is not started.');\n      return;\n    }\n\n    // --- s_isInitialized ---\n    // \n    // Initialize()Dispose()\n    if (s_isInitialized) {\n      CubismLogWarning(\n        'CubismFramework.initialize() skipped, already initialized.',\n      );\n      return;\n    }\n\n    s_isInitialized = true;\n\n    CubismLogInfo('CubismFramework.initialize() is complete.');\n  }\n\n  /**\n   * Cubism Framework\n   *      \n   *      \n   */\n  public static dispose(): void {\n    if (!s_isStarted) {\n      CubismLogWarning('CubismFramework is not started.');\n      return;\n    }\n\n    // --- s_isInitialized ---\n    // dispose()initialize()\n    if (!s_isInitialized) {\n      // false...\n      CubismLogWarning('CubismFramework.dispose() skipped, not initialized.');\n      return;\n    }\n\n    // \n    CubismRenderer.staticRelease();\n\n    s_isInitialized = false;\n\n    CubismLogInfo('CubismFramework.dispose() is complete.');\n  }\n\n  /**\n   * Cubism FrameworkAPI\n   * @return APItrue\n   */\n  public static isStarted(): boolean {\n    return s_isStarted;\n  }\n\n  /**\n   * Cubism Framework\n   * @return true\n   */\n  public static isInitialized(): boolean {\n    return s_isInitialized;\n  }\n\n  /**\n   * Core API\n   *\n   * @praram message \n   */\n  public static coreLogFunction(message: string): void {\n    // Return if logging not possible.\n    if (!Live2DCubismCore.Logging.csmGetLogFunction()) {\n      return;\n    }\n\n    Live2DCubismCore.Logging.csmGetLogFunction()(message);\n  }\n\n  /**\n   * \n   *\n   * @return  \n   */\n  public static getLoggingLevel(): LogLevel {\n    if (s_option != null) {\n      return s_option.loggingLevel;\n    }\n    return LogLevel.LogLevel_Off;\n  }\n\n  /**\n   * \n   * \n   */\n  private constructor() {}\n}\n\nexport interface CubismStartupOption {\n  logFunction: Live2DCubismCore.csmLogFunction; // \n  loggingLevel: LogLevel; // \n}\n\n/**\n * \n */\nexport enum LogLevel {\n  LogLevel_Verbose = 0, // \n  LogLevel_Debug, // \n  LogLevel_Info, // Info\n  LogLevel_Warning, // \n  LogLevel_Error, // \n  LogLevel_Off // \n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismFramework, LogLevel } from '../live2dcubismframework';\n\nexport const CSM_ASSERT = process.env.NODE_ENV === 'production' ? () => {} : (expr: any) => console.assert(expr);\n\nexport function CubismLogVerbose(fmt: string, ...args: any[]) {\n  CubismDebug.print(LogLevel.LogLevel_Verbose, '[CSM][V]' + fmt + '\\n', args);\n}\n\nexport function CubismLogDebug(fmt: string, ...args: any[]) {\n  CubismDebug.print(LogLevel.LogLevel_Debug, '[CSM][D]' + fmt + '\\n', args);\n}\n\nexport function CubismLogInfo(fmt: string, ...args: any[]) {\n  CubismDebug.print(LogLevel.LogLevel_Info, '[CSM][I]' + fmt + '\\n', args);\n}\n\nexport function CubismLogWarning(fmt: string, ...args: any[]) {\n  CubismDebug.print(LogLevel.LogLevel_Warning, '[CSM][W]' + fmt + '\\n', args);\n}\n\nexport function CubismLogError(fmt: string, ...args: any[]) {\n  CubismDebug.print(LogLevel.LogLevel_Error, '[CSM][E]' + fmt + '\\n', args);\n}\n\n/**\n * \n * \n */\nexport class CubismDebug {\n  /**\n   * \n   * CubismFramework.initialize()\n   *\n   * @param logLevel \n   * @param format \n   * @param args \n   */\n  public static print(\n    logLevel: LogLevel,\n    format: string,\n    args?: any[],\n  ): void {\n    // \n    if (logLevel < CubismFramework.getLoggingLevel()) {\n      return;\n    }\n\n    const logPrint: Live2DCubismCore.csmLogFunction = CubismFramework.coreLogFunction;\n\n    if (!logPrint) return;\n\n    const buffer: string = format.replace(/{(\\d+)}/g, (m, k) => {\n      return args![k];\n    });\n    logPrint(buffer);\n  }\n\n  /**\n   * \n   * CubismFramework.initialize()\n   *\n   * @param logLevel \n   * @param data \n   * @param length \n   */\n  public static dumpBytes(\n    logLevel: LogLevel,\n    data: Uint8Array,\n    length: number,\n  ): void {\n    for (let i = 0; i < length; i++) {\n      if (i % 16 == 0 && i > 0) this.print(logLevel, '\\n');\n      else if (i % 8 == 0 && i > 0) this.print(logLevel, '  ');\n      this.print(logLevel, '{0} ', [data[i] & 0xff]);\n    }\n\n    this.print(logLevel, '\\n');\n  }\n\n  /**\n   * private \n   */\n  private constructor() {}\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismMath } from '../math/cubismmath';\nimport { CubismModel } from '../model/cubismmodel';\nimport { CSM_ASSERT } from '../utils/cubismdebug';\nimport { CubismMotionQueueEntry } from './cubismmotionqueueentry';\n\n/**\n * \n *\n * MotionQueueManager\n */\nexport abstract class ACubismMotion {\n  /**\n   * \n   */\n  public constructor() {\n    this._fadeInSeconds = -1.0;\n    this._fadeOutSeconds = -1.0;\n    this._weight = 1.0;\n    this._offsetSeconds = 0.0; // \n    this._firedEventValues = [];\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    this._weight = 0.0;\n  }\n\n  /**\n   * \n   * @param model \n   * @param motionQueueEntry CubismMotionQueueManager\n   * @param userTimeSeconds []\n   */\n  public updateParameters(\n    model: CubismModel,\n    motionQueueEntry: CubismMotionQueueEntry,\n    userTimeSeconds: number,\n  ): void {\n    if (!motionQueueEntry.isAvailable() || motionQueueEntry.isFinished()) {\n      return;\n    }\n\n    if (!motionQueueEntry.isStarted()) {\n      motionQueueEntry.setIsStarted(true);\n      motionQueueEntry.setStartTime(userTimeSeconds - this._offsetSeconds); // \n      motionQueueEntry.setFadeInStartTime(userTimeSeconds); // \n\n      const duration: number = this.getDuration();\n\n      if (motionQueueEntry.getEndTime() < 0) {\n        // \n        motionQueueEntry.setEndTime(\n          duration <= 0 ? -1 : motionQueueEntry.getStartTime() + duration,\n        );\n        // duration == -1 \n      }\n    }\n\n    let fadeWeight: number = this._weight; // \n\n    //----  ----\n    // \n    const fadeIn: number =\n      this._fadeInSeconds == 0.0\n        ? 1.0\n        : CubismMath.getEasingSine(\n        (userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n        this._fadeInSeconds,\n        );\n\n    const fadeOut: number =\n      this._fadeOutSeconds == 0.0 || motionQueueEntry.getEndTime() < 0.0\n        ? 1.0\n        : CubismMath.getEasingSine(\n        (motionQueueEntry.getEndTime() - userTimeSeconds) /\n        this._fadeOutSeconds,\n        );\n\n    fadeWeight = fadeWeight * fadeIn * fadeOut;\n\n    motionQueueEntry.setState(userTimeSeconds, fadeWeight);\n\n    CSM_ASSERT(0.0 <= fadeWeight && fadeWeight <= 1.0);\n\n    //---- ID ----\n    this.doUpdateParameters(\n      model,\n      userTimeSeconds,\n      fadeWeight,\n      motionQueueEntry,\n    );\n\n    // \n    // (CubismMotionQueueManager)\n    if (\n      motionQueueEntry.getEndTime() > 0 &&\n      motionQueueEntry.getEndTime() < userTimeSeconds\n    ) {\n      motionQueueEntry.setIsFinished(true); // \n    }\n  }\n\n  /**\n   * \n   * @param fadeInSeconds []\n   */\n  public setFadeInTime(fadeInSeconds: number): void {\n    this._fadeInSeconds = fadeInSeconds;\n  }\n\n  /**\n   * \n   * @param fadeOutSeconds []\n   */\n  public setFadeOutTime(fadeOutSeconds: number): void {\n    this._fadeOutSeconds = fadeOutSeconds;\n  }\n\n  /**\n   * \n   * @return []\n   */\n  public getFadeOutTime(): number {\n    return this._fadeOutSeconds;\n  }\n\n  /**\n   * \n   * @return []\n   */\n  public getFadeInTime(): number {\n    return this._fadeInSeconds;\n  }\n\n  /**\n   * \n   * @param weight 0.0 - 1.0\n   */\n  public setWeight(weight: number): void {\n    this._weight = weight;\n  }\n\n  /**\n   * \n   * @return 0.0 - 1.0\n   */\n  public getWeight(): number {\n    return this._weight;\n  }\n\n  /**\n   * \n   * @return []\n   *\n   * @note -1\n   *       \n   *       \n   *       -1\n   */\n  public getDuration(): number {\n    return -1.0;\n  }\n\n  /**\n   * 1\n   * @return []\n   *\n   * @note getDuration()\n   *       ()-1\n   */\n  public getLoopDuration(): number {\n    return -1.0;\n  }\n\n  /**\n   * \n   * @param offsetSeconds []\n   */\n  public setOffsetTime(offsetSeconds: number): void {\n    this._offsetSeconds = offsetSeconds;\n  }\n\n  /**\n   * \n   *\n   * \n   * \n   *\n   * @param beforeCheckTimeSeconds []\n   * @param motionTimeSeconds []\n   */\n  public getFiredEvent(\n    beforeCheckTimeSeconds: number,\n    motionTimeSeconds: number,\n  ): string[] {\n    return this._firedEventValues;\n  }\n\n  /**\n   * \n   * @param model \n   * @param userTimeSeconds []\n   * @param weight \n   * @param motionQueueEntry CubismMotionQueueManager\n   * @return true \n   * @return false \n   */\n  public abstract doUpdateParameters(\n    model: CubismModel,\n    userTimeSeconds: number,\n    weight: number,\n    motionQueueEntry: CubismMotionQueueEntry,\n  ): void;\n\n  /**\n   * \n   *\n   * \n   * isFinished\n   * :\n   *   1. \n   *   2. \n   *\n   * @param onFinishedMotionHandler \n   */\n  public setFinishedMotionHandler(\n    onFinishedMotionHandler?: (self: ACubismMotion) => void,\n  ) {\n    this._onFinishedMotion = onFinishedMotionHandler;\n  };\n\n  /**\n   * \n   *\n   * \n   *\n   * @return \n   */\n  public getFinishedMotionHandler() {\n    return this._onFinishedMotion;\n  };\n\n  public _fadeInSeconds: number; // []\n  public _fadeOutSeconds: number; // []\n  public _weight: number; // \n  public _offsetSeconds: number; // []\n\n  public _firedEventValues: string[];\n\n  // \n  public _onFinishedMotion?: (self: ACubismMotion) => void;\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismModel } from '../model/cubismmodel';\nimport { ACubismMotion } from './acubismmotion';\nimport { CubismMotionQueueEntry } from './cubismmotionqueueentry';\n\n// exp3.json\nconst DefaultFadeTime = 1.0;\n\n/**\n * \n *\n * \n */\nexport class CubismExpressionMotion extends ACubismMotion {\n  /**\n   * \n   * @param json exp\n   * @param size \n   * @return \n   */\n  public static create(json: CubismSpec.ExpressionJSON): CubismExpressionMotion {\n    const expression: CubismExpressionMotion = new CubismExpressionMotion();\n\n    const fadeInTime = json.FadeInTime;\n    const fadeOutTime = json.FadeOutTime;\n\n    expression.setFadeInTime(fadeInTime !== undefined ? fadeInTime : DefaultFadeTime); // \n    expression.setFadeOutTime(fadeOutTime !== undefined ? fadeOutTime : DefaultFadeTime); // \n\n    // \n    const parameters = json.Parameters || [];\n\n    for (let i = 0; i < parameters.length; ++i) {\n      const param = parameters[i];\n      const parameterId: string = param.Id; // ID\n\n      const value: number = param.Value; // \n\n      // \n      let blendType: ExpressionBlendType;\n\n      switch (param.Blend) {\n        case 'Multiply':\n          blendType = ExpressionBlendType.ExpressionBlendType_Multiply;\n          break;\n\n        case 'Overwrite':\n          blendType = ExpressionBlendType.ExpressionBlendType_Overwrite;\n          break;\n\n        case 'Add':\n        //  \n        default:\n          blendType = ExpressionBlendType.ExpressionBlendType_Add;\n          break;\n      }\n\n      // \n      const item: ExpressionParameter = {\n        parameterId: parameterId,\n        blendType: blendType,\n        value: value,\n      };\n\n      expression._parameters.push(item);\n    }\n\n    return expression;\n  }\n\n  /**\n   * \n   * @param model \n   * @param userTimeSeconds []\n   * @param weight \n   * @param motionQueueEntry CubismMotionQueueManager\n   */\n  public doUpdateParameters(\n    model: CubismModel,\n    userTimeSeconds: number,\n    weight: number,\n    motionQueueEntry: CubismMotionQueueEntry,\n  ): void {\n    for (let i = 0; i < this._parameters.length; ++i) {\n      const parameter: ExpressionParameter = this._parameters[i];\n\n      switch (parameter.blendType) {\n        case ExpressionBlendType.ExpressionBlendType_Add: {\n          model.addParameterValueById(\n            parameter.parameterId,\n            parameter.value,\n            weight,\n          );\n          break;\n        }\n        case ExpressionBlendType.ExpressionBlendType_Multiply: {\n          model.multiplyParameterValueById(\n            parameter.parameterId,\n            parameter.value,\n            weight,\n          );\n          break;\n        }\n        case ExpressionBlendType.ExpressionBlendType_Overwrite: {\n          model.setParameterValueById(\n            parameter.parameterId,\n            parameter.value,\n            weight,\n          );\n          break;\n        }\n        default:\n          // \n          break;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  constructor() {\n    super();\n\n    this._parameters = [];\n  }\n\n  _parameters: ExpressionParameter[]; // \n}\n\n/**\n * \n */\nexport enum ExpressionBlendType {\n  ExpressionBlendType_Add = 0, // \n  ExpressionBlendType_Multiply = 1, // \n  ExpressionBlendType_Overwrite = 2 // \n}\n\n/**\n * \n */\nexport interface ExpressionParameter {\n  parameterId: string; // ID\n  blendType: ExpressionBlendType; // \n  value: number; // \n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { ACubismMotion } from './acubismmotion';\nimport { CubismMotionQueueEntryHandle } from './cubismmotionqueuemanager';\n\n/**\n * CubismMotionQueueManager\n */\nexport class CubismMotionQueueEntry {\n  /**\n   * \n   */\n  public constructor() {\n    this._autoDelete = false;\n    this._available = true;\n    this._finished = false;\n    this._started = false;\n    this._startTimeSeconds = -1.0;\n    this._fadeInStartTimeSeconds = 0.0;\n    this._endTimeSeconds = -1.0;\n    this._stateTimeSeconds = 0.0;\n    this._stateWeight = 0.0;\n    this._lastEventCheckSeconds = 0.0;\n    this._motionQueueEntryHandle = this;\n    this._fadeOutSeconds = 0.0;\n    this._isTriggeredFadeOut = false;\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    if (this._autoDelete && this._motion) {\n      this._motion.release();\n    }\n  }\n\n  /**\n   * \n   * @param fadeOutSeconds []\n   */\n  public setFadeOut(fadeOutSeconds: number): void {\n    this._fadeOutSeconds = fadeOutSeconds;\n    this._isTriggeredFadeOut = true;\n  }\n\n  /**\n   * \n   * @param fadeOutSeconds []\n   * @param userTimeSeconds []\n   */\n  public startFadeOut(fadeOutSeconds: number, userTimeSeconds: number): void {\n    const newEndTimeSeconds: number = userTimeSeconds + fadeOutSeconds;\n    this._isTriggeredFadeOut = true;\n\n    if (\n      this._endTimeSeconds < 0.0 ||\n      newEndTimeSeconds < this._endTimeSeconds\n    ) {\n      this._endTimeSeconds = newEndTimeSeconds;\n    }\n  }\n\n  /**\n   * \n   *\n   * @return true \n   * @return false \n   */\n  public isFinished(): boolean {\n    return this._finished;\n  }\n\n  /**\n   * \n   * @return true \n   * @return false \n   */\n  public isStarted(): boolean {\n    return this._started;\n  }\n\n  /**\n   * \n   * @return []\n   */\n  public getStartTime(): number {\n    return this._startTimeSeconds;\n  }\n\n  /**\n   * \n   * @return []\n   */\n  public getFadeInStartTime(): number {\n    return this._fadeInStartTimeSeconds;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getEndTime(): number {\n    return this._endTimeSeconds;\n  }\n\n  /**\n   * \n   * @param startTime \n   */\n  public setStartTime(startTime: number): void {\n    this._startTimeSeconds = startTime;\n  }\n\n  /**\n   * \n   * @param startTime []\n   */\n  public setFadeInStartTime(startTime: number): void {\n    this._fadeInStartTimeSeconds = startTime;\n  }\n\n  /**\n   * \n   * @param endTime []\n   */\n  public setEndTime(endTime: number): void {\n    this._endTimeSeconds = endTime;\n  }\n\n  /**\n   * \n   * @param f true\n   */\n  public setIsFinished(f: boolean): void {\n    this._finished = f;\n  }\n\n  /**\n   * \n   * @param f true\n   */\n  public setIsStarted(f: boolean): void {\n    this._started = f;\n  }\n\n  /**\n   * \n   * @return true \n   * @return false \n   */\n  public isAvailable(): boolean {\n    return this._available;\n  }\n\n  /**\n   * \n   * @param v true\n   */\n  public setIsAvailable(v: boolean): void {\n    this._available = v;\n  }\n\n  /**\n   * \n   * @param timeSeconds []\n   * @param weight \n   */\n  public setState(timeSeconds: number, weight: number): void {\n    this._stateTimeSeconds = timeSeconds;\n    this._stateWeight = weight;\n  }\n\n  /**\n   * \n   * @return []\n   */\n  public getStateTime(): number {\n    return this._stateTimeSeconds;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getStateWeight(): number {\n    return this._stateWeight;\n  }\n\n  /**\n   * \n   *\n   * @return []\n   */\n  public getLastCheckEventSeconds(): number {\n    return this._lastEventCheckSeconds;\n  }\n\n  /**\n   * \n   * @param checkSeconds []\n   */\n  public setLastCheckEventSeconds(checkSeconds: number): void {\n    this._lastEventCheckSeconds = checkSeconds;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public isTriggeredFadeOut(): boolean {\n    return this._isTriggeredFadeOut && this._endTimeSeconds < 0.0;\n  }\n\n  /**\n   * \n   * @return []\n   */\n  public getFadeOutSeconds(): number {\n    return this._fadeOutSeconds;\n  }\n\n  _autoDelete: boolean; // \n  _motion!: ACubismMotion; // \n\n  _available: boolean; // \n  _finished: boolean; // \n  _started: boolean; // \n  _startTimeSeconds: number; // []\n  _fadeInStartTimeSeconds: number; // []\n  _endTimeSeconds: number; // []\n  _stateTimeSeconds: number; // []\n  _stateWeight: number; // \n  _lastEventCheckSeconds: number; // Motion\n  private _fadeOutSeconds: number; // []\n  private _isTriggeredFadeOut: boolean; // \n\n  _motionQueueEntryHandle: CubismMotionQueueEntryHandle; // \n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismModel } from '../model/cubismmodel';\nimport { ACubismMotion } from './acubismmotion';\nimport { CubismMotionQueueEntry } from './cubismmotionqueueentry';\n\n/**\n * \n *\n * CubismMotionACubismMotion\n *\n * @note  StartMotion()\n *       \n *       CubismMotionQueueManager\n */\nexport class CubismMotionQueueManager {\n  /**\n   * \n   */\n  public constructor() {\n    this._userTimeSeconds = 0.0;\n    this._eventCustomData = null;\n    this._motions = [];\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    for (let i = 0; i < this._motions.length; ++i) {\n      if (this._motions[i]) {\n        this._motions[i].release();\n      }\n    }\n\n    (this as Partial<this>)._motions = undefined;\n  }\n\n  /**\n   * \n   *\n   * \n   *\n   * @param   motion          \n   * @param   autoDelete       true\n   * @param   userTimeSeconds []\n   * @return                      IsFinished()-1\n   */\n  public startMotion(\n    motion: ACubismMotion,\n    autoDelete: boolean,\n    userTimeSeconds: number,\n  ): CubismMotionQueueEntryHandle {\n    if (motion == null) {\n      return InvalidMotionQueueEntryHandleValue;\n    }\n\n    let motionQueueEntry: CubismMotionQueueEntry;\n\n    // \n    for (let i = 0; i < this._motions.length; ++i) {\n      motionQueueEntry = this._motions[i];\n      if (motionQueueEntry == null) {\n        continue;\n      }\n\n      motionQueueEntry.setFadeOut(motionQueueEntry._motion.getFadeOutTime()); // \n    }\n\n    motionQueueEntry = new CubismMotionQueueEntry(); // \n    motionQueueEntry._autoDelete = autoDelete;\n    motionQueueEntry._motion = motion;\n\n    this._motions.push(motionQueueEntry);\n\n    return motionQueueEntry._motionQueueEntryHandle;\n  }\n\n  /**\n   * \n   * @return true \n   * @return false \n   */\n  public isFinished(): boolean {\n    // -------  -------\n    // \n\n    let i = 0;\n\n    while (i < this._motions.length) {\n      const motionQueueEntry: CubismMotionQueueEntry = this._motions[i];\n\n      if (motionQueueEntry == null) {\n        this._motions.splice(i, 1); // \n        continue;\n      }\n\n      const motion: ACubismMotion = motionQueueEntry._motion;\n\n      if (motion == null) {\n        motionQueueEntry.release();\n        this._motions.splice(i, 1); // \n        continue;\n      }\n\n      // -----  ------\n      if (!motionQueueEntry.isFinished()) {\n        return false;\n      }\n\n      i++;\n    }\n\n    return true;\n  }\n\n  /**\n   * \n   * @param motionQueueEntryNumber \n   * @return true \n   * @return false \n   */\n  public isFinishedByHandle(\n    motionQueueEntryNumber: CubismMotionQueueEntryHandle,\n  ): boolean {\n    // \n    for (let i = 0; i < this._motions.length; i++) {\n      const motionQueueEntry: CubismMotionQueueEntry = this._motions[i];\n\n      if (motionQueueEntry == null) {\n        continue;\n      }\n\n      if (\n        motionQueueEntry._motionQueueEntryHandle == motionQueueEntryNumber &&\n        !motionQueueEntry.isFinished()\n      ) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * \n   */\n  public stopAllMotions(): void {\n    // -------  -------\n    // \n\n    for (let i = 0; i < this._motions.length; i++) {\n      const motionQueueEntry: CubismMotionQueueEntry = this._motions[i];\n\n      if (motionQueueEntry != null) {\n        // -----  ------\n        motionQueueEntry.release();\n      }\n    }\n\n    this._motions = [];\n  }\n\n  /**\n   * CubismMotionQueueEntry\n\n   * @param   motionQueueEntryNumber  \n   * @return  CubismMotionQueueEntry\n   * @return  null   \n   */\n  public getCubismMotionQueueEntry(\n    motionQueueEntryNumber: any,\n  ): CubismMotionQueueEntry | undefined {\n    //-------  -------\n    // \n    return this._motions.find(entry => entry != null && entry._motionQueueEntryHandle == motionQueueEntryNumber);\n  }\n\n  /**\n   * Callback\n   *\n   * @param callback \n   * @param customData \n   */\n  public setEventCallback(\n    callback: CubismMotionEventFunction,\n    customData: any = null,\n  ): void {\n    this._eventCallBack = callback;\n    this._eventCustomData = customData;\n  }\n\n  /**\n   * \n   *\n   * @param   model   \n   * @param   userTimeSeconds   []\n   * @return  true    \n   * @return  false   ()\n   */\n  public doUpdateMotion(\n    model: CubismModel,\n    userTimeSeconds: number,\n  ): boolean {\n    let updated = false;\n\n    // -------  --------\n    // \n\n    let i = 0;\n\n    while (i < this._motions.length) {\n      const motionQueueEntry: CubismMotionQueueEntry = this._motions[i];\n\n      if (motionQueueEntry == null) {\n        this._motions.splice(i, 1); // \n        continue;\n      }\n\n      const motion: ACubismMotion = motionQueueEntry._motion;\n\n      if (motion == null) {\n        motionQueueEntry.release();\n        this._motions.splice(i, 1); // \n        continue;\n      }\n\n      // ------  ------\n      motion.updateParameters(model, motionQueueEntry, userTimeSeconds);\n      updated = true;\n\n      // ------  ----\n      const firedList: string[] = motion.getFiredEvent(\n        motionQueueEntry.getLastCheckEventSeconds() -\n        motionQueueEntry.getStartTime(),\n        userTimeSeconds - motionQueueEntry.getStartTime(),\n      );\n\n      for (let i = 0; i < firedList.length; ++i) {\n        this._eventCallBack(this, firedList[i], this._eventCustomData);\n      }\n\n      motionQueueEntry.setLastCheckEventSeconds(userTimeSeconds);\n\n      // ------  ------\n      if (motionQueueEntry.isFinished()) {\n        motionQueueEntry.release();\n        this._motions.splice(i, 1); // \n      } else {\n        if (motionQueueEntry.isTriggeredFadeOut()) {\n          motionQueueEntry.startFadeOut(\n            motionQueueEntry.getFadeOutSeconds(),\n            userTimeSeconds\n          );\n        }\n        i++;\n      }\n    }\n\n    return updated;\n  }\n\n  _userTimeSeconds: number; // []\n\n  _motions: CubismMotionQueueEntry[]; // \n  _eventCallBack!: CubismMotionEventFunction; // \n  _eventCustomData: any; // \n}\n\n/**\n * \n *\n * \n * @param caller        CubismMotionQueueManager\n * @param eventValue    \n * @param customData   \n */\nexport interface CubismMotionEventFunction {\n  (\n    caller: CubismMotionQueueManager,\n    eventValue: string,\n    customData: any,\n  ): void;\n}\n\n/**\n * \n *\n * \n */\nexport declare type CubismMotionQueueEntryHandle = any;\nexport const InvalidMotionQueueEntryHandleValue: CubismMotionQueueEntryHandle = -1;\n","import { MotionManagerOptions } from '@/cubism-common';\nimport { ExpressionManager } from '@/cubism-common/ExpressionManager';\nimport { Cubism4ModelSettings } from '@/cubism4/Cubism4ModelSettings';\nimport { CubismModel } from '@cubism/model/cubismmodel';\nimport { CubismExpressionMotion } from '@cubism/motion/cubismexpressionmotion';\nimport { CubismMotionQueueManager } from '@cubism/motion/cubismmotionqueuemanager';\n\nexport class Cubism4ExpressionManager extends ExpressionManager<CubismExpressionMotion, CubismSpec.Expression> {\n    readonly queueManager = new CubismMotionQueueManager();\n\n    readonly definitions: CubismSpec.Expression[];\n\n    constructor(settings: Cubism4ModelSettings, options?: MotionManagerOptions) {\n        super(settings, options);\n\n        this.definitions = settings.expressions ?? [];\n\n        this.init();\n    }\n\n    isFinished(): boolean {\n        return this.queueManager.isFinished();\n    }\n\n    getExpressionIndex(name: string): number {\n        return this.definitions.findIndex(def => def.Name === name);\n    }\n\n    getExpressionFile(definition: CubismSpec.Expression): string {\n        return definition.File;\n    }\n\n    createExpression(data: object, definition: CubismSpec.Expression | undefined) {\n        return CubismExpressionMotion.create(data as unknown as CubismSpec.ExpressionJSON);\n    }\n\n    protected _setExpression(motion: CubismExpressionMotion): number {\n        return this.queueManager.startMotion(motion, false, performance.now());\n    }\n\n    protected stopAllExpressions(): void {\n        this.queueManager.stopAllMotions();\n    }\n\n    protected updateParameters(model: CubismModel, now: DOMHighResTimeStamp): boolean {\n        return this.queueManager.doUpdateMotion(model, now);\n    }\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\n/**\n * Model3Json\n *\n * model3.json\n */\nexport class CubismModelSettingsJson {\n  public constructor(json: CubismSpec.ModelJSON) {\n    this.groups = json.Groups;\n    this.hitAreas = json.HitAreas;\n    this.layout = json.Layout;\n\n    this.moc = json.FileReferences.Moc;\n    this.expressions = json.FileReferences.Expressions;\n    this.motions = json.FileReferences.Motions;\n    this.textures = json.FileReferences.Textures;\n    this.physics = json.FileReferences.Physics;\n    this.pose = json.FileReferences.Pose;\n  }\n\n  public getEyeBlinkParameters(): string[] | undefined {\n    return this.groups?.find(group => group.Name === 'EyeBlink')?.Ids;\n  }\n\n  public getLipSyncParameters(): string[] | undefined {\n    return this.groups?.find(group => group.Name === 'LipSync')?.Ids;\n  }\n\n  groups?: CubismSpec.Group[];\n  moc: string;\n  expressions?: CubismSpec.Expression[];\n  motions?: Record<string, CubismSpec.Motion[]>;\n  textures: string[];\n  physics?: string;\n  pose?: string;\n  hitAreas?: CubismSpec.HitArea[];\n  layout?: CubismSpec.ModelJSON['Layout'];\n}\n","import { ModelSettings } from '@/cubism-common/ModelSettings';\nimport { applyMixins } from '@/utils';\nimport { CubismModelSettingsJson } from '@cubism/settings/cubismmodelsettingsjson';\n\nexport interface Cubism4ModelSettings extends CubismModelSettingsJson {}\n\nexport class Cubism4ModelSettings extends ModelSettings {\n    json!: CubismSpec.ModelJSON;\n\n    moc!: string;\n    textures!: string[];\n\n    static isValidJSON(json: any): json is CubismSpec.ModelJSON {\n        return !!json?.FileReferences\n            && typeof json.FileReferences.Moc === 'string'\n            && json.FileReferences.Textures?.length > 0\n\n            // textures must be an array of strings\n            && json.FileReferences.Textures.every((item: any) => typeof item === 'string');\n    }\n\n    constructor(json: CubismSpec.ModelJSON & { url: string }) {\n        super(json);\n\n        if (!Cubism4ModelSettings.isValidJSON(json)) {\n            throw new TypeError('Invalid JSON.');\n        }\n\n        // this doesn't seem to be allowed in ES6 and above, calling it will cause an error:\n        // \"Class constructor CubismModelSettingsJson cannot be invoked without 'new'\"\n        //\n        // CubismModelSettingsJson.call(this, json);\n\n        Object.assign(this, new CubismModelSettingsJson(json));\n    }\n\n    replaceFiles(replace: (file: string, path: string) => string) {\n        super.replaceFiles(replace);\n\n        if (this.motions) {\n            for (const [group, motions] of Object.entries(this.motions)) {\n                for (let i = 0; i < motions.length; i++) {\n                    motions[i]!.File = replace(motions[i]!.File, `motions.${group}[${i}].File`);\n\n                    if (motions[i]!.Sound !== undefined) {\n                        motions[i]!.Sound = replace(motions[i]!.Sound!, `motions.${group}[${i}].Sound`);\n                    }\n                }\n            }\n        }\n\n        if (this.expressions) {\n            for (let i = 0; i < this.expressions.length; i++) {\n                this.expressions[i]!.File = replace(this.expressions[i]!.File, `expressions[${i}].File`);\n            }\n        }\n    }\n}\n\napplyMixins(Cubism4ModelSettings, [CubismModelSettingsJson]);\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\n/**\n * @brief \n *\n * \n */\nexport enum CubismMotionCurveTarget {\n  CubismMotionCurveTarget_Model, // \n  CubismMotionCurveTarget_Parameter, // \n  CubismMotionCurveTarget_PartOpacity // \n}\n\n/**\n * @brief \n *\n * \n */\nexport enum CubismMotionSegmentType {\n  CubismMotionSegmentType_Linear = 0, // \n  CubismMotionSegmentType_Bezier = 1, // \n  CubismMotionSegmentType_Stepped = 2, // \n  CubismMotionSegmentType_InverseStepped = 3 // \n}\n\n/**\n * @brief \n *\n * \n */\nexport class CubismMotionPoint {\n  constructor(time = 0.0, value = 0.0) {\n    this.time = time;\n    this.value = value;\n  }\n\n  time: number; // []\n  value: number; // \n}\n\n/**\n * \n *\n * @param   points      \n * @param   time        []\n */\nexport interface csmMotionSegmentEvaluationFunction {\n  (points: CubismMotionPoint[], time: number): number;\n}\n\n/**\n * @brief \n *\n * \n */\nexport class CubismMotionSegment {\n  /**\n   * @brief \n   *\n   * \n   */\n  public constructor() {\n    this.basePointIndex = 0;\n    this.segmentType = 0;\n  }\n\n  evaluate!: csmMotionSegmentEvaluationFunction; // \n  basePointIndex: number; // \n  segmentType: number; // \n}\n\n/**\n * @brief \n *\n * \n */\nexport class CubismMotionCurve {\n  public constructor() {\n    this.type = CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\n    this.segmentCount = 0;\n    this.baseSegmentIndex = 0;\n    this.fadeInTime = 0.0;\n    this.fadeOutTime = 0.0;\n  }\n\n  type: CubismMotionCurveTarget; // \n  id: string = ''; // ID\n  segmentCount: number; // \n  baseSegmentIndex: number; // \n  fadeInTime: number; // []\n  fadeOutTime: number; // []\n}\n\n/**\n * \n */\nexport class CubismMotionEvent {\n  fireTime = 0.0;\n  value: string = '';\n}\n\n/**\n * @brief \n *\n * \n */\nexport class CubismMotionData {\n  public constructor() {\n    this.duration = 0.0;\n    this.loop = false;\n    this.curveCount = 0;\n    this.eventCount = 0;\n    this.fps = 0.0;\n\n    this.curves = [];\n    this.segments = [];\n    this.points = [];\n    this.events = [];\n  }\n\n  duration: number; // []\n  loop: boolean; // \n  curveCount: number; // \n  eventCount: number; // UserData\n  fps: number; // \n  curves: CubismMotionCurve[]; // \n  segments: CubismMotionSegment[]; // \n  points: CubismMotionPoint[]; // \n  events: CubismMotionEvent[]; // \n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\n/**\n * motion3.json\n */\nexport class CubismMotionJson {\n  /**\n   * \n   * @param json motion3.json\n   */\n  public constructor(json: CubismSpec.MotionJSON) {\n    this._json = json;\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    (this as any)._json = undefined;\n  }\n\n  /**\n   * \n   * @return []\n   */\n  public getMotionDuration(): number {\n    return this._json.Meta.Duration;\n  }\n\n  /**\n   * \n   * @return true \n   * @return false \n   */\n  public isMotionLoop(): boolean {\n    return this._json.Meta.Loop || false;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getMotionCurveCount(): number {\n    return this._json.Meta.CurveCount;\n  }\n\n  /**\n   * \n   * @return [FPS]\n   */\n  public getMotionFps(): number {\n    return this._json.Meta.Fps;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getMotionTotalSegmentCount(): number {\n    return this._json.Meta.TotalSegmentCount;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getMotionTotalPointCount(): number {\n    return this._json.Meta.TotalPointCount;\n  }\n\n  /**\n   * \n   * @return []\n   */\n  public getMotionFadeInTime(): number | undefined {\n    return this._json.Meta.FadeInTime;\n  }\n\n  /**\n   * \n   * @return []\n   */\n  public getMotionFadeOutTime(): number | undefined {\n    return this._json.Meta.FadeOutTime;\n  }\n\n  /**\n   * \n   * @param curveIndex \n   * @return \n   */\n  public getMotionCurveTarget(curveIndex: number): string {\n    return this._json.Curves[curveIndex].Target;\n  }\n\n  /**\n   * ID\n   * @param curveIndex \n   * @return ID\n   */\n  public getMotionCurveId(curveIndex: number): string {\n    return this._json.Curves[curveIndex].Id;\n  }\n\n  /**\n   * \n   * @param curveIndex \n   * @return []\n   */\n  public getMotionCurveFadeInTime(curveIndex: number): number | undefined {\n    return this._json.Curves[curveIndex].FadeInTime;\n  }\n\n  /**\n   * \n   * @param curveIndex \n   * @return []\n   */\n  public getMotionCurveFadeOutTime(curveIndex: number): number | undefined {\n    return this._json.Curves[curveIndex].FadeOutTime;\n  }\n\n  /**\n   * \n   * @param curveIndex \n   * @return \n   */\n  public getMotionCurveSegmentCount(curveIndex: number): number {\n    return this._json.Curves[curveIndex].Segments.length;\n  }\n\n  /**\n   * \n   * @param curveIndex \n   * @param segmentIndex \n   * @return \n   */\n  public getMotionCurveSegment(\n    curveIndex: number,\n    segmentIndex: number,\n  ): number {\n    return this._json.Curves[curveIndex].Segments[segmentIndex];\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getEventCount(): number {\n    return this._json.Meta.UserDataCount || 0;\n  }\n\n  /**\n   *  \n   * @return \n   */\n  public getTotalEventValueSize(): number {\n    return this._json.Meta.TotalUserDataSize!;\n  }\n\n  /**\n   * \n   * @param userDataIndex \n   * @return []\n   */\n  public getEventTime(userDataIndex: number): number {\n    return this._json.UserData![userDataIndex].Time!;\n  }\n\n  /**\n   * \n   * @param userDataIndex \n   * @return \n   */\n  public getEventValue(userDataIndex: number): string {\n    return this._json.UserData![userDataIndex].Value!;\n  }\n\n  _json: CubismSpec.MotionJSON; // motion3.json\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismMath } from '../math/cubismmath';\nimport { CubismModel } from '../model/cubismmodel';\nimport { CSM_ASSERT, CubismLogDebug } from '../utils/cubismdebug';\nimport { ACubismMotion } from './acubismmotion';\nimport {\n  CubismMotionCurve,\n  CubismMotionCurveTarget,\n  CubismMotionData,\n  CubismMotionEvent,\n  CubismMotionPoint,\n  CubismMotionSegment,\n  CubismMotionSegmentType,\n} from './cubismmotioninternal';\nimport { CubismMotionJson } from './cubismmotionjson';\nimport { CubismMotionQueueEntry } from './cubismmotionqueueentry';\n\nconst EffectNameEyeBlink = 'EyeBlink';\nconst EffectNameLipSync = 'LipSync';\nconst TargetNameModel = 'Model';\nconst TargetNameParameter = 'Parameter';\nconst TargetNamePartOpacity = 'PartOpacity';\n\nfunction lerpPoints(\n  a: CubismMotionPoint,\n  b: CubismMotionPoint,\n  t: number,\n): CubismMotionPoint {\n  const result: CubismMotionPoint = new CubismMotionPoint();\n\n  result.time = a.time + (b.time - a.time) * t;\n  result.value = a.value + (b.value - a.value) * t;\n\n  return result;\n}\n\nfunction linearEvaluate(points: CubismMotionPoint[], time: number): number {\n  let t: number = (time - points[0].time) / (points[1].time - points[0].time);\n\n  if (t < 0.0) {\n    t = 0.0;\n  }\n\n  return points[0].value + (points[1].value - points[0].value) * t;\n}\n\nfunction bezierEvaluate(points: CubismMotionPoint[], time: number): number {\n  let t: number = (time - points[0].time) / (points[3].time - points[0].time);\n\n  if (t < 0.0) {\n    t = 0.0;\n  }\n\n  const p01: CubismMotionPoint = lerpPoints(points[0], points[1], t);\n  const p12: CubismMotionPoint = lerpPoints(points[1], points[2], t);\n  const p23: CubismMotionPoint = lerpPoints(points[2], points[3], t);\n\n  const p012: CubismMotionPoint = lerpPoints(p01, p12, t);\n  const p123: CubismMotionPoint = lerpPoints(p12, p23, t);\n\n  return lerpPoints(p012, p123, t).value;\n}\n\nfunction steppedEvaluate(points: CubismMotionPoint[], time: number): number {\n  return points[0].value;\n}\n\nfunction inverseSteppedEvaluate(\n  points: CubismMotionPoint[],\n  time: number,\n): number {\n  return points[1].value;\n}\n\nfunction evaluateCurve(\n  motionData: CubismMotionData,\n  index: number,\n  time: number,\n): number {\n  // Find segment to evaluate.\n  const curve: CubismMotionCurve = motionData.curves[index];\n\n  let target = -1;\n  const totalSegmentCount: number =\n    curve.baseSegmentIndex + curve.segmentCount;\n  let pointPosition = 0;\n  for (let i: number = curve.baseSegmentIndex; i < totalSegmentCount; ++i) {\n    // Get first point of next segment.\n    pointPosition =\n      motionData.segments[i].basePointIndex +\n      (motionData.segments[i].segmentType ==\n      CubismMotionSegmentType.CubismMotionSegmentType_Bezier\n        ? 3\n        : 1);\n\n    // Break if time lies within current segment.\n    if (motionData.points[pointPosition].time > time) {\n      target = i;\n      break;\n    }\n  }\n\n  if (target == -1) {\n    return motionData.points[pointPosition].value;\n  }\n\n  const segment: CubismMotionSegment = motionData.segments[target];\n\n  return segment.evaluate(\n    motionData.points.slice(segment.basePointIndex),\n    time,\n  );\n}\n\n/**\n * \n *\n * \n */\nexport class CubismMotion extends ACubismMotion {\n  /**\n   * \n   *\n   * @param json motion3.json\n   * @param onFinishedMotionHandler \n   * @return \n   */\n  public static create(json: CubismSpec.MotionJSON, onFinishedMotionHandler?: (self: ACubismMotion) => void): CubismMotion {\n    const ret = new CubismMotion();\n\n    ret.parse(json);\n    ret._sourceFrameRate = ret._motionData.fps;\n    ret._loopDurationSeconds = ret._motionData.duration;\n    ret._onFinishedMotion = onFinishedMotionHandler;\n\n    // NOTE: Editor\n    // ret->_loop = (ret->_motionData->Loop > 0);\n    return ret;\n  }\n\n  /**\n   * \n   * @param model             \n   * @param userTimeSeconds   []\n   * @param fadeWeight        \n   * @param motionQueueEntry  CubismMotionQueueManager\n   */\n  public doUpdateParameters(\n    model: CubismModel,\n    userTimeSeconds: number,\n    fadeWeight: number,\n    motionQueueEntry: CubismMotionQueueEntry,\n  ): void {\n    if (this._modelCurveIdEyeBlink == null) {\n      this._modelCurveIdEyeBlink = EffectNameEyeBlink;\n    }\n\n    if (this._modelCurveIdLipSync == null) {\n      this._modelCurveIdLipSync = EffectNameLipSync;\n    }\n\n    let timeOffsetSeconds: number =\n      userTimeSeconds - motionQueueEntry.getStartTime();\n\n    if (timeOffsetSeconds < 0.0) {\n      timeOffsetSeconds = 0.0; // \n    }\n\n    let lipSyncValue: number = Number.MAX_VALUE;\n    let eyeBlinkValue: number = Number.MAX_VALUE;\n\n    //maxFlagCount\n    const MaxTargetSize = 64;\n    let lipSyncFlags = 0;\n    let eyeBlinkFlags = 0;\n\n    //\n    if (this._eyeBlinkParameterIds.length > MaxTargetSize) {\n      CubismLogDebug(\n        'too many eye blink targets : {0}',\n        this._eyeBlinkParameterIds.length,\n      );\n    }\n    if (this._lipSyncParameterIds.length > MaxTargetSize) {\n      CubismLogDebug(\n        'too many lip sync targets : {0}',\n        this._lipSyncParameterIds.length,\n      );\n    }\n\n    const tmpFadeIn: number =\n      this._fadeInSeconds <= 0.0\n        ? 1.0\n        : CubismMath.getEasingSine(\n        (userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n        this._fadeInSeconds,\n        );\n\n    const tmpFadeOut: number =\n      this._fadeOutSeconds <= 0.0 || motionQueueEntry.getEndTime() < 0.0\n        ? 1.0\n        : CubismMath.getEasingSine(\n        (motionQueueEntry.getEndTime() - userTimeSeconds) /\n        this._fadeOutSeconds,\n        );\n    let value: number;\n    let c: number, parameterIndex: number;\n\n    // 'Repeat' time as necessary.\n    let time: number = timeOffsetSeconds;\n\n    if (this._isLoop) {\n      while (time > this._motionData.duration) {\n        time -= this._motionData.duration;\n      }\n    }\n\n    const curves: CubismMotionCurve[] = this._motionData.curves;\n\n    // Evaluate model curves.\n    for (\n      c = 0;\n      c < this._motionData.curveCount &&\n      curves[c].type ==\n      CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\n      ++c\n    ) {\n      // Evaluate curve and call handler.\n      value = evaluateCurve(this._motionData, c, time);\n\n      if (curves[c].id == this._modelCurveIdEyeBlink) {\n        eyeBlinkValue = value;\n      } else if (curves[c].id == this._modelCurveIdLipSync) {\n        lipSyncValue = value;\n      }\n    }\n\n    let parameterMotionCurveCount = 0;\n\n    for (\n      ;\n      c < this._motionData.curveCount &&\n      curves[c].type ==\n      CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter;\n      ++c\n    ) {\n      parameterMotionCurveCount++;\n\n      // Find parameter index.\n      parameterIndex = model.getParameterIndex(curves[c].id);\n\n      // Skip curve evaluation if no value in sink.\n      if (parameterIndex == -1) {\n        continue;\n      }\n\n      const sourceValue: number = model.getParameterValueByIndex(\n        parameterIndex,\n      );\n\n      // Evaluate curve and apply value.\n      value = evaluateCurve(this._motionData, c, time);\n\n      if (eyeBlinkValue != Number.MAX_VALUE) {\n        for (\n          let i = 0;\n          i < this._eyeBlinkParameterIds.length && i < MaxTargetSize;\n          ++i\n        ) {\n          if (this._eyeBlinkParameterIds[i] == curves[c].id) {\n            value *= eyeBlinkValue;\n            eyeBlinkFlags |= 1 << i;\n            break;\n          }\n        }\n      }\n\n      if (lipSyncValue != Number.MAX_VALUE) {\n        for (\n          let i = 0;\n          i < this._lipSyncParameterIds.length && i < MaxTargetSize;\n          ++i\n        ) {\n          if (this._lipSyncParameterIds[i] == curves[c].id) {\n            value += lipSyncValue;\n            lipSyncFlags |= 1 << i;\n            break;\n          }\n        }\n      }\n\n      let v: number;\n\n      // \n      if (curves[c].fadeInTime < 0.0 && curves[c].fadeOutTime < 0.0) {\n        // \n        v = sourceValue + (value - sourceValue) * fadeWeight;\n      } else {\n        // \n        let fin: number;\n        let fout: number;\n\n        if (curves[c].fadeInTime < 0.0) {\n          fin = tmpFadeIn;\n        } else {\n          fin =\n            curves[c].fadeInTime == 0.0\n              ? 1.0\n              : CubismMath.getEasingSine(\n              (userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n              curves[c].fadeInTime,\n              );\n        }\n\n        if (curves[c].fadeOutTime < 0.0) {\n          fout = tmpFadeOut;\n        } else {\n          fout =\n            curves[c].fadeOutTime == 0.0 ||\n            motionQueueEntry.getEndTime() < 0.0\n              ? 1.0\n              : CubismMath.getEasingSine(\n              (motionQueueEntry.getEndTime() - userTimeSeconds) /\n              curves[c].fadeOutTime,\n              );\n        }\n\n        const paramWeight: number = this._weight * fin * fout;\n\n        // \n        v = sourceValue + (value - sourceValue) * paramWeight;\n      }\n\n      model.setParameterValueByIndex(parameterIndex, v, 1.0);\n    }\n\n    {\n      if (eyeBlinkValue != Number.MAX_VALUE) {\n        for (\n          let i = 0;\n          i < this._eyeBlinkParameterIds.length && i < MaxTargetSize;\n          ++i\n        ) {\n          const sourceValue: number = model.getParameterValueById(\n            this._eyeBlinkParameterIds[i],\n          );\n\n          // \n          if ((eyeBlinkFlags >> i) & 0x01) {\n            continue;\n          }\n\n          const v: number =\n            sourceValue + (eyeBlinkValue - sourceValue) * fadeWeight;\n\n          model.setParameterValueById(this._eyeBlinkParameterIds[i], v);\n        }\n      }\n\n      if (lipSyncValue != Number.MAX_VALUE) {\n        for (\n          let i = 0;\n          i < this._lipSyncParameterIds.length && i < MaxTargetSize;\n          ++i\n        ) {\n          const sourceValue: number = model.getParameterValueById(\n            this._lipSyncParameterIds[i],\n          );\n\n          // \n          if ((lipSyncFlags >> i) & 0x01) {\n            continue;\n          }\n\n          const v: number =\n            sourceValue + (lipSyncValue - sourceValue) * fadeWeight;\n\n          model.setParameterValueById(this._lipSyncParameterIds[i], v);\n        }\n      }\n    }\n\n    for (\n      ;\n      c < this._motionData.curveCount &&\n      curves[c].type ==\n      CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity;\n      ++c\n    ) {\n      // Find parameter index.\n      parameterIndex = model.getParameterIndex(curves[c].id);\n\n      // Skip curve evaluation if no value in sink.\n      if (parameterIndex == -1) {\n        continue;\n      }\n\n      // Evaluate curve and apply value.\n      value = evaluateCurve(this._motionData, c, time);\n\n      model.setParameterValueByIndex(parameterIndex, value);\n    }\n\n    if (timeOffsetSeconds >= this._motionData.duration) {\n      if (this._isLoop) {\n        motionQueueEntry.setStartTime(userTimeSeconds); // \n        if (this._isLoopFadeIn) {\n          // \n          motionQueueEntry.setFadeInStartTime(userTimeSeconds);\n        }\n      } else {\n        if (this._onFinishedMotion) {\n          this._onFinishedMotion(this);\n        }\n\n        motionQueueEntry.setIsFinished(true);\n      }\n    }\n    this._lastWeight = fadeWeight;\n  }\n\n  /**\n   * \n   * @param loop \n   */\n  public setIsLoop(loop: boolean): void {\n    this._isLoop = loop;\n  }\n\n  /**\n   * \n   * @return true \n   * @return false \n   */\n  public isLoop(): boolean {\n    return this._isLoop;\n  }\n\n  /**\n   * \n   * @param loopFadeIn  \n   */\n  public setIsLoopFadeIn(loopFadeIn: boolean): void {\n    this._isLoopFadeIn = loopFadeIn;\n  }\n\n  /**\n   * \n   *\n   * @return  true    \n   * @return  false   \n   */\n  public isLoopFadeIn(): boolean {\n    return this._isLoopFadeIn;\n  }\n\n  /**\n   * \n   *\n   * @return  []\n   */\n  public getDuration(): number {\n    return this._isLoop ? -1.0 : this._loopDurationSeconds;\n  }\n\n  /**\n   * \n   *\n   * @return  []\n   */\n  public getLoopDuration(): number {\n    return this._loopDurationSeconds;\n  }\n\n  /**\n   * \n   *\n   * @param parameterId     ID\n   * @param value           []\n   */\n  public setParameterFadeInTime(\n    parameterId: string,\n    value: number,\n  ): void {\n    const curves: CubismMotionCurve[] = this._motionData.curves;\n\n    for (let i = 0; i < this._motionData.curveCount; ++i) {\n      if (parameterId == curves[i].id) {\n        curves[i].fadeInTime = value;\n        return;\n      }\n    }\n  }\n\n  /**\n   * \n   * @param parameterId     ID\n   * @param value           []\n   */\n  public setParameterFadeOutTime(\n    parameterId: string,\n    value: number,\n  ): void {\n    const curves: CubismMotionCurve[] = this._motionData.curves;\n\n    for (let i = 0; i < this._motionData.curveCount; ++i) {\n      if (parameterId == curves[i].id) {\n        curves[i].fadeOutTime = value;\n        return;\n      }\n    }\n  }\n\n  /**\n   * \n   * @param    parameterId     ID\n   * @return   []\n   */\n  public getParameterFadeInTime(parameterId: string): number {\n    const curves: CubismMotionCurve[] = this._motionData.curves;\n\n    for (let i = 0; i < this._motionData.curveCount; ++i) {\n      if (parameterId == curves[i].id) {\n        return curves[i].fadeInTime;\n      }\n    }\n\n    return -1;\n  }\n\n  /**\n   * \n   *\n   * @param   parameterId     ID\n   * @return   []\n   */\n  public getParameterFadeOutTime(parameterId: string): number {\n    const curves: CubismMotionCurve[] = this._motionData.curves;\n\n    for (let i = 0; i < this._motionData.curveCount; ++i) {\n      if (parameterId == curves[i].id) {\n        return curves[i].fadeOutTime;\n      }\n    }\n\n    return -1;\n  }\n\n  /**\n   * ID\n   * @param eyeBlinkParameterIds    ID\n   * @param lipSyncParameterIds     ID\n   */\n  public setEffectIds(\n    eyeBlinkParameterIds: string[],\n    lipSyncParameterIds: string[],\n  ): void {\n    this._eyeBlinkParameterIds = eyeBlinkParameterIds;\n    this._lipSyncParameterIds = lipSyncParameterIds;\n  }\n\n  /**\n   * \n   */\n  public constructor() {\n    super();\n    this._sourceFrameRate = 30.0;\n    this._loopDurationSeconds = -1.0;\n    this._isLoop = false; // true false \n    this._isLoopFadeIn = true; // \n    this._lastWeight = 0.0;\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    (this as Partial<this>)._motionData = undefined;\n  }\n\n  /**\n   * motion3.json\n   *\n   * @param motionJson  motion3.json\n   */\n  public parse(motionJson: CubismSpec.MotionJSON): void {\n    this._motionData = new CubismMotionData();\n\n    let json: CubismMotionJson = new CubismMotionJson(motionJson);\n\n    this._motionData.duration = json.getMotionDuration();\n    this._motionData.loop = json.isMotionLoop();\n    this._motionData.curveCount = json.getMotionCurveCount();\n    this._motionData.fps = json.getMotionFps();\n    this._motionData.eventCount = json.getEventCount();\n\n    const fadeInSeconds = json.getMotionFadeInTime();\n    const fadeOutSeconds = json.getMotionFadeOutTime();\n\n    if (fadeInSeconds !== undefined) {\n      this._fadeInSeconds = fadeInSeconds < 0.0 ? 1.0 : fadeInSeconds;\n    } else {\n      this._fadeInSeconds = 1.0;\n    }\n\n    if (fadeOutSeconds !== undefined) {\n      this._fadeOutSeconds = fadeOutSeconds < 0.0 ? 1.0 : fadeOutSeconds;\n    } else {\n      this._fadeOutSeconds = 1.0;\n    }\n\n    this._motionData.curves = Array.from({ length: this._motionData.curveCount }).map(() => new CubismMotionCurve());\n    this._motionData.segments = Array.from({ length: json.getMotionTotalSegmentCount() }).map(() => new CubismMotionSegment());\n    this._motionData.events = Array.from({ length: this._motionData.eventCount }).map(() => new CubismMotionEvent());\n    this._motionData.points = [];\n\n    let totalPointCount = 0;\n    let totalSegmentCount = 0;\n\n    // Curves\n    for (let curveCount = 0; curveCount < this._motionData.curveCount; ++curveCount) {\n      const curve = this._motionData.curves[curveCount];\n\n      switch (json.getMotionCurveTarget(curveCount)) {\n        case TargetNameModel:\n          curve.type = CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\n          break;\n\n        case TargetNameParameter:\n          curve.type = CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter;\n          break;\n\n        case TargetNamePartOpacity:\n          curve.type = CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity;\n          break;\n      }\n\n      curve.id = json.getMotionCurveId(curveCount);\n\n      curve.baseSegmentIndex = totalSegmentCount;\n\n      const fadeInTime = json.getMotionCurveFadeInTime(curveCount);\n      const fadeOutTime = json.getMotionCurveFadeOutTime(curveCount);\n\n      curve.fadeInTime = fadeInTime !== undefined ? fadeInTime : -1.0;\n      curve.fadeOutTime = fadeOutTime !== undefined ? fadeOutTime : -1.0;\n\n      // Segments\n      for (\n        let segmentPosition = 0;\n        segmentPosition < json.getMotionCurveSegmentCount(curveCount);\n      ) {\n        if (segmentPosition == 0) {\n          this._motionData.segments[totalSegmentCount].basePointIndex = totalPointCount;\n\n          this._motionData.points[totalPointCount] = new CubismMotionPoint(\n            json.getMotionCurveSegment(curveCount, segmentPosition),\n            json.getMotionCurveSegment(curveCount, segmentPosition + 1),\n          );\n\n          totalPointCount += 1;\n          segmentPosition += 2;\n        } else {\n          this._motionData.segments[totalSegmentCount].basePointIndex =\n            totalPointCount - 1;\n        }\n\n        const segment: number = json.getMotionCurveSegment(\n          curveCount,\n          segmentPosition,\n        );\n        switch (segment) {\n          case CubismMotionSegmentType.CubismMotionSegmentType_Linear: {\n            this._motionData.segments[totalSegmentCount].segmentType =\n              CubismMotionSegmentType.CubismMotionSegmentType_Linear;\n            this._motionData.segments[totalSegmentCount].evaluate = linearEvaluate;\n\n            this._motionData.points[totalPointCount] = new CubismMotionPoint(\n              json.getMotionCurveSegment(curveCount, segmentPosition + 1),\n              json.getMotionCurveSegment(curveCount, segmentPosition + 2),\n            );\n\n            totalPointCount += 1;\n            segmentPosition += 3;\n\n            break;\n          }\n          case CubismMotionSegmentType.CubismMotionSegmentType_Bezier: {\n            this._motionData.segments[totalSegmentCount].segmentType =\n              CubismMotionSegmentType.CubismMotionSegmentType_Bezier;\n            this._motionData.segments[totalSegmentCount].evaluate = bezierEvaluate;\n\n            this._motionData.points[totalPointCount] = new CubismMotionPoint(\n              json.getMotionCurveSegment(curveCount, segmentPosition + 1),\n              json.getMotionCurveSegment(curveCount, segmentPosition + 2),\n            );\n\n            this._motionData.points[totalPointCount + 1] = new CubismMotionPoint(\n              json.getMotionCurveSegment(curveCount, segmentPosition + 3),\n              json.getMotionCurveSegment(curveCount, segmentPosition + 4),\n            );\n\n            this._motionData.points[totalPointCount + 2] = new CubismMotionPoint(\n              json.getMotionCurveSegment(curveCount, segmentPosition + 5),\n              json.getMotionCurveSegment(curveCount, segmentPosition + 6),\n            );\n\n            totalPointCount += 3;\n            segmentPosition += 7;\n\n            break;\n          }\n\n          case CubismMotionSegmentType.CubismMotionSegmentType_Stepped: {\n            this._motionData.segments[totalSegmentCount].segmentType =\n              CubismMotionSegmentType.CubismMotionSegmentType_Stepped;\n            this._motionData.segments[totalSegmentCount].evaluate = steppedEvaluate;\n\n            this._motionData.points[totalPointCount] = new CubismMotionPoint(\n              json.getMotionCurveSegment(curveCount, segmentPosition + 1),\n              json.getMotionCurveSegment(curveCount, segmentPosition + 2),\n            );\n\n            totalPointCount += 1;\n            segmentPosition += 3;\n\n            break;\n          }\n\n          case CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped: {\n            this._motionData.segments[totalSegmentCount].segmentType =\n              CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped;\n            this._motionData.segments[totalSegmentCount].evaluate = inverseSteppedEvaluate;\n\n            this._motionData.points[totalPointCount] = new CubismMotionPoint(\n              json.getMotionCurveSegment(curveCount, segmentPosition + 1),\n              json.getMotionCurveSegment(curveCount, segmentPosition + 2),\n            );\n\n            totalPointCount += 1;\n            segmentPosition += 3;\n\n            break;\n          }\n          default: {\n            CSM_ASSERT(0);\n            break;\n          }\n        }\n\n        ++curve.segmentCount;\n        ++totalSegmentCount;\n      }\n\n      this._motionData.curves.push(curve);\n    }\n\n    for (\n      let userdatacount = 0;\n      userdatacount < json.getEventCount();\n      ++userdatacount\n    ) {\n      this._motionData.events[userdatacount].fireTime = json.getEventTime(\n        userdatacount,\n      );\n      this._motionData.events[userdatacount].value = json.getEventValue(\n        userdatacount,\n      );\n    }\n\n    json.release();\n  }\n\n  /**\n   * \n   *\n   * \n   * \n   *\n   * @param beforeCheckTimeSeconds   []\n   * @param motionTimeSeconds        []\n   */\n  public getFiredEvent(\n    beforeCheckTimeSeconds: number,\n    motionTimeSeconds: number,\n  ): string[] {\n    this._firedEventValues.length = 0;\n\n    // \n    for (let u = 0; u < this._motionData.eventCount; ++u) {\n      if (\n        this._motionData.events[u].fireTime > beforeCheckTimeSeconds &&\n        this._motionData.events[u].fireTime <= motionTimeSeconds\n      ) {\n        this._firedEventValues.push(this._motionData.events[u].value);\n      }\n    }\n\n    return this._firedEventValues;\n  }\n\n  public _sourceFrameRate: number; // FPS15fps\n  public _loopDurationSeconds: number; // mtn\n  public _isLoop: boolean; // ?\n  public _isLoopFadeIn: boolean; // \n  public _lastWeight: number; // \n\n  public _motionData!: CubismMotionData; // \n\n  public _eyeBlinkParameterIds: string[] = []; // ID  \n  public _lipSyncParameterIds: string[] = []; // ID  \n\n  public _modelCurveIdEyeBlink?: string; // ID  \n  public _modelCurveIdLipSync?: string; // ID  \n}\n","import { MotionManager, MotionManagerOptions } from '@/cubism-common/MotionManager';\nimport { Cubism4ExpressionManager } from '@/cubism4/Cubism4ExpressionManager';\nimport { Cubism4ModelSettings } from '@/cubism4/Cubism4ModelSettings';\nimport { CubismModel } from '@cubism/model/cubismmodel';\nimport { ACubismMotion } from '@cubism/motion/acubismmotion';\nimport { CubismMotion } from '@cubism/motion/cubismmotion';\nimport { CubismMotionQueueManager } from '@cubism/motion/cubismmotionqueuemanager';\nimport { config } from '@/config';\n\nexport class Cubism4MotionManager extends MotionManager<CubismMotion, CubismSpec.Motion> {\n    readonly definitions: Partial<Record<string, CubismSpec.Motion[]>>;\n\n    readonly groups = { idle: 'Idle' } as const;\n\n    readonly motionDataType = 'json';\n\n    readonly queueManager = new CubismMotionQueueManager();\n\n    readonly settings!: Cubism4ModelSettings;\n\n    expressionManager?: Cubism4ExpressionManager;\n\n    eyeBlinkIds: string[];\n    lipSyncIds: string[];\n\n    constructor(settings: Cubism4ModelSettings, options?: MotionManagerOptions) {\n        super(settings, options);\n\n        this.definitions = settings.motions ?? {};\n        this.eyeBlinkIds = settings.getEyeBlinkParameters() || [];\n        this.lipSyncIds = settings.getLipSyncParameters() || [];\n\n        this.init(options);\n    }\n\n    protected init(options?: MotionManagerOptions) {\n        super.init(options);\n\n        if (this.settings.expressions) {\n            this.expressionManager = new Cubism4ExpressionManager(this.settings, options);\n        }\n\n        this.queueManager.setEventCallback((caller, eventValue, customData) => {\n            this.emit('motion:' + eventValue);\n        });\n    }\n\n    isFinished(): boolean {\n        return this.queueManager.isFinished();\n    }\n\n    protected _startMotion(motion: CubismMotion, onFinish?: (motion: CubismMotion) => void): number {\n        motion.setFinishedMotionHandler(onFinish as (motion: ACubismMotion) => void);\n\n        this.queueManager.stopAllMotions();\n\n        return this.queueManager.startMotion(motion, false, performance.now());\n    }\n\n    protected _stopAllMotions(): void {\n        this.queueManager.stopAllMotions();\n    }\n\n    createMotion(data: object, group: string, definition: CubismSpec.Motion): CubismMotion {\n        const motion = CubismMotion.create(data as unknown as CubismSpec.MotionJSON);\n\n        const defaultFadingDuration = (\n            group === this.groups.idle\n                ? config.idleMotionFadingDuration\n                : config.motionFadingDuration\n        ) / 1000;\n\n        motion.setFadeInTime(definition.FadeInTime! > 0 ? definition.FadeInTime! : defaultFadingDuration);\n        motion.setFadeOutTime(definition.FadeOutTime! > 0 ? definition.FadeOutTime! : defaultFadingDuration);\n\n        motion.setEffectIds(this.eyeBlinkIds, this.lipSyncIds);\n\n        return motion;\n    }\n\n    getMotionFile(definition: CubismSpec.Motion): string {\n        return definition.File;\n    }\n\n    protected getMotionName(definition: CubismSpec.Motion): string {\n        return definition.File;\n    }\n\n    protected getSoundFile(definition: CubismSpec.Motion): string | undefined {\n        return definition.Sound;\n    }\n\n    protected updateParameters(model: CubismModel, now: DOMHighResTimeStamp): boolean {\n        return this.queueManager.doUpdateMotion(model, now);\n    }\n\n    destroy() {\n        super.destroy();\n\n        this.queueManager.release();\n        (this as Partial<Mutable<this>>).queueManager = undefined;\n    }\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\n/**\n * @brief ID<br>\n *         <br>\n *         https://docs.live2d.com/cubism-editor-manual/standard-parametor-list/\n */\n  // ID\nexport const HitAreaPrefix = 'HitArea';\nexport const HitAreaHead = 'Head';\nexport const HitAreaBody = 'Body';\nexport const PartsIdCore = 'Parts01Core';\nexport const PartsArmPrefix = 'Parts01Arm_';\nexport const PartsArmLPrefix = 'Parts01ArmL_';\nexport const PartsArmRPrefix = 'Parts01ArmR_';\n\n// ID\nexport const ParamAngleX = 'ParamAngleX';\nexport const ParamAngleY = 'ParamAngleY';\nexport const ParamAngleZ = 'ParamAngleZ';\nexport const ParamEyeLOpen = 'ParamEyeLOpen';\nexport const ParamEyeLSmile = 'ParamEyeLSmile';\nexport const ParamEyeROpen = 'ParamEyeROpen';\nexport const ParamEyeRSmile = 'ParamEyeRSmile';\nexport const ParamEyeBallX = 'ParamEyeBallX';\nexport const ParamEyeBallY = 'ParamEyeBallY';\nexport const ParamEyeBallForm = 'ParamEyeBallForm';\nexport const ParamBrowLY = 'ParamBrowLY';\nexport const ParamBrowRY = 'ParamBrowRY';\nexport const ParamBrowLX = 'ParamBrowLX';\nexport const ParamBrowRX = 'ParamBrowRX';\nexport const ParamBrowLAngle = 'ParamBrowLAngle';\nexport const ParamBrowRAngle = 'ParamBrowRAngle';\nexport const ParamBrowLForm = 'ParamBrowLForm';\nexport const ParamBrowRForm = 'ParamBrowRForm';\nexport const ParamMouthForm = 'ParamMouthForm';\nexport const ParamMouthOpenY = 'ParamMouthOpenY';\nexport const ParamCheek = 'ParamCheek';\nexport const ParamBodyAngleX = 'ParamBodyAngleX';\nexport const ParamBodyAngleY = 'ParamBodyAngleY';\nexport const ParamBodyAngleZ = 'ParamBodyAngleZ';\nexport const ParamBreath = 'ParamBreath';\nexport const ParamArmLA = 'ParamArmLA';\nexport const ParamArmRA = 'ParamArmRA';\nexport const ParamArmLB = 'ParamArmLB';\nexport const ParamArmRB = 'ParamArmRB';\nexport const ParamHandL = 'ParamHandL';\nexport const ParamHandR = 'ParamHandR';\nexport const ParamHairFront = 'ParamHairFront';\nexport const ParamHairSide = 'ParamHairSide';\nexport const ParamHairBack = 'ParamHairBack';\nexport const ParamHairFluffy = 'ParamHairFluffy';\nexport const ParamShoulderY = 'ParamShoulderY';\nexport const ParamBustX = 'ParamBustX';\nexport const ParamBustY = 'ParamBustY';\nexport const ParamBaseX = 'ParamBaseX';\nexport const ParamBaseY = 'ParamBaseY';\nexport const ParamNONE = 'NONE:';\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismModel } from '../model/cubismmodel';\n\n/**\n * \n *\n * \n */\nexport class CubismBreath {\n  /**\n   * \n   */\n  public static create(): CubismBreath {\n    return new CubismBreath();\n  }\n\n  /**\n   * \n   * @param breathParameters \n   */\n  public setParameters(\n    breathParameters: BreathParameterData[],\n  ): void {\n    this._breathParameters = breathParameters;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getParameters(): BreathParameterData[] {\n    return this._breathParameters;\n  }\n\n  /**\n   * \n   * @param model \n   * @param deltaTimeSeconds []\n   */\n  public updateParameters(\n    model: CubismModel,\n    deltaTimeSeconds: number,\n  ): void {\n    this._currentTime += deltaTimeSeconds;\n\n    const t: number = this._currentTime * 2.0 * 3.14159;\n\n    for (let i = 0; i < this._breathParameters.length; ++i) {\n      const data: BreathParameterData = this._breathParameters[i];\n\n      model.addParameterValueById(\n        data.parameterId,\n        data.offset + data.peak * Math.sin(t / data.cycle),\n        data.weight,\n      );\n    }\n  }\n\n  /**\n   * \n   */\n  public constructor() {\n    this._currentTime = 0.0;\n  }\n\n  _breathParameters: BreathParameterData[] = []; // \n  _currentTime: number; // []\n}\n\n/**\n * \n */\nexport class BreathParameterData {\n  /**\n   * \n   * @param parameterId   ID\n   * @param offset        \n   * @param peak          \n   * @param cycle         \n   * @param weight        \n   */\n  constructor(\n    parameterId?: string,\n    offset?: number,\n    peak?: number,\n    cycle?: number,\n    weight?: number,\n  ) {\n    this.parameterId = parameterId == undefined ? undefined : parameterId;\n    this.offset = offset == undefined ? 0.0 : offset;\n    this.peak = peak == undefined ? 0.0 : peak;\n    this.cycle = cycle == undefined ? 0.0 : cycle;\n    this.weight = weight == undefined ? 0.0 : weight;\n  }\n\n  parameterId?: string; // ID\\\n  offset: number; // \n  peak: number; // \n  cycle: number; // \n  weight: number; // \n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismModel } from '../model/cubismmodel';\nimport { CubismModelSettingsJson } from '../settings/cubismmodelsettingsjson';\n\n/**\n * \n *\n * \n */\nexport class CubismEyeBlink {\n  /**\n   * \n   * @param modelSetting \n   * @return \n   * @note NULLID\n   */\n  public static create(\n    modelSetting: CubismModelSettingsJson,\n  ): CubismEyeBlink {\n    return new CubismEyeBlink(modelSetting);\n  }\n\n  /**\n   * \n   * @param blinkingInterval []\n   */\n  public setBlinkingInterval(blinkingInterval: number): void {\n    this._blinkingIntervalSeconds = blinkingInterval;\n  }\n\n  /**\n   * \n   * @param closing   []\n   * @param closed    []\n   * @param opening   []\n   */\n  public setBlinkingSetting(\n    closing: number,\n    closed: number,\n    opening: number,\n  ): void {\n    this._closingSeconds = closing;\n    this._closedSeconds = closed;\n    this._openingSeconds = opening;\n  }\n\n  /**\n   * ID\n   * @param parameterIds ID\n   */\n  public setParameterIds(parameterIds: string[]): void {\n    this._parameterIds = parameterIds;\n  }\n\n  /**\n   * ID\n   * @return ID\n   */\n  public getParameterIds(): string[] {\n    return this._parameterIds;\n  }\n\n  /**\n   * \n   * @param model \n   * @param deltaTimeSeconds []\n   */\n  public updateParameters(\n    model: CubismModel,\n    deltaTimeSeconds: number,\n  ): void {\n    this._userTimeSeconds += deltaTimeSeconds;\n    let parameterValue: number;\n    let t = 0.0;\n\n    switch (this._blinkingState) {\n      case EyeState.EyeState_Closing:\n        t =\n          (this._userTimeSeconds - this._stateStartTimeSeconds) /\n          this._closingSeconds;\n\n        if (t >= 1.0) {\n          t = 1.0;\n          this._blinkingState = EyeState.EyeState_Closed;\n          this._stateStartTimeSeconds = this._userTimeSeconds;\n        }\n\n        parameterValue = 1.0 - t;\n\n        break;\n      case EyeState.EyeState_Closed:\n        t =\n          (this._userTimeSeconds - this._stateStartTimeSeconds) /\n          this._closedSeconds;\n\n        if (t >= 1.0) {\n          this._blinkingState = EyeState.EyeState_Opening;\n          this._stateStartTimeSeconds = this._userTimeSeconds;\n        }\n\n        parameterValue = 0.0;\n\n        break;\n      case EyeState.EyeState_Opening:\n        t =\n          (this._userTimeSeconds - this._stateStartTimeSeconds) /\n          this._openingSeconds;\n\n        if (t >= 1.0) {\n          t = 1.0;\n          this._blinkingState = EyeState.EyeState_Interval;\n          this._nextBlinkingTime = this.determinNextBlinkingTiming();\n        }\n\n        parameterValue = t;\n\n        break;\n      case EyeState.EyeState_Interval:\n        if (this._nextBlinkingTime < this._userTimeSeconds) {\n          this._blinkingState = EyeState.EyeState_Closing;\n          this._stateStartTimeSeconds = this._userTimeSeconds;\n        }\n\n        parameterValue = 1.0;\n\n        break;\n      case EyeState.EyeState_First:\n      default:\n        this._blinkingState = EyeState.EyeState_Interval;\n        this._nextBlinkingTime = this.determinNextBlinkingTiming();\n\n        parameterValue = 1.0;\n        break;\n    }\n\n    if (!CubismEyeBlink.CloseIfZero) {\n      parameterValue = -parameterValue;\n    }\n\n    for (let i = 0; i < this._parameterIds.length; ++i) {\n      model.setParameterValueById(this._parameterIds[i], parameterValue);\n    }\n  }\n\n  /**\n   * \n   * @param modelSetting \n   */\n  public constructor(modelSetting: CubismModelSettingsJson) {\n    this._blinkingState = EyeState.EyeState_First;\n    this._nextBlinkingTime = 0.0;\n    this._stateStartTimeSeconds = 0.0;\n    this._blinkingIntervalSeconds = 4.0;\n    this._closingSeconds = 0.1;\n    this._closedSeconds = 0.05;\n    this._openingSeconds = 0.15;\n    this._userTimeSeconds = 0.0;\n    this._parameterIds = [];\n\n    if (modelSetting == null) {\n      return;\n    }\n\n    this._parameterIds = modelSetting.getEyeBlinkParameters()?.slice() ?? this._parameterIds;\n  }\n\n  /**\n   * \n   *\n   * @return []\n   */\n  public determinNextBlinkingTiming(): number {\n    const r: number = Math.random();\n    return (\n      this._userTimeSeconds + r * (2.0 * this._blinkingIntervalSeconds - 1.0)\n    );\n  }\n\n  _blinkingState: number; // \n  _parameterIds: string[]; // ID\n  _nextBlinkingTime: number; // []\n  _stateStartTimeSeconds: number; // []\n  _blinkingIntervalSeconds: number; // []\n  _closingSeconds: number; // []\n  _closedSeconds: number; // []\n  _openingSeconds: number; // []\n  _userTimeSeconds: number; // []\n\n  /**\n   * ID0 true 1 false \n   */\n  static readonly CloseIfZero: boolean = true;\n}\n\n/**\n * \n *\n * \n */\nexport enum EyeState {\n  EyeState_First = 0, // \n  EyeState_Interval, // \n  EyeState_Closing, // \n  EyeState_Closed, // \n  EyeState_Opening // \n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\n/**\n * float\n */\nexport class csmRect {\n  /**\n   * \n   * @param x X\n   * @param y Y\n   * @param w \n   * @param h \n   */\n  public constructor(x = 0, y = 0, w = 0, h = 0) {\n    this.x = x;\n    this.y = y;\n    this.width = w;\n    this.height = h;\n  }\n\n  /**\n   * X\n   */\n  public getCenterX(): number {\n    return this.x + 0.5 * this.width;\n  }\n\n  /**\n   * Y\n   */\n  public getCenterY(): number {\n    return this.y + 0.5 * this.height;\n  }\n\n  /**\n   * X\n   */\n  public getRight(): number {\n    return this.x + this.width;\n  }\n\n  /**\n   * Y\n   */\n  public getBottom(): number {\n    return this.y + this.height;\n  }\n\n  /**\n   * \n   * @param r \n   */\n  public setRect(r: csmRect): void {\n    this.x = r.x;\n    this.y = r.y;\n    this.width = r.width;\n    this.height = r.height;\n  }\n\n  /**\n   * \n   * @param w \n   * @param h \n   */\n  public expand(w: number, h: number) {\n    this.x -= w;\n    this.y -= h;\n    this.width += w * 2.0;\n    this.height += h * 2.0;\n  }\n\n  public x: number; // X\n  public y: number; // Y\n  public width: number; // \n  public height: number; // \n}\n","export namespace config {\n  export let supportMoreMaskDivisions = true;\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { Constant } from '../live2dcubismframework';\nimport { CubismMatrix44 } from '../math/cubismmatrix44';\nimport { CubismModel } from '../model/cubismmodel';\nimport { csmRect } from '../type/csmrectf';\nimport { CubismLogError } from '../utils/cubismdebug';\nimport { CubismBlendMode, CubismRenderer, CubismTextureColor } from './cubismrenderer';\nimport { config } from '../config';\n\nconst ColorChannelCount = 4; // 11RGB34\n\nconst shaderCount = 10; //  =  + ( +  + ) * ( +  + )\nlet s_instance: CubismShader_WebGL | undefined;\nlet s_viewport: number[];\nlet s_fbo: WebGLFramebuffer;\n\n/**\n * \n */\nexport class CubismClippingManager_WebGL {\n  /**\n   * RGBA\n   * @param channelNo RGBA0:R, 1:G, 2:B, 3:A\n   */\n  public getChannelFlagAsColor(channelNo: number): CubismTextureColor {\n    return this._channelColors[channelNo];\n  }\n\n  /**\n   * \n   * FrameBufferObject\n   *\n   * @return \n   */\n  public getMaskRenderTexture(): WebGLFramebuffer | null {\n    let ret: WebGLFramebuffer | null = 0;\n\n    // RenderTexture\n    if (this._maskTexture && this._maskTexture.texture != 0) {\n      // \n      this._maskTexture.frameNo = this._currentFrameNo;\n      ret = this._maskTexture.texture;\n    }\n\n    if (ret == 0) {\n      // FrameBufferObject\n\n      // \n      const size: number = this._clippingMaskBufferSize;\n\n      this._colorBuffer = this.gl.createTexture();\n      this.gl.bindTexture(this.gl.TEXTURE_2D, this._colorBuffer);\n      this.gl.texImage2D(\n        this.gl.TEXTURE_2D,\n        0,\n        this.gl.RGBA,\n        size,\n        size,\n        0,\n        this.gl.RGBA,\n        this.gl.UNSIGNED_BYTE,\n        null,\n      );\n      this.gl.texParameteri(\n        this.gl.TEXTURE_2D,\n        this.gl.TEXTURE_WRAP_S,\n        this.gl.CLAMP_TO_EDGE,\n      );\n      this.gl.texParameteri(\n        this.gl.TEXTURE_2D,\n        this.gl.TEXTURE_WRAP_T,\n        this.gl.CLAMP_TO_EDGE,\n      );\n      this.gl.texParameteri(\n        this.gl.TEXTURE_2D,\n        this.gl.TEXTURE_MIN_FILTER,\n        this.gl.LINEAR,\n      );\n      this.gl.texParameteri(\n        this.gl.TEXTURE_2D,\n        this.gl.TEXTURE_MAG_FILTER,\n        this.gl.LINEAR,\n      );\n      this.gl.bindTexture(this.gl.TEXTURE_2D, null);\n\n      ret = this.gl.createFramebuffer();\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, ret);\n      this.gl.framebufferTexture2D(\n        this.gl.FRAMEBUFFER,\n        this.gl.COLOR_ATTACHMENT0,\n        this.gl.TEXTURE_2D,\n        this._colorBuffer,\n        0,\n      );\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo);\n\n      this._maskTexture = new CubismRenderTextureResource(\n        this._currentFrameNo,\n        ret,\n      );\n    }\n\n    return ret;\n  }\n\n  /**\n   * WebGL\n   * @param gl WebGL\n   */\n  public setGL(gl: WebGLRenderingContext): void {\n    this.gl = gl;\n  }\n\n  /**\n   * \n   * @param model \n   * @param clippingContext \n   */\n  public calcClippedDrawTotalBounds(\n    model: CubismModel,\n    clippingContext: CubismClippingContext,\n  ): void {\n    // \n    let clippedDrawTotalMinX: number = Number.MAX_VALUE;\n    let clippedDrawTotalMinY: number = Number.MAX_VALUE;\n    let clippedDrawTotalMaxX: number = Number.MIN_VALUE;\n    let clippedDrawTotalMaxY: number = Number.MIN_VALUE;\n\n    // \n    // \n    const clippedDrawCount: number =\n      clippingContext._clippedDrawableIndexList.length;\n\n    for (\n      let clippedDrawableIndex = 0;\n      clippedDrawableIndex < clippedDrawCount;\n      clippedDrawableIndex++\n    ) {\n      // \n      const drawableIndex: number =\n        clippingContext._clippedDrawableIndexList[clippedDrawableIndex];\n\n      const drawableVertexCount: number = model.getDrawableVertexCount(\n        drawableIndex,\n      );\n      const drawableVertexes: Float32Array = model.getDrawableVertices(\n        drawableIndex,\n      );\n\n      let minX: number = Number.MAX_VALUE;\n      let minY: number = Number.MAX_VALUE;\n      let maxX: number = Number.MIN_VALUE;\n      let maxY: number = Number.MIN_VALUE;\n\n      const loop: number = drawableVertexCount * Constant.vertexStep;\n      for (\n        let pi: number = Constant.vertexOffset;\n        pi < loop;\n        pi += Constant.vertexStep\n      ) {\n        const x: number = drawableVertexes[pi];\n        const y: number = drawableVertexes[pi + 1];\n\n        if (x < minX) {\n          minX = x;\n        }\n        if (x > maxX) {\n          maxX = x;\n        }\n        if (y < minY) {\n          minY = y;\n        }\n        if (y > maxY) {\n          maxY = y;\n        }\n      }\n\n      // \n      if (minX == Number.MAX_VALUE) {\n        continue;\n      }\n\n      // \n      if (minX < clippedDrawTotalMinX) {\n        clippedDrawTotalMinX = minX;\n      }\n      if (minY < clippedDrawTotalMinY) {\n        clippedDrawTotalMinY = minY;\n      }\n      if (maxX > clippedDrawTotalMaxX) {\n        clippedDrawTotalMaxX = maxX;\n      }\n      if (maxY > clippedDrawTotalMaxY) {\n        clippedDrawTotalMaxY = maxY;\n      }\n\n      if (clippedDrawTotalMinX == Number.MAX_VALUE) {\n        clippingContext._allClippedDrawRect.x = 0.0;\n        clippingContext._allClippedDrawRect.y = 0.0;\n        clippingContext._allClippedDrawRect.width = 0.0;\n        clippingContext._allClippedDrawRect.height = 0.0;\n        clippingContext._isUsing = false;\n      } else {\n        clippingContext._isUsing = true;\n        const w: number = clippedDrawTotalMaxX - clippedDrawTotalMinX;\n        const h: number = clippedDrawTotalMaxY - clippedDrawTotalMinY;\n        clippingContext._allClippedDrawRect.x = clippedDrawTotalMinX;\n        clippingContext._allClippedDrawRect.y = clippedDrawTotalMinY;\n        clippingContext._allClippedDrawRect.width = w;\n        clippingContext._allClippedDrawRect.height = h;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public constructor() {\n    this._maskRenderTexture = null;\n    this._colorBuffer = null;\n    this._currentFrameNo = 0;\n    this._clippingMaskBufferSize = 256;\n    this._clippingContextListForMask = [];\n    this._clippingContextListForDraw = [];\n    this._channelColors = [];\n    this._tmpBoundsOnModel = new csmRect();\n    this._tmpMatrix = new CubismMatrix44();\n    this._tmpMatrixForMask = new CubismMatrix44();\n    this._tmpMatrixForDraw = new CubismMatrix44();\n\n    let tmp: CubismTextureColor = new CubismTextureColor();\n    tmp.R = 1.0;\n    tmp.G = 0.0;\n    tmp.B = 0.0;\n    tmp.A = 0.0;\n    this._channelColors.push(tmp);\n\n    tmp = new CubismTextureColor();\n    tmp.R = 0.0;\n    tmp.G = 1.0;\n    tmp.B = 0.0;\n    tmp.A = 0.0;\n    this._channelColors.push(tmp);\n\n    tmp = new CubismTextureColor();\n    tmp.R = 0.0;\n    tmp.G = 0.0;\n    tmp.B = 1.0;\n    tmp.A = 0.0;\n    this._channelColors.push(tmp);\n\n    tmp = new CubismTextureColor();\n    tmp.R = 0.0;\n    tmp.G = 0.0;\n    tmp.B = 0.0;\n    tmp.A = 1.0;\n    this._channelColors.push(tmp);\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    const self = this as Partial<this>;\n\n    for (let i = 0; i < this._clippingContextListForMask.length; i++) {\n      if (this._clippingContextListForMask[i]) {\n        this._clippingContextListForMask[i]?.release();\n      }\n    }\n    self._clippingContextListForMask = undefined;\n\n    // _clippingContextListForDraw_clippingContextListForMaskDELETE\n    self._clippingContextListForDraw = undefined;\n\n    if (this._maskTexture) {\n      this.gl?.deleteFramebuffer(this._maskTexture.texture);\n      self._maskTexture = undefined;\n    }\n\n    self._channelColors = undefined;\n\n    // \n    this.gl?.deleteTexture(this._colorBuffer);\n    this._colorBuffer = null;\n  }\n\n  /**\n   * \n   * \n   * @param model \n   * @param drawableCount \n   * @param drawableMasks \n   * @param drawableCounts \n   */\n  public initialize(\n    model: CubismModel,\n    drawableCount: number,\n    drawableMasks: Int32Array[],\n    drawableMaskCounts: Int32Array,\n  ): void {\n    // \n    // \n    for (let i = 0; i < drawableCount; i++) {\n      if (drawableMaskCounts[i] <= 0) {\n        // \n        this._clippingContextListForDraw.push(null);\n        continue;\n      }\n\n      // ClipContext\n      let clippingContext = this.findSameClip(\n        drawableMasks[i],\n        drawableMaskCounts[i],\n      );\n      if (clippingContext == null) {\n        // \n        clippingContext = new CubismClippingContext(\n          this,\n          drawableMasks[i],\n          drawableMaskCounts[i],\n        );\n        this._clippingContextListForMask.push(clippingContext);\n      }\n\n      clippingContext.addClippedDrawable(i);\n\n      this._clippingContextListForDraw.push(clippingContext);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   * @param renderer \n   */\n  public setupClippingContext(\n    model: CubismModel,\n    renderer: CubismRenderer_WebGL,\n  ): void {\n    this._currentFrameNo++;\n\n    // \n    // 1\n    let usingClipCount = 0;\n    for (\n      let clipIndex = 0;\n      clipIndex < this._clippingContextListForMask.length;\n      clipIndex++\n    ) {\n      // 1\n      const cc = this._clippingContextListForMask[clipIndex];\n\n      // \n      this.calcClippedDrawTotalBounds(model, cc);\n\n      if (cc._isUsing) {\n        usingClipCount++; // \n      }\n    }\n\n    // \n    if (usingClipCount > 0) {\n      // FrameBuffer\n      this.gl.viewport(\n        0,\n        0,\n        this._clippingMaskBufferSize,\n        this._clippingMaskBufferSize,\n      );\n\n      // active\n      this._maskRenderTexture = this.getMaskRenderTexture();\n\n      // DrawMeshNow(to)\n      const modelToWorldF: CubismMatrix44 = renderer.getMvpMatrix();\n\n      renderer.preDraw(); // \n\n      // \n      this.setupLayoutBounds(usingClipCount);\n\n      // ----------  ----------\n      // RenderTextureactive\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this._maskRenderTexture);\n\n      // \n      // () 10Cd*Cs01\n      this.gl.clearColor(1.0, 1.0, 1.0, 1.0);\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\n      // \n      // ClipContext, ClippedDrawContext\n      for (\n        let clipIndex = 0;\n        clipIndex < this._clippingContextListForMask.length;\n        clipIndex++\n      ) {\n        // --- 1 ---\n        const clipContext: CubismClippingContext = this._clippingContextListForMask[clipIndex];\n        const allClipedDrawRect: csmRect = clipContext._allClippedDrawRect; // \n        const layoutBoundsOnTex01: csmRect = clipContext._layoutBounds; // \n\n        // \n        const MARGIN = 0.05;\n        this._tmpBoundsOnModel.setRect(allClipedDrawRect);\n        this._tmpBoundsOnModel.expand(\n          allClipedDrawRect.width * MARGIN,\n          allClipedDrawRect.height * MARGIN,\n        );\n        //########## \n\n        // \n        // movePeriod' = movePeriod * scaleX + offX\t\t  [[ movePeriod' = (movePeriod - tmpBoundsOnModel.movePeriod)*scale + layoutBoundsOnTex01.movePeriod ]]\n        const scaleX: number = layoutBoundsOnTex01.width / this._tmpBoundsOnModel.width;\n        const scaleY: number = layoutBoundsOnTex01.height / this._tmpBoundsOnModel.height;\n\n        // \n        {\n          //  <<<<<<<<<<<<<<<<<<<<<<<< \n          this._tmpMatrix.loadIdentity();\n          {\n            // layout0..1  -1..1\n            this._tmpMatrix.translateRelative(-1.0, -1.0);\n            this._tmpMatrix.scaleRelative(2.0, 2.0);\n          }\n          {\n            // view to layout0..1\n            this._tmpMatrix.translateRelative(\n              layoutBoundsOnTex01.x,\n              layoutBoundsOnTex01.y,\n            );\n            this._tmpMatrix.scaleRelative(scaleX, scaleY); // new = [translate][scale]\n            this._tmpMatrix.translateRelative(\n              -this._tmpBoundsOnModel.x,\n              -this._tmpBoundsOnModel.y,\n            );\n            // new = [translate][scale][translate]\n          }\n          // tmpMatrixForMask\n          this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray());\n        }\n\n        //--------- draw mask \n        {\n          //  <<<<<<<<<<<<<<<<<<<<<<<< \n          this._tmpMatrix.loadIdentity();\n          {\n            this._tmpMatrix.translateRelative(\n              layoutBoundsOnTex01.x,\n              layoutBoundsOnTex01.y,\n            );\n            this._tmpMatrix.scaleRelative(scaleX, scaleY); // new = [translate][scale]\n            this._tmpMatrix.translateRelative(\n              -this._tmpBoundsOnModel.x,\n              -this._tmpBoundsOnModel.y,\n            );\n            // new = [translate][scale][translate]\n          }\n          this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray());\n        }\n        clipContext._matrixForMask.setMatrix(\n          this._tmpMatrixForMask.getArray(),\n        );\n        clipContext._matrixForDraw.setMatrix(\n          this._tmpMatrixForDraw.getArray(),\n        );\n\n        const clipDrawCount: number = clipContext._clippingIdCount;\n        for (let i = 0; i < clipDrawCount; i++) {\n          const clipDrawIndex: number = clipContext._clippingIdList[i];\n\n          // \n          if (\n            !model.getDrawableDynamicFlagVertexPositionsDidChange(\n              clipDrawIndex,\n            )\n          ) {\n            continue;\n          }\n\n          renderer.setIsCulling(\n            model.getDrawableCulling(clipDrawIndex) != false,\n          );\n\n          // \n          // (A,R,G,B)\n          renderer.setClippingContextBufferForMask(clipContext);\n          renderer.drawMesh(\n            model.getDrawableTextureIndices(clipDrawIndex),\n            model.getDrawableVertexIndexCount(clipDrawIndex),\n            model.getDrawableVertexCount(clipDrawIndex),\n            model.getDrawableVertexIndices(clipDrawIndex),\n            model.getDrawableVertices(clipDrawIndex),\n            model.getDrawableVertexUvs(clipDrawIndex),\n            model.getDrawableOpacity(clipDrawIndex),\n            CubismBlendMode.CubismBlendMode_Normal, // \n            false, // \n          );\n        }\n      }\n\n      // ---  ---\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo); // \n      renderer.setClippingContextBufferForMask(null);\n\n      this.gl.viewport(\n        s_viewport[0],\n        s_viewport[1],\n        s_viewport[2],\n        s_viewport[3],\n      );\n    }\n  }\n\n  /**\n   * \n   * \n   * NULL\n   * @param drawableMasks \n   * @param drawableMaskCounts \n   * @return NULL\n   */\n  public findSameClip(\n    drawableMasks: Int32Array,\n    drawableMaskCounts: number,\n  ): CubismClippingContext | null {\n    // ClippingContext\n    for (let i = 0; i < this._clippingContextListForMask.length; i++) {\n      const clippingContext: CubismClippingContext = this._clippingContextListForMask[i];\n      const count: number = clippingContext._clippingIdCount;\n\n      // \n      if (count != drawableMaskCounts) {\n        continue;\n      }\n\n      let sameCount = 0;\n\n      // ID\n      for (let j = 0; j < count; j++) {\n        const clipId: number = clippingContext._clippingIdList[j];\n\n        for (let k = 0; k < count; k++) {\n          if (drawableMasks[k] == clipId) {\n            sameCount++;\n            break;\n          }\n        }\n      }\n\n      if (sameCount == count) {\n        return clippingContext;\n      }\n    }\n\n    return null; // \n  }\n\n  /**\n   * \n   * \n   * 4RGBA56RGBA2,2,1,1\n   *\n   * @param usingClipCount \n   */\n  public setupLayoutBounds(usingClipCount: number): void {\n    // RenderTexture\n    // 4RGBA156RGBA2,2,1,1\n\n    // RGBA\n    let div: number = usingClipCount / ColorChannelCount; // 1\n    let mod: number = usingClipCount % ColorChannelCount; // \n\n    // \n    div = ~~div;\n    mod = ~~mod;\n\n    // RGBA0:R, 1:G, 2:B, 3:A\n    let curClipIndex = 0; // \n\n    for (let channelNo = 0; channelNo < ColorChannelCount; channelNo++) {\n      // \n      const layoutCount: number = div + (channelNo < mod ? 1 : 0);\n\n      // \n      if (layoutCount == 0) {\n        // \n      } else if (layoutCount == 1) {\n        // \n        const clipContext: CubismClippingContext = this._clippingContextListForMask[curClipIndex++];\n        clipContext._layoutChannelNo = channelNo;\n        clipContext._layoutBounds.x = 0.0;\n        clipContext._layoutBounds.y = 0.0;\n        clipContext._layoutBounds.width = 1.0;\n        clipContext._layoutBounds.height = 1.0;\n      } else if (layoutCount == 2) {\n        for (let i = 0; i < layoutCount; i++) {\n          let xpos: number = i % 2;\n\n          // \n          xpos = ~~xpos;\n\n          const cc: CubismClippingContext = this._clippingContextListForMask[curClipIndex++];\n          cc._layoutChannelNo = channelNo;\n\n          cc._layoutBounds.x = xpos * 0.5;\n          cc._layoutBounds.y = 0.0;\n          cc._layoutBounds.width = 0.5;\n          cc._layoutBounds.height = 1.0;\n          // UV2\n        }\n      } else if (layoutCount <= 4) {\n        // 4\n        for (let i = 0; i < layoutCount; i++) {\n          let xpos: number = i % 2;\n          let ypos: number = i / 2;\n\n          // \n          xpos = ~~xpos;\n          ypos = ~~ypos;\n\n          const cc = this._clippingContextListForMask[curClipIndex++];\n          cc._layoutChannelNo = channelNo;\n\n          cc._layoutBounds.x = xpos * 0.5;\n          cc._layoutBounds.y = ypos * 0.5;\n          cc._layoutBounds.width = 0.5;\n          cc._layoutBounds.height = 0.5;\n        }\n      } else if (layoutCount <= 9) {\n        // 9\n        for (let i = 0; i < layoutCount; i++) {\n          let xpos = i % 3;\n          let ypos = i / 3;\n\n          // \n          xpos = ~~xpos;\n          ypos = ~~ypos;\n\n          const cc: CubismClippingContext = this._clippingContextListForMask[curClipIndex++];\n          cc._layoutChannelNo = channelNo;\n\n          cc._layoutBounds.x = xpos / 3.0;\n          cc._layoutBounds.y = ypos / 3.0;\n          cc._layoutBounds.width = 1.0 / 3.0;\n          cc._layoutBounds.height = 1.0 / 3.0;\n        }\n      } else if (config.supportMoreMaskDivisions && layoutCount <= 16) {\n        // support 4x4 division\n        // https://docs.live2d.com/cubism-sdk-manual/ow-sdk-mask-premake-web/?locale=en_us\n\n        for (let i = 0; i < layoutCount; i++) {\n          let xpos = i % 4;\n          let ypos = i / 4;\n\n          // \n          xpos = ~~xpos;\n          ypos = ~~ypos;\n\n          const cc: CubismClippingContext = this._clippingContextListForMask[curClipIndex++];\n          cc._layoutChannelNo = channelNo;\n\n          cc._layoutBounds.x = xpos / 4.0;\n          cc._layoutBounds.y = ypos / 4.0;\n          cc._layoutBounds.width = 1.0 / 4.0;\n          cc._layoutBounds.height = 1.0 / 4.0;\n        }\n      } else {\n        CubismLogError('not supported mask count : {0}', layoutCount);\n      }\n    }\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getColorBuffer(): WebGLTexture | null {\n    return this._colorBuffer;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getClippingContextListForDraw(): (CubismClippingContext | null)[] {\n    return this._clippingContextListForDraw;\n  }\n\n  /**\n   * \n   * @param size \n   */\n  public setClippingMaskBufferSize(size: number): void {\n    this._clippingMaskBufferSize = size;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getClippingMaskBufferSize(): number {\n    return this._clippingMaskBufferSize;\n  }\n\n  public _maskRenderTexture: WebGLFramebuffer | null; // \n  public _colorBuffer: WebGLTexture | null; // \n  public _currentFrameNo: number; // \n\n  public _channelColors: CubismTextureColor[];\n  public _maskTexture?: CubismRenderTextureResource; // \n  public _clippingContextListForMask: CubismClippingContext[]; // \n  public _clippingContextListForDraw: (CubismClippingContext | null)[]; // \n  public _clippingMaskBufferSize: number; // :256\n\n  private _tmpMatrix: CubismMatrix44; // \n  private _tmpMatrixForMask: CubismMatrix44; // \n  private _tmpMatrixForDraw: CubismMatrix44; // \n  private _tmpBoundsOnModel: csmRect; // \n\n  gl!: WebGLRenderingContext; // WebGL\n}\n\n/**\n * \n * \n */\nexport class CubismRenderTextureResource {\n  /**\n   * \n   * @param frameNo \n   * @param texture \n   */\n  public constructor(frameNo: number, texture: WebGLFramebuffer | null) {\n    this.frameNo = frameNo;\n    this.texture = texture;\n  }\n\n  public frameNo: number; // \n  public texture: WebGLFramebuffer | null; // \n}\n\n/**\n * \n */\nexport class CubismClippingContext {\n  /**\n   * \n   */\n  public constructor(\n    manager: CubismClippingManager_WebGL,\n    clippingDrawableIndices: Int32Array,\n    clipCount: number,\n  ) {\n    this._owner = manager;\n\n    // Drawable\n    this._clippingIdList = clippingDrawableIndices;\n\n    // \n    this._clippingIdCount = clipCount;\n\n    this._allClippedDrawRect = new csmRect();\n    this._layoutBounds = new csmRect();\n\n    this._clippedDrawableIndexList = [];\n\n    this._matrixForMask = new CubismMatrix44();\n    this._matrixForDraw = new CubismMatrix44();\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    const self = this as Partial<this>;\n    self._layoutBounds = undefined;\n    self._allClippedDrawRect = undefined;\n    self._clippedDrawableIndexList = undefined;\n  }\n\n  /**\n   * \n   *\n   * @param drawableIndex \n   */\n  public addClippedDrawable(drawableIndex: number) {\n    this._clippedDrawableIndexList.push(drawableIndex);\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getClippingManager(): CubismClippingManager_WebGL {\n    return this._owner;\n  }\n\n  public setGl(gl: WebGLRenderingContext): void {\n    this._owner.setGL(gl);\n  }\n\n  public _isUsing: boolean = false; // true\n  public readonly _clippingIdList: Int32Array; // ID\n  public _clippingIdCount: number; // \n  public _layoutChannelNo!: number; // RGBA0:R, 1:G, 2:B, 3:A\n  public _layoutBounds: csmRect; // View-1~1, UV0~1\n  public _allClippedDrawRect: csmRect; // \n  public _matrixForMask: CubismMatrix44; // \n  public _matrixForDraw: CubismMatrix44; // \n  public _clippedDrawableIndexList: number[]; // \n\n  private _owner: CubismClippingManager_WebGL; // \n}\n\n/**\n * WebGL\n * CubismShader_WebGL.getInstance\n */\nexport class CubismShader_WebGL {\n  /**\n   * \n   * @return \n   */\n  public static getInstance(): CubismShader_WebGL {\n    if (s_instance == null) {\n      s_instance = new CubismShader_WebGL();\n\n      return s_instance;\n    }\n    return s_instance;\n  }\n\n  /**\n   * \n   */\n  public static deleteInstance(): void {\n    if (s_instance) {\n      s_instance.release();\n      s_instance = undefined;\n    }\n  }\n\n  /**\n   * private\n   */\n  private constructor() {\n    this._shaderSets = [];\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    this.releaseShaderProgram();\n  }\n\n  /**\n   * \n   * @param renderer \n   * @param textureId GPUID\n   * @param vertexCount \n   * @param vertexArray \n   * @param indexArray \n   * @param uvArray uv\n   * @param opacity \n   * @param colorBlendMode \n   * @param baseColor \n   * @param isPremultipliedAlpha \n   * @param matrix4x4 Model-View-Projection\n   * @param invertedMask \n   */\n  public setupShaderProgram(\n    renderer: CubismRenderer_WebGL,\n    textureId: WebGLTexture | null,\n    vertexCount: number,\n    vertexArray: Float32Array,\n    indexArray: Uint16Array,\n    uvArray: Float32Array,\n    bufferData: {\n      vertex: WebGLBuffer | null;\n      uv: WebGLBuffer | null;\n      index: WebGLBuffer | null;\n    },\n    opacity: number,\n    colorBlendMode: CubismBlendMode,\n    baseColor: CubismTextureColor,\n    isPremultipliedAlpha: boolean,\n    matrix4x4: CubismMatrix44,\n    invertedMask: boolean,\n  ): void {\n    if (!isPremultipliedAlpha) {\n      CubismLogError('NoPremultipliedAlpha is not allowed');\n    }\n\n    if (this._shaderSets.length == 0) {\n      this.generateShaders();\n    }\n\n    // Blending\n    let SRC_COLOR: number;\n    let DST_COLOR: number;\n    let SRC_ALPHA: number;\n    let DST_ALPHA: number;\n\n    const clippingContextBufferForMask = renderer.getClippingContextBufferForMask();\n\n    if (clippingContextBufferForMask != null) {\n      // \n      const shaderSet: CubismShaderSet = this._shaderSets[ShaderNames.ShaderNames_SetupMask];\n      this.gl.useProgram(shaderSet.shaderProgram);\n\n      // \n      this.gl.activeTexture(this.gl.TEXTURE0);\n      this.gl.bindTexture(this.gl.TEXTURE_2D, textureId);\n      this.gl.uniform1i(shaderSet.samplerTexture0Location, 0);\n\n      // (VBO)\n      if (bufferData.vertex == null) {\n        bufferData.vertex = this.gl.createBuffer();\n      }\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.vertex);\n      this.gl.bufferData(\n        this.gl.ARRAY_BUFFER,\n        vertexArray,\n        this.gl.DYNAMIC_DRAW,\n      );\n      this.gl.enableVertexAttribArray(shaderSet.attributePositionLocation);\n      this.gl.vertexAttribPointer(\n        shaderSet.attributePositionLocation,\n        2,\n        this.gl.FLOAT,\n        false,\n        0,\n        0,\n      );\n\n      // \n      if (bufferData.uv == null) {\n        bufferData.uv = this.gl.createBuffer();\n      }\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.uv);\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, uvArray, this.gl.DYNAMIC_DRAW);\n      this.gl.enableVertexAttribArray(shaderSet.attributeTexCoordLocation);\n      this.gl.vertexAttribPointer(\n        shaderSet.attributeTexCoordLocation,\n        2,\n        this.gl.FLOAT,\n        false,\n        0,\n        0,\n      );\n\n      // \n      const channelNo: number = clippingContextBufferForMask._layoutChannelNo;\n      const colorChannel: CubismTextureColor = clippingContextBufferForMask\n        .getClippingManager()\n        .getChannelFlagAsColor(channelNo);\n      this.gl.uniform4f(\n        shaderSet.uniformChannelFlagLocation,\n        colorChannel.R,\n        colorChannel.G,\n        colorChannel.B,\n        colorChannel.A,\n      );\n\n      this.gl.uniformMatrix4fv(\n        shaderSet.uniformClipMatrixLocation,\n        false,\n        clippingContextBufferForMask._matrixForMask.getArray(),\n      );\n\n      const rect: csmRect = clippingContextBufferForMask._layoutBounds;\n\n      this.gl.uniform4f(\n        shaderSet.uniformBaseColorLocation,\n        rect.x * 2.0 - 1.0,\n        rect.y * 2.0 - 1.0,\n        rect.getRight() * 2.0 - 1.0,\n        rect.getBottom() * 2.0 - 1.0,\n      );\n\n      SRC_COLOR = this.gl.ZERO;\n      DST_COLOR = this.gl.ONE_MINUS_SRC_COLOR;\n      SRC_ALPHA = this.gl.ZERO;\n      DST_ALPHA = this.gl.ONE_MINUS_SRC_ALPHA;\n    } // \n    else {\n      const clippingContextBufferForDraw = renderer.getClippingContextBufferForDraw();\n      const masked = clippingContextBufferForDraw != null; // \n      const offset: number = masked ? (invertedMask ? 2 : 1) : 0;\n\n      let shaderSet;\n\n      switch (colorBlendMode) {\n        case CubismBlendMode.CubismBlendMode_Normal:\n        default:\n          shaderSet = this._shaderSets[ShaderNames.ShaderNames_NormalPremultipliedAlpha + offset];\n          SRC_COLOR = this.gl.ONE;\n          DST_COLOR = this.gl.ONE_MINUS_SRC_ALPHA;\n          SRC_ALPHA = this.gl.ONE;\n          DST_ALPHA = this.gl.ONE_MINUS_SRC_ALPHA;\n          break;\n\n        case CubismBlendMode.CubismBlendMode_Additive:\n          shaderSet = this._shaderSets[ShaderNames.ShaderNames_AddPremultipliedAlpha + offset];\n          SRC_COLOR = this.gl.ONE;\n          DST_COLOR = this.gl.ONE;\n          SRC_ALPHA = this.gl.ZERO;\n          DST_ALPHA = this.gl.ONE;\n          break;\n\n        case CubismBlendMode.CubismBlendMode_Multiplicative:\n          shaderSet = this._shaderSets[ShaderNames.ShaderNames_MultPremultipliedAlpha + offset];\n          SRC_COLOR = this.gl.DST_COLOR;\n          DST_COLOR = this.gl.ONE_MINUS_SRC_ALPHA;\n          SRC_ALPHA = this.gl.ZERO;\n          DST_ALPHA = this.gl.ONE;\n          break;\n      }\n\n      this.gl.useProgram(shaderSet.shaderProgram);\n\n      // \n      if (bufferData.vertex == null) {\n        bufferData.vertex = this.gl.createBuffer();\n      }\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.vertex);\n      this.gl.bufferData(\n        this.gl.ARRAY_BUFFER,\n        vertexArray,\n        this.gl.DYNAMIC_DRAW,\n      );\n      this.gl.enableVertexAttribArray(shaderSet.attributePositionLocation);\n      this.gl.vertexAttribPointer(\n        shaderSet.attributePositionLocation,\n        2,\n        this.gl.FLOAT,\n        false,\n        0,\n        0,\n      );\n\n      // \n      if (bufferData.uv == null) {\n        bufferData.uv = this.gl.createBuffer();\n      }\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.uv);\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, uvArray, this.gl.DYNAMIC_DRAW);\n      this.gl.enableVertexAttribArray(shaderSet.attributeTexCoordLocation);\n      this.gl.vertexAttribPointer(\n        shaderSet.attributeTexCoordLocation,\n        2,\n        this.gl.FLOAT,\n        false,\n        0,\n        0,\n      );\n\n      // \n      if (clippingContextBufferForDraw != null) {\n        this.gl.activeTexture(this.gl.TEXTURE1);\n        const tex = clippingContextBufferForDraw\n          .getClippingManager()\n          .getColorBuffer();\n        this.gl.bindTexture(this.gl.TEXTURE_2D, tex);\n        this.gl.uniform1i(shaderSet.samplerTexture1Location, 1);\n\n        // viewClippingContext\n        this.gl.uniformMatrix4fv(\n          shaderSet.uniformClipMatrixLocation,\n          false,\n          clippingContextBufferForDraw._matrixForDraw.getArray(),\n        );\n\n        // \n        const channelNo: number = clippingContextBufferForDraw._layoutChannelNo;\n        const colorChannel: CubismTextureColor = clippingContextBufferForDraw\n          .getClippingManager()\n          .getChannelFlagAsColor(channelNo);\n        this.gl.uniform4f(\n          shaderSet.uniformChannelFlagLocation,\n          colorChannel.R,\n          colorChannel.G,\n          colorChannel.B,\n          colorChannel.A,\n        );\n      }\n\n      // \n      this.gl.activeTexture(this.gl.TEXTURE0);\n      this.gl.bindTexture(this.gl.TEXTURE_2D, textureId);\n      this.gl.uniform1i(shaderSet.samplerTexture0Location, 0);\n\n      // \n      this.gl.uniformMatrix4fv(\n        shaderSet.uniformMatrixLocation,\n        false,\n        matrix4x4.getArray(),\n      );\n\n      this.gl.uniform4f(\n        shaderSet.uniformBaseColorLocation,\n        baseColor.R,\n        baseColor.G,\n        baseColor.B,\n        baseColor.A,\n      );\n    }\n\n    // IBO\n    if (bufferData.index == null) {\n      bufferData.index = this.gl.createBuffer();\n    }\n    this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, bufferData.index);\n    this.gl.bufferData(\n      this.gl.ELEMENT_ARRAY_BUFFER,\n      indexArray,\n      this.gl.DYNAMIC_DRAW,\n    );\n    this.gl.blendFuncSeparate(SRC_COLOR, DST_COLOR, SRC_ALPHA, DST_ALPHA);\n  }\n\n  /**\n   * \n   */\n  public releaseShaderProgram(): void {\n    for (let i = 0; i < this._shaderSets.length; i++) {\n      this.gl.deleteProgram(this._shaderSets[i].shaderProgram);\n      this._shaderSets[i].shaderProgram = 0;\n    }\n\n    this._shaderSets = [];\n  }\n\n  /**\n   * \n   * @param vertShaderSrc \n   * @param fragShaderSrc \n   */\n  public generateShaders(): void {\n    for (let i = 0; i < shaderCount; i++) {\n      this._shaderSets.push({} as any);\n    }\n\n    this._shaderSets[0].shaderProgram = this.loadShaderProgram(\n      vertexShaderSrcSetupMask,\n      fragmentShaderSrcsetupMask,\n    );\n\n    this._shaderSets[1].shaderProgram = this.loadShaderProgram(\n      vertexShaderSrc,\n      fragmentShaderSrcPremultipliedAlpha,\n    );\n    this._shaderSets[2].shaderProgram = this.loadShaderProgram(\n      vertexShaderSrcMasked,\n      fragmentShaderSrcMaskPremultipliedAlpha,\n    );\n    this._shaderSets[3].shaderProgram = this.loadShaderProgram(\n      vertexShaderSrcMasked,\n      fragmentShaderSrcMaskInvertedPremultipliedAlpha,\n    );\n\n    // \n    this._shaderSets[4].shaderProgram = this._shaderSets[1].shaderProgram;\n    this._shaderSets[5].shaderProgram = this._shaderSets[2].shaderProgram;\n    this._shaderSets[6].shaderProgram = this._shaderSets[3].shaderProgram;\n\n    // \n    this._shaderSets[7].shaderProgram = this._shaderSets[1].shaderProgram;\n    this._shaderSets[8].shaderProgram = this._shaderSets[2].shaderProgram;\n    this._shaderSets[9].shaderProgram = this._shaderSets[3].shaderProgram;\n\n    // SetupMask\n    this._shaderSets[0].attributePositionLocation = this.gl.getAttribLocation(\n      this._shaderSets[0].shaderProgram,\n      'a_position',\n    );\n    this._shaderSets[0].attributeTexCoordLocation = this.gl.getAttribLocation(\n      this._shaderSets[0].shaderProgram,\n      'a_texCoord',\n    );\n    this._shaderSets[0].samplerTexture0Location = this.gl.getUniformLocation(\n      this._shaderSets[0].shaderProgram,\n      's_texture0',\n    );\n    this._shaderSets[0].uniformClipMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[0].shaderProgram,\n      'u_clipMatrix',\n    );\n    this._shaderSets[0].uniformChannelFlagLocation = this.gl.getUniformLocation(\n      this._shaderSets[0].shaderProgram,\n      'u_channelFlag',\n    );\n    this._shaderSets[0].uniformBaseColorLocation = this.gl.getUniformLocation(\n      this._shaderSets[0].shaderProgram,\n      'u_baseColor',\n    );\n\n    // PremultipliedAlpha\n    this._shaderSets[1].attributePositionLocation = this.gl.getAttribLocation(\n      this._shaderSets[1].shaderProgram,\n      'a_position',\n    );\n    this._shaderSets[1].attributeTexCoordLocation = this.gl.getAttribLocation(\n      this._shaderSets[1].shaderProgram,\n      'a_texCoord',\n    );\n    this._shaderSets[1].samplerTexture0Location = this.gl.getUniformLocation(\n      this._shaderSets[1].shaderProgram,\n      's_texture0',\n    );\n    this._shaderSets[1].uniformMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[1].shaderProgram,\n      'u_matrix',\n    );\n    this._shaderSets[1].uniformBaseColorLocation = this.gl.getUniformLocation(\n      this._shaderSets[1].shaderProgram,\n      'u_baseColor',\n    );\n\n    // PremultipliedAlpha\n    this._shaderSets[2].attributePositionLocation = this.gl.getAttribLocation(\n      this._shaderSets[2].shaderProgram,\n      'a_position',\n    );\n    this._shaderSets[2].attributeTexCoordLocation = this.gl.getAttribLocation(\n      this._shaderSets[2].shaderProgram,\n      'a_texCoord',\n    );\n    this._shaderSets[2].samplerTexture0Location = this.gl.getUniformLocation(\n      this._shaderSets[2].shaderProgram,\n      's_texture0',\n    );\n    this._shaderSets[2].samplerTexture1Location = this.gl.getUniformLocation(\n      this._shaderSets[2].shaderProgram,\n      's_texture1',\n    );\n    this._shaderSets[2].uniformMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[2].shaderProgram,\n      'u_matrix',\n    );\n    this._shaderSets[2].uniformClipMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[2].shaderProgram,\n      'u_clipMatrix',\n    );\n    this._shaderSets[2].uniformChannelFlagLocation = this.gl.getUniformLocation(\n      this._shaderSets[2].shaderProgram,\n      'u_channelFlag',\n    );\n    this._shaderSets[2].uniformBaseColorLocation = this.gl.getUniformLocation(\n      this._shaderSets[2].shaderProgram,\n      'u_baseColor',\n    );\n\n    // , PremultipliedAlpha\n    this._shaderSets[3].attributePositionLocation = this.gl.getAttribLocation(\n      this._shaderSets[3].shaderProgram,\n      'a_position',\n    );\n    this._shaderSets[3].attributeTexCoordLocation = this.gl.getAttribLocation(\n      this._shaderSets[3].shaderProgram,\n      'a_texCoord',\n    );\n    this._shaderSets[3].samplerTexture0Location = this.gl.getUniformLocation(\n      this._shaderSets[3].shaderProgram,\n      's_texture0',\n    );\n    this._shaderSets[3].samplerTexture1Location = this.gl.getUniformLocation(\n      this._shaderSets[3].shaderProgram,\n      's_texture1',\n    );\n    this._shaderSets[3].uniformMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[3].shaderProgram,\n      'u_matrix',\n    );\n    this._shaderSets[3].uniformClipMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[3].shaderProgram,\n      'u_clipMatrix',\n    );\n    this._shaderSets[3].uniformChannelFlagLocation = this.gl.getUniformLocation(\n      this._shaderSets[3].shaderProgram,\n      'u_channelFlag',\n    );\n    this._shaderSets[3].uniformBaseColorLocation = this.gl.getUniformLocation(\n      this._shaderSets[3].shaderProgram,\n      'u_baseColor',\n    );\n\n    // PremultipliedAlpha\n    this._shaderSets[4].attributePositionLocation = this.gl.getAttribLocation(\n      this._shaderSets[4].shaderProgram,\n      'a_position',\n    );\n    this._shaderSets[4].attributeTexCoordLocation = this.gl.getAttribLocation(\n      this._shaderSets[4].shaderProgram,\n      'a_texCoord',\n    );\n    this._shaderSets[4].samplerTexture0Location = this.gl.getUniformLocation(\n      this._shaderSets[4].shaderProgram,\n      's_texture0',\n    );\n    this._shaderSets[4].uniformMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[4].shaderProgram,\n      'u_matrix',\n    );\n    this._shaderSets[4].uniformBaseColorLocation = this.gl.getUniformLocation(\n      this._shaderSets[4].shaderProgram,\n      'u_baseColor',\n    );\n\n    // PremultipliedAlpha\n    this._shaderSets[5].attributePositionLocation = this.gl.getAttribLocation(\n      this._shaderSets[5].shaderProgram,\n      'a_position',\n    );\n    this._shaderSets[5].attributeTexCoordLocation = this.gl.getAttribLocation(\n      this._shaderSets[5].shaderProgram,\n      'a_texCoord',\n    );\n    this._shaderSets[5].samplerTexture0Location = this.gl.getUniformLocation(\n      this._shaderSets[5].shaderProgram,\n      's_texture0',\n    );\n    this._shaderSets[5].samplerTexture1Location = this.gl.getUniformLocation(\n      this._shaderSets[5].shaderProgram,\n      's_texture1',\n    );\n    this._shaderSets[5].uniformMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[5].shaderProgram,\n      'u_matrix',\n    );\n    this._shaderSets[5].uniformClipMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[5].shaderProgram,\n      'u_clipMatrix',\n    );\n    this._shaderSets[5].uniformChannelFlagLocation = this.gl.getUniformLocation(\n      this._shaderSets[5].shaderProgram,\n      'u_channelFlag',\n    );\n    this._shaderSets[5].uniformBaseColorLocation = this.gl.getUniformLocation(\n      this._shaderSets[5].shaderProgram,\n      'u_baseColor',\n    );\n\n    // PremultipliedAlpha\n    this._shaderSets[6].attributePositionLocation = this.gl.getAttribLocation(\n      this._shaderSets[6].shaderProgram,\n      'a_position',\n    );\n    this._shaderSets[6].attributeTexCoordLocation = this.gl.getAttribLocation(\n      this._shaderSets[6].shaderProgram,\n      'a_texCoord',\n    );\n    this._shaderSets[6].samplerTexture0Location = this.gl.getUniformLocation(\n      this._shaderSets[6].shaderProgram,\n      's_texture0',\n    );\n    this._shaderSets[6].samplerTexture1Location = this.gl.getUniformLocation(\n      this._shaderSets[6].shaderProgram,\n      's_texture1',\n    );\n    this._shaderSets[6].uniformMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[6].shaderProgram,\n      'u_matrix',\n    );\n    this._shaderSets[6].uniformClipMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[6].shaderProgram,\n      'u_clipMatrix',\n    );\n    this._shaderSets[6].uniformChannelFlagLocation = this.gl.getUniformLocation(\n      this._shaderSets[6].shaderProgram,\n      'u_channelFlag',\n    );\n    this._shaderSets[6].uniformBaseColorLocation = this.gl.getUniformLocation(\n      this._shaderSets[6].shaderProgram,\n      'u_baseColor',\n    );\n\n    // PremultipliedAlpha\n    this._shaderSets[7].attributePositionLocation = this.gl.getAttribLocation(\n      this._shaderSets[7].shaderProgram,\n      'a_position',\n    );\n    this._shaderSets[7].attributeTexCoordLocation = this.gl.getAttribLocation(\n      this._shaderSets[7].shaderProgram,\n      'a_texCoord',\n    );\n    this._shaderSets[7].samplerTexture0Location = this.gl.getUniformLocation(\n      this._shaderSets[7].shaderProgram,\n      's_texture0',\n    );\n    this._shaderSets[7].uniformMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[7].shaderProgram,\n      'u_matrix',\n    );\n    this._shaderSets[7].uniformBaseColorLocation = this.gl.getUniformLocation(\n      this._shaderSets[7].shaderProgram,\n      'u_baseColor',\n    );\n\n    // PremultipliedAlpha\n    this._shaderSets[8].attributePositionLocation = this.gl.getAttribLocation(\n      this._shaderSets[8].shaderProgram,\n      'a_position',\n    );\n    this._shaderSets[8].attributeTexCoordLocation = this.gl.getAttribLocation(\n      this._shaderSets[8].shaderProgram,\n      'a_texCoord',\n    );\n    this._shaderSets[8].samplerTexture0Location = this.gl.getUniformLocation(\n      this._shaderSets[8].shaderProgram,\n      's_texture0',\n    );\n    this._shaderSets[8].samplerTexture1Location = this.gl.getUniformLocation(\n      this._shaderSets[8].shaderProgram,\n      's_texture1',\n    );\n    this._shaderSets[8].uniformMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[8].shaderProgram,\n      'u_matrix',\n    );\n    this._shaderSets[8].uniformClipMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[8].shaderProgram,\n      'u_clipMatrix',\n    );\n    this._shaderSets[8].uniformChannelFlagLocation = this.gl.getUniformLocation(\n      this._shaderSets[8].shaderProgram,\n      'u_channelFlag',\n    );\n    this._shaderSets[8].uniformBaseColorLocation = this.gl.getUniformLocation(\n      this._shaderSets[8].shaderProgram,\n      'u_baseColor',\n    );\n\n    // PremultipliedAlpha\n    this._shaderSets[9].attributePositionLocation = this.gl.getAttribLocation(\n      this._shaderSets[9].shaderProgram,\n      'a_position',\n    );\n    this._shaderSets[9].attributeTexCoordLocation = this.gl.getAttribLocation(\n      this._shaderSets[9].shaderProgram,\n      'a_texCoord',\n    );\n    this._shaderSets[9].samplerTexture0Location = this.gl.getUniformLocation(\n      this._shaderSets[9].shaderProgram,\n      's_texture0',\n    );\n    this._shaderSets[9].samplerTexture1Location = this.gl.getUniformLocation(\n      this._shaderSets[9].shaderProgram,\n      's_texture1',\n    );\n    this._shaderSets[9].uniformMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[9].shaderProgram,\n      'u_matrix',\n    );\n    this._shaderSets[9].uniformClipMatrixLocation = this.gl.getUniformLocation(\n      this._shaderSets[9].shaderProgram,\n      'u_clipMatrix',\n    );\n    this._shaderSets[9].uniformChannelFlagLocation = this.gl.getUniformLocation(\n      this._shaderSets[9].shaderProgram,\n      'u_channelFlag',\n    );\n    this._shaderSets[9].uniformBaseColorLocation = this.gl.getUniformLocation(\n      this._shaderSets[9].shaderProgram,\n      'u_baseColor',\n    );\n  }\n\n  /**\n   * \n   * @param vertexShaderSource    \n   * @param fragmentShaderSource  \n   * @return \n   */\n  public loadShaderProgram(\n    vertexShaderSource: string,\n    fragmentShaderSource: string,\n  ): WebGLProgram {\n    // Create Shader Program\n    let shaderProgram = this.gl.createProgram()!;\n\n    let vertShader = this.compileShaderSource(\n      this.gl.VERTEX_SHADER,\n      vertexShaderSource,\n    );\n\n    if (!vertShader) {\n      CubismLogError('Vertex shader compile error!');\n      return 0;\n    }\n\n    let fragShader = this.compileShaderSource(\n      this.gl.FRAGMENT_SHADER,\n      fragmentShaderSource,\n    );\n    if (!fragShader) {\n      CubismLogError('Vertex shader compile error!');\n      return 0;\n    }\n\n    // Attach vertex shader to program\n    this.gl.attachShader(shaderProgram, vertShader);\n\n    // Attach fragment shader to program\n    this.gl.attachShader(shaderProgram, fragShader);\n\n    // link program\n    this.gl.linkProgram(shaderProgram);\n    const linkStatus = this.gl.getProgramParameter(\n      shaderProgram,\n      this.gl.LINK_STATUS,\n    );\n\n    // \n    if (!linkStatus) {\n      CubismLogError('Failed to link program: {0}', shaderProgram);\n\n      this.gl.deleteShader(vertShader);\n\n      this.gl.deleteShader(fragShader);\n\n      if (shaderProgram) {\n        this.gl.deleteProgram(shaderProgram);\n      }\n\n      return 0;\n    }\n\n    // Release vertex and fragment shaders.\n    this.gl.deleteShader(vertShader);\n    this.gl.deleteShader(fragShader);\n\n    return shaderProgram;\n  }\n\n  /**\n   * \n   * @param shaderType (Vertex/Fragment)\n   * @param shaderSource \n   *\n   * @return \n   */\n  public compileShaderSource(\n    shaderType: GLenum,\n    shaderSource: string,\n  ): WebGLProgram | null {\n    const source: string = shaderSource;\n\n    const shader = this.gl.createShader(shaderType)!;\n    this.gl.shaderSource(shader, source);\n    this.gl.compileShader(shader);\n\n    if (!shader) {\n      const log = this.gl.getShaderInfoLog(shader);\n      CubismLogError('Shader compile log: {0} ', log);\n    }\n\n    const status: any = this.gl.getShaderParameter(\n      shader,\n      this.gl.COMPILE_STATUS,\n    );\n    if (!status) {\n      this.gl.deleteShader(shader);\n      return null;\n    }\n\n    return shader;\n  }\n\n  public setGl(gl: WebGLRenderingContext): void {\n    this.gl = gl;\n  }\n\n  _shaderSets: CubismShaderSet[]; // \n  gl!: WebGLRenderingContext; // webgl\n}\n\n/**\n * CubismShader_WebGL\n */\nexport interface CubismShaderSet {\n  shaderProgram: WebGLProgram; // \n  attributePositionLocation: GLuint; // Position\n  attributeTexCoordLocation: GLuint; // TexCoord\n  uniformMatrixLocation: WebGLUniformLocation | null; // Matrix\n  uniformClipMatrixLocation: WebGLUniformLocation | null; // ClipMatrix\n  samplerTexture0Location: WebGLUniformLocation | null; // Texture0\n  samplerTexture1Location: WebGLUniformLocation | null; // Texture1\n  uniformBaseColorLocation: WebGLUniformLocation | null; // BaseColor\n  uniformChannelFlagLocation: WebGLUniformLocation | null; // ChannelFlag\n}\n\nexport enum ShaderNames {\n  // SetupMask\n  ShaderNames_SetupMask,\n\n  // Normal\n  ShaderNames_NormalPremultipliedAlpha,\n  ShaderNames_NormalMaskedPremultipliedAlpha,\n  ShaderNames_NomralMaskedInvertedPremultipliedAlpha,\n\n  // Add\n  ShaderNames_AddPremultipliedAlpha,\n  ShaderNames_AddMaskedPremultipliedAlpha,\n  ShaderNames_AddMaskedPremultipliedAlphaInverted,\n\n  // Mult\n  ShaderNames_MultPremultipliedAlpha,\n  ShaderNames_MultMaskedPremultipliedAlpha,\n  ShaderNames_MultMaskedPremultipliedAlphaInverted\n}\n\nexport const vertexShaderSrcSetupMask =\n  'attribute vec4     a_position;' +\n  'attribute vec2     a_texCoord;' +\n  'varying vec2       v_texCoord;' +\n  'varying vec4       v_myPos;' +\n  'uniform mat4       u_clipMatrix;' +\n  'void main()' +\n  '{' +\n  '   gl_Position = u_clipMatrix * a_position;' +\n  '   v_myPos = u_clipMatrix * a_position;' +\n  '   v_texCoord = a_texCoord;' +\n  '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n  '}';\nexport const fragmentShaderSrcsetupMask =\n  'precision mediump float;' +\n  'varying vec2       v_texCoord;' +\n  'varying vec4       v_myPos;' +\n  'uniform vec4       u_baseColor;' +\n  'uniform vec4       u_channelFlag;' +\n  'uniform sampler2D  s_texture0;' +\n  'void main()' +\n  '{' +\n  '   float isInside = ' +\n  '       step(u_baseColor.x, v_myPos.x/v_myPos.w)' +\n  '       * step(u_baseColor.y, v_myPos.y/v_myPos.w)' +\n  '       * step(v_myPos.x/v_myPos.w, u_baseColor.z)' +\n  '       * step(v_myPos.y/v_myPos.w, u_baseColor.w);' +\n  '   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;' +\n  '}';\n\n//-----  -----\n// Normal & Add & Mult \nexport const vertexShaderSrc =\n  'attribute vec4     a_position;' + //v.vertex\n  'attribute vec2     a_texCoord;' + //v.texcoord\n  'varying vec2       v_texCoord;' + //v2f.texcoord\n  'uniform mat4       u_matrix;' +\n  'void main()' +\n  '{' +\n  '   gl_Position = u_matrix * a_position;' +\n  '   v_texCoord = a_texCoord;' +\n  '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n  '}';\n\n// Normal & Add & Mult \nexport const vertexShaderSrcMasked =\n  'attribute vec4     a_position;' +\n  'attribute vec2     a_texCoord;' +\n  'varying vec2       v_texCoord;' +\n  'varying vec4       v_clipPos;' +\n  'uniform mat4       u_matrix;' +\n  'uniform mat4       u_clipMatrix;' +\n  'void main()' +\n  '{' +\n  '   gl_Position = u_matrix * a_position;' +\n  '   v_clipPos = u_clipMatrix * a_position;' +\n  '   v_texCoord = a_texCoord;' +\n  '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n  '}';\n\n//-----  -----\n// Normal & Add & Mult  PremultipliedAlpha\nexport const fragmentShaderSrcPremultipliedAlpha =\n  'precision mediump float;' +\n  'varying vec2       v_texCoord;' + //v2f.texcoord\n  'uniform vec4       u_baseColor;' +\n  'uniform sampler2D  s_texture0;' + //_MainTex\n  'void main()' +\n  '{' +\n  '   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;' +\n  '}';\n\n// Normal PremultipliedAlpha\nexport const fragmentShaderSrcMaskPremultipliedAlpha =\n  'precision mediump float;' +\n  'varying vec2       v_texCoord;' +\n  'varying vec4       v_clipPos;' +\n  'uniform vec4       u_baseColor;' +\n  'uniform vec4       u_channelFlag;' +\n  'uniform sampler2D  s_texture0;' +\n  'uniform sampler2D  s_texture1;' +\n  'void main()' +\n  '{' +\n  '   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;' +\n  '   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;' +\n  '   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;' +\n  '   col_formask = col_formask * maskVal;' +\n  '   gl_FragColor = col_formask;' +\n  '}';\n\n// Normal & Add & Mult PremultipliedAlpha\nexport const fragmentShaderSrcMaskInvertedPremultipliedAlpha =\n  'precision mediump float;' +\n  'varying vec2 v_texCoord;' +\n  'varying vec4 v_clipPos;' +\n  'uniform sampler2D s_texture0;' +\n  'uniform sampler2D s_texture1;' +\n  'uniform vec4 u_channelFlag;' +\n  'uniform vec4 u_baseColor;' +\n  'void main()' +\n  '{' +\n  'vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;' +\n  'vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;' +\n  'float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;' +\n  'col_formask = col_formask * (1.0 - maskVal);' +\n  'gl_FragColor = col_formask;' +\n  '}';\n\n/**\n * WebGL\n */\nexport class CubismRenderer_WebGL extends CubismRenderer {\n  /**\n   * \n   * \n   *\n   * @param model \n   */\n  public initialize(model: CubismModel): void {\n    if (model.isUsingMasking()) {\n      this._clippingManager = new CubismClippingManager_WebGL(); // \n      this._clippingManager.initialize(\n        model,\n        model.getDrawableCount(),\n        model.getDrawableMasks(),\n        model.getDrawableMaskCounts(),\n      );\n    }\n\n    for (let i = model.getDrawableCount() - 1; i >= 0; i--) {\n      this._sortedDrawableIndexList[i] = 0;\n    }\n\n    super.initialize(model); // \n  }\n\n  /**\n   * WebGL\n   * CubismRendererCubismRendererIndex\n   * @param modelTextureNo \n   * @param glTextureNo WebGL\n   */\n  public bindTexture(modelTextureNo: number, glTexture: WebGLTexture): void {\n    this._textures[modelTextureNo] = glTexture;\n  }\n\n  /**\n   * WebGL\n   * @return \n   */\n  public getBindedTextures(): Record<number, WebGLTexture> {\n    return this._textures;\n  }\n\n  /**\n   * \n   * FrameBuffer\n   * @param size \n   */\n  public setClippingMaskBufferSize(size: number) {\n    // FrameBuffer\n    this._clippingManager.release();\n\n    this._clippingManager = new CubismClippingManager_WebGL();\n\n    this._clippingManager.setClippingMaskBufferSize(size);\n\n    this._clippingManager.initialize(\n      this.getModel(),\n      this.getModel().getDrawableCount(),\n      this.getModel().getDrawableMasks(),\n      this.getModel().getDrawableMaskCounts(),\n    );\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getClippingMaskBufferSize(): number {\n    return this._clippingManager.getClippingMaskBufferSize();\n  }\n\n  /**\n   * \n   */\n  public constructor() {\n    super();\n    this._clippingContextBufferForMask = null;\n    this._clippingContextBufferForDraw = null;\n    this._clippingManager = new CubismClippingManager_WebGL();\n    this.firstDraw = true;\n    this._textures = {};\n    this._sortedDrawableIndexList = [];\n    this._bufferData = {\n      vertex: null,\n      uv: null,\n      index: null,\n    };\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    const self = this as Partial<this>;\n\n    this._clippingManager.release();\n    self._clippingManager = undefined;\n\n    this.gl?.deleteBuffer(this._bufferData.vertex);\n    this._bufferData.vertex = null;\n    this.gl?.deleteBuffer(this._bufferData.uv);\n    this._bufferData.uv = null;\n    this.gl?.deleteBuffer(this._bufferData.index);\n    this._bufferData.index = null;\n    self._bufferData = undefined;\n\n    self._textures = undefined;\n  }\n\n  /**\n   * \n   */\n  public doDrawModel(): void {\n    // PreDraw!!\n    this.preDraw();\n\n    //------------  ------------\n    if (this._clippingManager != null) {\n      this._clippingManager.setupClippingContext(this.getModel(), this);\n    }\n\n    const drawableCount: number = this.getModel().getDrawableCount();\n    const renderOrder: Int32Array = this.getModel().getDrawableRenderOrders();\n\n    // \n    for (let i = 0; i < drawableCount; ++i) {\n      const order: number = renderOrder[i];\n      this._sortedDrawableIndexList[order] = i;\n    }\n\n    // \n    for (let i = 0; i < drawableCount; ++i) {\n      const drawableIndex: number = this._sortedDrawableIndexList[i];\n\n      // Drawable\n      if (!this.getModel().getDrawableDynamicFlagIsVisible(drawableIndex)) {\n        continue;\n      }\n\n      // \n      this.setClippingContextBufferForDraw(\n        this._clippingManager != null\n          ? this._clippingManager.getClippingContextListForDraw()[drawableIndex]\n          : null,\n      );\n\n      this.setIsCulling(this.getModel().getDrawableCulling(drawableIndex));\n\n      this.drawMesh(\n        this.getModel().getDrawableTextureIndices(drawableIndex),\n        this.getModel().getDrawableVertexIndexCount(drawableIndex),\n        this.getModel().getDrawableVertexCount(drawableIndex),\n        this.getModel().getDrawableVertexIndices(drawableIndex),\n        this.getModel().getDrawableVertices(drawableIndex),\n        this.getModel().getDrawableVertexUvs(drawableIndex),\n        this.getModel().getDrawableOpacity(drawableIndex),\n        this.getModel().getDrawableBlendMode(drawableIndex),\n        this.getModel().getDrawableInvertedMaskBit(drawableIndex),\n      );\n    }\n  }\n\n  /**\n   * []\n   * \n   * \n   * @param textureNo \n   * @param indexCount \n   * @param vertexCount \n   * @param indexArray \n   * @param vertexArray \n   * @param uvArray uv\n   * @param opacity \n   * @param colorBlendMode \n   * @param invertedMask \n   */\n  public drawMesh(\n    textureNo: number,\n    indexCount: number,\n    vertexCount: number,\n    indexArray: Uint16Array,\n    vertexArray: Float32Array,\n    uvArray: Float32Array,\n    opacity: number,\n    colorBlendMode: CubismBlendMode,\n    invertedMask: boolean,\n  ): void {\n    // \n    if (this.isCulling()) {\n      this.gl.enable(this.gl.CULL_FACE);\n    } else {\n      this.gl.disable(this.gl.CULL_FACE);\n    }\n\n    this.gl.frontFace(this.gl.CCW); // Cubism SDK OpenGLCCW\n\n    const modelColorRGBA: CubismTextureColor = this.getModelColor();\n\n    if (this.getClippingContextBufferForMask() == null) {\n      // \n      modelColorRGBA.A *= opacity;\n      if (this.isPremultipliedAlpha()) {\n        modelColorRGBA.R *= modelColorRGBA.A;\n        modelColorRGBA.G *= modelColorRGBA.A;\n        modelColorRGBA.B *= modelColorRGBA.A;\n      }\n    }\n\n    let drawtexture: WebGLTexture | null = null; // \n\n    // \n    // ID\n    if (this._textures[textureNo] != null) {\n      drawtexture = this._textures[textureNo];\n    }\n\n    CubismShader_WebGL.getInstance().setupShaderProgram(\n      this,\n      drawtexture,\n      vertexCount,\n      vertexArray,\n      indexArray,\n      uvArray,\n      this._bufferData,\n      opacity,\n      colorBlendMode,\n      modelColorRGBA,\n      this.isPremultipliedAlpha(),\n      this.getMvpMatrix(),\n      invertedMask,\n    );\n\n    // \n    this.gl.drawElements(\n      this.gl.TRIANGLES,\n      indexCount,\n      this.gl.UNSIGNED_SHORT,\n      0,\n    );\n\n    // \n    this.gl.useProgram(null);\n    this.setClippingContextBufferForDraw(null);\n    this.setClippingContextBufferForMask(null);\n  }\n\n  /**\n   * \n   * WebGL\n   */\n  public static doStaticRelease(): void {\n    CubismShader_WebGL.deleteInstance();\n  }\n\n  /**\n   * \n   * @param fbo \n   * @param viewport \n   */\n  public setRenderState(fbo: WebGLFramebuffer, viewport: number[]): void {\n    s_fbo = fbo;\n    s_viewport = viewport;\n  }\n\n  /**\n   * \n   * \n   */\n  public preDraw(): void {\n    if (this.firstDraw) {\n      this.firstDraw = false;\n\n      // \n      this._anisortopy =\n        this.gl.getExtension('EXT_texture_filter_anisotropic') ||\n        this.gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic') ||\n        this.gl.getExtension('MOZ_EXT_texture_filter_anisotropic');\n    }\n\n    this.gl.disable(this.gl.SCISSOR_TEST);\n    this.gl.disable(this.gl.STENCIL_TEST);\n    this.gl.disable(this.gl.DEPTH_TEST);\n\n    // 1.0beta3\n    this.gl.frontFace(this.gl.CW);\n\n    this.gl.enable(this.gl.BLEND);\n    this.gl.colorMask(true, true, true, true);\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null); // \n    this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, null);\n  }\n\n  /**\n   * \n   */\n  public setClippingContextBufferForMask(clip: CubismClippingContext | null) {\n    this._clippingContextBufferForMask = clip;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getClippingContextBufferForMask(): CubismClippingContext | null {\n    return this._clippingContextBufferForMask;\n  }\n\n  /**\n   * \n   */\n  public setClippingContextBufferForDraw(clip: CubismClippingContext | null): void {\n    this._clippingContextBufferForDraw = clip;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getClippingContextBufferForDraw(): CubismClippingContext | null {\n    return this._clippingContextBufferForDraw;\n  }\n\n  /**\n   * gl\n   */\n  public startUp(gl: WebGLRenderingContext): void {\n    this.gl = gl;\n    this._clippingManager.setGL(gl);\n    CubismShader_WebGL.getInstance().setGl(gl);\n  }\n\n  _textures: Record<number, WebGLTexture>; // \n  _sortedDrawableIndexList: number[]; // \n  _clippingManager: CubismClippingManager_WebGL; // \n  _clippingContextBufferForMask: CubismClippingContext | null; // \n  _clippingContextBufferForDraw: CubismClippingContext | null; // \n  firstDraw: boolean;\n  _bufferData: {\n    vertex: WebGLBuffer | null;\n    uv: WebGLBuffer | null;\n    index: WebGLBuffer | null;\n  }; // \n  gl!: WebGLRenderingContext; // webgl\n}\n\n/**\n * \n */\nCubismRenderer.staticRelease = (): void => {\n  CubismRenderer_WebGL.doStaticRelease();\n};\n","import { InternalModelOptions } from '@/cubism-common';\nimport { CommonHitArea, CommonLayout, InternalModel } from '@/cubism-common/InternalModel';\nimport { Cubism4ModelSettings } from '@/cubism4/Cubism4ModelSettings';\nimport { Cubism4MotionManager } from '@/cubism4/Cubism4MotionManager';\nimport {\n    ParamAngleX,\n    ParamAngleY,\n    ParamAngleZ,\n    ParamBodyAngleX,\n    ParamBreath,\n    ParamEyeBallX,\n    ParamEyeBallY,\n} from '@cubism/cubismdefaultparameterid';\nimport { BreathParameterData, CubismBreath } from '@cubism/effect/cubismbreath';\nimport { CubismEyeBlink } from '@cubism/effect/cubismeyeblink';\nimport { CubismPose } from '@cubism/effect/cubismpose';\nimport { CubismMatrix44 } from '@cubism/math/cubismmatrix44';\nimport { CubismModel } from '@cubism/model/cubismmodel';\nimport { CubismModelUserData } from '@cubism/model/cubismmodeluserdata';\nimport { CubismPhysics } from '@cubism/physics/cubismphysics';\nimport { CubismRenderer_WebGL, CubismShader_WebGL } from '@cubism/rendering/cubismrenderer_webgl';\nimport { Matrix } from '@pixi/math';\nimport mapKeys from 'lodash/mapKeys';\n\nconst tempMatrix = new CubismMatrix44();\n\nexport class Cubism4InternalModel extends InternalModel {\n    settings: Cubism4ModelSettings;\n    coreModel: CubismModel;\n    motionManager: Cubism4MotionManager;\n\n    lipSync = true;\n\n    breath = CubismBreath.create();\n    eyeBlink?: CubismEyeBlink;\n    pose?: CubismPose;\n    physics?: CubismPhysics;\n\n    // what's this for?\n    userData?: CubismModelUserData;\n\n    renderer = new CubismRenderer_WebGL();\n\n    idParamAngleX = ParamAngleX;\n    idParamAngleY = ParamAngleY;\n    idParamAngleZ = ParamAngleZ;\n    idParamEyeBallX = ParamEyeBallX;\n    idParamEyeBallY = ParamEyeBallY;\n    idParamBodyAngleX = ParamBodyAngleX;\n    idParamBreath = ParamBreath;\n\n    /**\n     * The model's internal scale, defined in the moc3 file.\n     */\n    readonly pixelsPerUnit: number = 1;\n\n    /**\n     * Matrix that scales by {@link pixelsPerUnit}, and moves the origin from top-left to center.\n     *\n     * FIXME: This shouldn't be named as \"centering\"...\n     */\n    protected centeringTransform = new Matrix();\n\n    constructor(coreModel: CubismModel, settings: Cubism4ModelSettings, options?: InternalModelOptions) {\n        super();\n\n        this.coreModel = coreModel;\n        this.settings = settings;\n        this.motionManager = new Cubism4MotionManager(settings, options);\n\n        this.init();\n    }\n\n    protected init() {\n        super.init();\n\n        if (this.settings.getEyeBlinkParameters()?.length! > 0) {\n            this.eyeBlink = CubismEyeBlink.create(this.settings);\n        }\n\n        this.breath.setParameters([\n            new BreathParameterData(this.idParamAngleX, 0.0, 15.0, 6.5345, 0.5),\n            new BreathParameterData(this.idParamAngleY, 0.0, 8.0, 3.5345, 0.5),\n            new BreathParameterData(this.idParamAngleZ, 0.0, 10.0, 5.5345, 0.5),\n            new BreathParameterData(this.idParamBodyAngleX, 0.0, 4.0, 15.5345, 0.5),\n            new BreathParameterData(this.idParamBreath, 0.0, 0.5, 3.2345, 0.5),\n        ]);\n\n        this.renderer.initialize(this.coreModel);\n        this.renderer.setIsPremultipliedAlpha(true);\n    }\n\n    protected getSize(): [number, number] {\n        return [this.coreModel.getModel().canvasinfo.CanvasWidth, this.coreModel.getModel().canvasinfo.CanvasHeight];\n    }\n\n    protected getLayout(): CommonLayout {\n        // un-capitalize each key to satisfy the common layout format\n        // e.g. CenterX -> centerX\n        return mapKeys({ ...this.settings.layout }, (_, key) => key.charAt(0).toLowerCase() + key.slice(1));\n    }\n\n    protected setupLayout() {\n        super.setupLayout();\n\n        (this as Mutable<this>).pixelsPerUnit = this.coreModel.getModel().canvasinfo.PixelsPerUnit;\n\n        // move the origin from top left to center\n        this.centeringTransform\n            .scale(this.pixelsPerUnit, this.pixelsPerUnit)\n            .translate(this.originalWidth / 2, this.originalHeight / 2);\n    }\n\n    updateWebGLContext(gl: WebGLRenderingContext, glContextID: number): void {\n        // reset resources that were bound to previous WebGL context\n        this.renderer.firstDraw = true;\n        this.renderer._bufferData = {\n            vertex: null,\n            uv: null,\n            index: null,\n        };\n        this.renderer.startUp(gl);\n        this.renderer._clippingManager._currentFrameNo = glContextID;\n        this.renderer._clippingManager._maskTexture = undefined;\n        CubismShader_WebGL.getInstance()._shaderSets = [];\n    }\n\n    bindTexture(index: number, texture: WebGLTexture): void {\n        this.renderer.bindTexture(index, texture);\n    }\n\n    protected getHitAreaDefs(): CommonHitArea[] {\n        return this.settings.hitAreas?.map(hitArea => ({\n            id: hitArea.Id,\n            name: hitArea.Name,\n            index: this.coreModel.getDrawableIndex(hitArea.Id),\n        })) ?? [];\n    }\n\n    getDrawableIDs(): string[] {\n        return this.coreModel.getDrawableIds();\n    }\n\n    getDrawableIndex(id: string): number {\n        return this.coreModel.getDrawableIndex(id);\n    }\n\n    getDrawableVertices(drawIndex: number | string): Float32Array {\n        if (typeof drawIndex === 'string') {\n            drawIndex = this.coreModel.getDrawableIndex(drawIndex);\n\n            if (drawIndex === -1) throw new TypeError('Unable to find drawable ID: ' + drawIndex);\n        }\n\n        const arr = this.coreModel.getDrawableVertices(drawIndex).slice();\n\n        for (let i = 0; i < arr.length; i += 2) {\n            arr[i] = arr[i]! * this.pixelsPerUnit + this.originalWidth / 2;\n            arr[i + 1] = -arr[i + 1]! * this.pixelsPerUnit + this.originalHeight / 2;\n        }\n\n        return arr;\n    }\n\n    updateTransform(transform: Matrix) {\n        this.drawingMatrix\n            .copyFrom(this.centeringTransform)\n            .prepend(this.localTransform)\n            .prepend(transform);\n    }\n\n    public update(dt: DOMHighResTimeStamp, now: DOMHighResTimeStamp): void {\n        super.update(dt, now);\n\n        // cubism4 uses seconds\n        dt /= 1000;\n        now /= 1000;\n\n        const model = this.coreModel;\n\n        this.emit('beforeMotionUpdate');\n\n        const motionUpdated = this.motionManager.update(this.coreModel, now);\n\n        this.emit('afterMotionUpdate');\n\n        model.saveParameters();\n\n        if (!motionUpdated) {\n            this.eyeBlink?.updateParameters(model, dt);\n        }\n\n        this.updateFocus();\n\n        // revert the timestamps to be milliseconds\n        this.updateNaturalMovements(dt * 1000, now * 1000);\n\n        // TODO: Add lip sync API\n        // if (this.lipSync) {\n        //     const value = 0; // 0 ~ 1\n        //\n        //     for (let i = 0; i < this.lipSyncIds.length; ++i) {\n        //         model.addParameterValueById(this.lipSyncIds[i], value, 0.8);\n        //     }\n        // }\n\n        this.physics?.evaluate(model, dt);\n        this.pose?.updateParameters(model, dt);\n\n        this.emit('beforeModelUpdate');\n\n        model.update();\n        model.loadParameters();\n    }\n\n    updateFocus() {\n        this.coreModel.addParameterValueById(this.idParamEyeBallX, this.focusController.x); // -1 ~ 1\n        this.coreModel.addParameterValueById(this.idParamEyeBallY, this.focusController.y);\n        this.coreModel.addParameterValueById(this.idParamAngleX, this.focusController.x * 30); // -30 ~ 30\n        this.coreModel.addParameterValueById(this.idParamAngleY, this.focusController.y * 30);\n        this.coreModel.addParameterValueById(this.idParamAngleZ, this.focusController.x * this.focusController.y * -30);\n        this.coreModel.addParameterValueById(this.idParamBodyAngleX, this.focusController.x * 10); // -10 ~ 10\n    }\n\n    updateNaturalMovements(dt: DOMHighResTimeStamp, now: DOMHighResTimeStamp) {\n        this.breath?.updateParameters(this.coreModel, dt / 1000);\n    }\n\n    draw(gl: WebGLRenderingContext): void {\n        const matrix = this.drawingMatrix;\n        const array = tempMatrix.getArray();\n\n        // set given 3x3 matrix into a 4x4 matrix, with Y inverted\n        array[0] = matrix.a;\n        array[1] = matrix.b;\n        array[4] = -matrix.c;\n        array[5] = -matrix.d;\n        array[12] = matrix.tx;\n        array[13] = matrix.ty;\n\n        this.renderer.setMvpMatrix(tempMatrix);\n        this.renderer.setRenderState(gl.getParameter(gl.FRAMEBUFFER_BINDING), this.viewport);\n        this.renderer.drawModel();\n    }\n\n    destroy() {\n        super.destroy();\n\n        this.renderer.release();\n        this.coreModel.release();\n\n        (this as Partial<this>).renderer = undefined;\n        (this as Partial<this>).coreModel = undefined;\n    }\n}\n","import { logger } from '@/utils';\nimport { CubismFramework, CubismStartupOption, LogLevel } from '@cubism/live2dcubismframework';\n\nlet startupPromise: Promise<void>;\nlet startupRetries = 20;\n\n/**\n * Promises the Cubism 4 runtime has been started up.\n * @return Promise that resolves if the startup has succeeded, rejects if failed.\n */\nexport function cubism4Ready(): Promise<void> {\n    if (CubismFramework.isStarted()) {\n        return Promise.resolve();\n    }\n\n    startupPromise ??= new Promise<void>(((resolve, reject) => {\n        function startUpWithRetry() {\n            try {\n                startUpCubism4();\n                resolve();\n            } catch (e) {\n                startupRetries--;\n\n                if (startupRetries < 0) {\n                    const err = new Error('Failed to start up Cubism 4 framework.');\n\n                    (err as any).cause = e;\n\n                    reject(err);\n                    return;\n                }\n\n                logger.log('Cubism4', 'Startup failed, retrying 10ms later...');\n\n                setTimeout(startUpWithRetry, 10);\n            }\n        }\n\n        startUpWithRetry();\n    }));\n\n    return startupPromise;\n}\n\n/**\n * Starts up the Cubism 4 runtime.\n */\nexport function startUpCubism4(options?: CubismStartupOption) {\n    options = Object.assign({\n        logFunction: console.log,\n        loggingLevel: LogLevel.LogLevel_Verbose,\n    }, options);\n\n    CubismFramework.startUp(options);\n    CubismFramework.initialize();\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismModel } from '../model/cubismmodel';\n\nconst Epsilon = 0.001;\nconst DefaultFadeInSeconds = 0.5;\n\n/**\n * \n *\n * \n */\nexport class CubismPose {\n  /**\n   * \n   * @param pose3json pose3.json\n   * @return \n   */\n  public static create(pose3json: CubismSpec.PoseJSON): CubismPose {\n    const ret: CubismPose = new CubismPose();\n\n    // \n    if (typeof pose3json.FadeInTime === 'number') {\n      ret._fadeTimeSeconds = pose3json.FadeInTime;\n\n      if (ret._fadeTimeSeconds <= 0.0) {\n        ret._fadeTimeSeconds = DefaultFadeInSeconds;\n      }\n    }\n\n    // \n    const poseListInfo = pose3json.Groups;\n    const poseCount: number = poseListInfo.length;\n\n    for (let poseIndex = 0; poseIndex < poseCount; ++poseIndex) {\n      const idListInfo = poseListInfo[poseIndex];\n      const idCount: number = idListInfo.length;\n      let groupCount = 0;\n\n      for (let groupIndex = 0; groupIndex < idCount; ++groupIndex) {\n        const partInfo = idListInfo[groupIndex];\n        const partData: PartData = new PartData();\n\n        partData.partId = partInfo.Id;\n\n        const linkListInfo = partInfo.Link;\n\n        // \n        if (linkListInfo) {\n          const linkCount: number = linkListInfo.length;\n\n          for (let linkIndex = 0; linkIndex < linkCount; ++linkIndex) {\n            const linkPart: PartData = new PartData();\n\n            linkPart.partId = linkListInfo[linkIndex];\n\n            partData.link.push(linkPart);\n          }\n        }\n\n        ret._partGroups.push(partData);\n\n        ++groupCount;\n      }\n\n      ret._partGroupCounts.push(groupCount);\n    }\n\n    return ret;\n  }\n\n  /**\n   * \n   * @param model \n   * @param deltaTimeSeconds []\n   */\n  public updateParameters(\n    model: CubismModel,\n    deltaTimeSeconds: number,\n  ): void {\n    // \n    if (model != this._lastModel) {\n      // \n      this.reset(model);\n    }\n\n    this._lastModel = model;\n\n    // 0\n    if (deltaTimeSeconds < 0.0) {\n      deltaTimeSeconds = 0.0;\n    }\n\n    let beginIndex = 0;\n\n    for (let i = 0; i < this._partGroupCounts.length; i++) {\n      const partGroupCount: number = this._partGroupCounts[i];\n\n      this.doFade(model, deltaTimeSeconds, beginIndex, partGroupCount);\n\n      beginIndex += partGroupCount;\n    }\n\n    this.copyPartOpacities(model);\n  }\n\n  /**\n   * \n   * @param model \n   * @note 0\n   */\n  public reset(model: CubismModel): void {\n    let beginIndex = 0;\n\n    for (let i = 0; i < this._partGroupCounts.length; ++i) {\n      const groupCount: number = this._partGroupCounts[i];\n\n      for (let j: number = beginIndex; j < beginIndex + groupCount; ++j) {\n        this._partGroups[j].initialize(model);\n\n        const partsIndex: number = this._partGroups[j].partIndex;\n        const paramIndex: number = this._partGroups[j].parameterIndex;\n\n        if (partsIndex < 0) {\n          continue;\n        }\n\n        model.setPartOpacityByIndex(partsIndex, j == beginIndex ? 1.0 : 0.0);\n        model.setParameterValueByIndex(\n          paramIndex,\n          j == beginIndex ? 1.0 : 0.0,\n        );\n\n        for (let k = 0; k < this._partGroups[j].link.length; ++k) {\n          this._partGroups\n            [j]\n            .link[k]\n            .initialize(model);\n        }\n      }\n\n      beginIndex += groupCount;\n    }\n  }\n\n  /**\n   * \n   *\n   * @param model \n   */\n  public copyPartOpacities(model: CubismModel): void {\n    for (\n      let groupIndex = 0;\n      groupIndex < this._partGroups.length;\n      ++groupIndex\n    ) {\n      const partData: PartData = this._partGroups[groupIndex];\n\n      if (partData.link.length == 0) {\n        continue; // \n      }\n\n      const partIndex: number = this._partGroups[groupIndex].partIndex;\n      const opacity: number = model.getPartOpacityByIndex(partIndex);\n\n      for (\n        let linkIndex = 0;\n        linkIndex < partData.link.length;\n        ++linkIndex\n      ) {\n        const linkPart: PartData = partData.link[linkIndex];\n        const linkPartIndex: number = linkPart.partIndex;\n\n        if (linkPartIndex < 0) {\n          continue;\n        }\n\n        model.setPartOpacityByIndex(linkPartIndex, opacity);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param model \n   * @param deltaTimeSeconds []\n   * @param beginIndex \n   * @param partGroupCount \n   */\n  public doFade(\n    model: CubismModel,\n    deltaTimeSeconds: number,\n    beginIndex: number,\n    partGroupCount: number,\n  ): void {\n    let visiblePartIndex = -1;\n    let newOpacity = 1.0;\n\n    const phi = 0.5;\n    const backOpacityThreshold = 0.15;\n\n    // \n    for (let i: number = beginIndex; i < beginIndex + partGroupCount; ++i) {\n      const partIndex: number = this._partGroups[i].partIndex;\n      const paramIndex: number = this._partGroups[i].parameterIndex;\n\n      if (model.getParameterValueByIndex(paramIndex) > Epsilon) {\n        if (visiblePartIndex >= 0) {\n          break;\n        }\n\n        visiblePartIndex = i;\n        newOpacity = model.getPartOpacityByIndex(partIndex);\n\n        // \n        newOpacity += deltaTimeSeconds / this._fadeTimeSeconds;\n\n        if (newOpacity > 1.0) {\n          newOpacity = 1.0;\n        }\n      }\n    }\n\n    if (visiblePartIndex < 0) {\n      visiblePartIndex = 0;\n      newOpacity = 1.0;\n    }\n\n    // \n    for (let i: number = beginIndex; i < beginIndex + partGroupCount; ++i) {\n      const partsIndex: number = this._partGroups[i].partIndex;\n\n      // \n      if (visiblePartIndex == i) {\n        model.setPartOpacityByIndex(partsIndex, newOpacity); // \n      }\n      // \n      else {\n        let opacity: number = model.getPartOpacityByIndex(partsIndex);\n        let a1: number; // \n\n        if (newOpacity < phi) {\n          a1 = (newOpacity * (phi - 1)) / phi + 1.0; // (0,1),(phi,phi)\n        } else {\n          a1 = ((1 - newOpacity) * phi) / (1.0 - phi); // (1,0),(phi,phi)\n        }\n\n        // \n        const backOpacity: number = (1.0 - a1) * (1.0 - newOpacity);\n\n        if (backOpacity > backOpacityThreshold) {\n          a1 = 1.0 - backOpacityThreshold / (1.0 - newOpacity);\n        }\n\n        if (opacity > a1) {\n          opacity = a1; // \n        }\n\n        model.setPartOpacityByIndex(partsIndex, opacity);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public constructor() {\n    this._fadeTimeSeconds = DefaultFadeInSeconds;\n    this._lastModel = undefined;\n    this._partGroups = [];\n    this._partGroupCounts = [];\n  }\n\n  _partGroups: PartData[]; // \n  _partGroupCounts: number[]; // \n  _fadeTimeSeconds: number; // []\n  _lastModel?: CubismModel; // \n}\n\n/**\n * \n */\nexport class PartData {\n  /**\n   * \n   */\n  constructor(v?: PartData) {\n    this.parameterIndex = 0;\n    this.partIndex = 0;\n    this.partId = '';\n    this.link = [];\n\n    if (v != undefined) {\n      this.assignment(v);\n    }\n  }\n\n  /**\n   * =\n   */\n  public assignment(v: PartData): PartData {\n    this.partId = v.partId;\n    this.link = v.link.map(link => link.clone());\n\n    return this;\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public initialize(model: CubismModel): void {\n    this.parameterIndex = model.getParameterIndex(this.partId);\n    this.partIndex = model.getPartIndex(this.partId);\n\n    model.setParameterValueByIndex(this.parameterIndex, 1);\n  }\n\n  /**\n   * \n   */\n  public clone(): PartData {\n    const clonePartData: PartData = new PartData();\n\n    clonePartData.partId = this.partId;\n    clonePartData.parameterIndex = this.parameterIndex;\n    clonePartData.partIndex = this.partIndex;\n    clonePartData.link = this.link.map(link => link.clone());\n\n    return clonePartData;\n  }\n\n  partId: string; // ID\n  parameterIndex: number; // \n  partIndex: number; // \n  link: PartData[]; // \n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismBlendMode } from '../rendering/cubismrenderer';\nimport { CSM_ASSERT } from '../utils/cubismdebug';\n\n/**\n * \n *\n * Moc\n */\nexport class CubismModel {\n  /**\n   * \n   */\n  public update(): void {\n    // Update model\n    this._model.update();\n\n    this._model.drawables.resetDynamicFlags();\n  }\n\n  /**\n   * \n   */\n  public getCanvasWidth(): number {\n    if (this._model == null) {\n      return 0.0;\n    }\n\n    return (\n      this._model.canvasinfo.CanvasWidth /\n      this._model.canvasinfo.PixelsPerUnit\n    );\n  }\n\n  /**\n   * \n   */\n  public getCanvasHeight(): number {\n    if (this._model == null) {\n      return 0.0;\n    }\n\n    return (\n      this._model.canvasinfo.CanvasHeight /\n      this._model.canvasinfo.PixelsPerUnit\n    );\n  }\n\n  /**\n   * \n   */\n  public saveParameters(): void {\n    const parameterCount: number = this._model.parameters.count;\n    const savedParameterCount: number = this._savedParameters.length;\n\n    for (let i = 0; i < parameterCount; ++i) {\n      if (i < savedParameterCount) {\n        this._savedParameters[i] = this._parameterValues[i];\n      } else {\n        this._savedParameters.push(this._parameterValues[i]);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getModel(): Live2DCubismCore.Model {\n    return this._model;\n  }\n\n  /**\n   * \n   * @param partId ID\n   * @return \n   */\n  public getPartIndex(partId: string): number {\n    let partIndex: number;\n    const partCount: number = this._model.parts.count;\n\n    for (partIndex = 0; partIndex < partCount; ++partIndex) {\n      if (partId == this._partIds[partIndex]) {\n        return partIndex;\n      }\n    }\n\n    // ID\n    if (partId in this._notExistPartId) {\n      return this._notExistPartId[partId];\n    }\n\n    // ID\n    partIndex = partCount + this._notExistPartId.length;\n    this._notExistPartId[partId] = partIndex;\n    this._notExistPartOpacities[partIndex] = 0;\n\n    return partIndex;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getPartCount(): number {\n    return this._model.parts.count;\n  }\n\n  /**\n   * (Index)\n   * @param partIndex \n   * @param opacity \n   */\n  public setPartOpacityByIndex(partIndex: number, opacity: number): void {\n    if (partIndex in this._notExistPartOpacities) {\n      this._notExistPartOpacities[partIndex] = opacity;\n      return;\n    }\n\n    // \n    CSM_ASSERT(0 <= partIndex && partIndex < this.getPartCount());\n\n    this._partOpacities[partIndex] = opacity;\n  }\n\n  /**\n   * (Id)\n   * @param partId ID\n   * @param opacity \n   */\n  public setPartOpacityById(partId: string, opacity: number): void {\n    // PartIndex\n    const index: number = this.getPartIndex(partId);\n\n    if (index < 0) {\n      return; // \n    }\n\n    this.setPartOpacityByIndex(index, opacity);\n  }\n\n  /**\n   * (index)\n   * @param partIndex \n   * @return \n   */\n  public getPartOpacityByIndex(partIndex: number): number {\n    if (partIndex in this._notExistPartOpacities) {\n      // ID\n      return this._notExistPartOpacities[partIndex];\n    }\n\n    // \n    CSM_ASSERT(0 <= partIndex && partIndex < this.getPartCount());\n\n    return this._partOpacities[partIndex];\n  }\n\n  /**\n   * (id)\n   * @param partId \n   * @return \n   */\n  public getPartOpacityById(partId: string): number {\n    // PartIndex\n    const index: number = this.getPartIndex(partId);\n\n    if (index < 0) {\n      return 0; // \n    }\n\n    return this.getPartOpacityByIndex(index);\n  }\n\n  /**\n   * \n   * @param ID\n   * @return \n   */\n  public getParameterIndex(parameterId: string): number {\n    let parameterIndex: number;\n    const idCount: number = this._model.parameters.count;\n\n    for (parameterIndex = 0; parameterIndex < idCount; ++parameterIndex) {\n      if (parameterId != this._parameterIds[parameterIndex]) {\n        continue;\n      }\n\n      return parameterIndex;\n    }\n\n    // ID\n    if (parameterId in this._notExistParameterId) {\n      return this._notExistParameterId[parameterId];\n    }\n\n    // ID\n    parameterIndex = this._model.parameters.count + Object.keys(this._notExistParameterId).length;\n\n    this._notExistParameterId[parameterId] = parameterIndex;\n    this._notExistParameterValues[parameterIndex] = 0;\n\n    return parameterIndex;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getParameterCount(): number {\n    return this._model.parameters.count;\n  }\n\n  /**\n   * \n   * @param parameterIndex \n   * @return \n   */\n  public getParameterMaximumValue(parameterIndex: number): number {\n    return this._model.parameters.maximumValues[parameterIndex];\n  }\n\n  /**\n   * \n   * @param parameterIndex \n   * @return \n   */\n  public getParameterMinimumValue(parameterIndex: number): number {\n    return this._model.parameters.minimumValues[parameterIndex];\n  }\n\n  /**\n   * \n   * @param parameterIndex \n   * @return \n   */\n  public getParameterDefaultValue(parameterIndex: number): number {\n    return this._model.parameters.defaultValues[parameterIndex];\n  }\n\n  /**\n   * \n   * @param parameterIndex    \n   * @return \n   */\n  public getParameterValueByIndex(parameterIndex: number): number {\n    if (parameterIndex in this._notExistParameterValues) {\n      return this._notExistParameterValues[parameterIndex];\n    }\n\n    // \n    CSM_ASSERT(0 <= parameterIndex && parameterIndex < this.getParameterCount());\n\n    return this._parameterValues[parameterIndex];\n  }\n\n  /**\n   * \n   * @param parameterId    ID\n   * @return \n   */\n  public getParameterValueById(parameterId: string): number {\n    // parameterIndex\n    const parameterIndex: number = this.getParameterIndex(parameterId);\n    return this.getParameterValueByIndex(parameterIndex);\n  }\n\n  /**\n   * \n   * @param parameterIndex \n   * @param value \n   * @param weight \n   */\n  public setParameterValueByIndex(\n    parameterIndex: number,\n    value: number,\n    weight = 1.0,\n  ): void {\n    if (parameterIndex in this._notExistParameterValues) {\n      this._notExistParameterValues[parameterIndex] =\n        weight == 1\n          ? value\n          : this._notExistParameterValues[parameterIndex] *\n          (1 - weight) +\n          value * weight;\n\n      return;\n    }\n\n    // \n    CSM_ASSERT(0 <= parameterIndex && parameterIndex < this.getParameterCount());\n\n    if (this._model.parameters.maximumValues[parameterIndex] < value) {\n      value = this._model.parameters.maximumValues[parameterIndex];\n    }\n    if (this._model.parameters.minimumValues[parameterIndex] > value) {\n      value = this._model.parameters.minimumValues[parameterIndex];\n    }\n\n    this._parameterValues[parameterIndex] =\n      weight == 1\n        ? value\n        : (this._parameterValues[parameterIndex] =\n        this._parameterValues[parameterIndex] * (1 - weight) +\n        value * weight);\n  }\n\n  /**\n   * \n   * @param parameterId ID\n   * @param value \n   * @param weight \n   */\n  public setParameterValueById(\n    parameterId: string,\n    value: number,\n    weight = 1.0,\n  ): void {\n    const index: number = this.getParameterIndex(parameterId);\n    this.setParameterValueByIndex(index, value, weight);\n  }\n\n  /**\n   * (index)\n   * @param parameterIndex \n   * @param value \n   * @param weight \n   */\n  public addParameterValueByIndex(\n    parameterIndex: number,\n    value: number,\n    weight = 1.0,\n  ): void {\n    this.setParameterValueByIndex(\n      parameterIndex,\n      this.getParameterValueByIndex(parameterIndex) + value * weight,\n    );\n  }\n\n  /**\n   * (id)\n   * @param parameterId \n   * @param value \n   * @param weight \n   */\n  public addParameterValueById(\n    parameterId: any,\n    value: number,\n    weight = 1.0,\n  ): void {\n    const index: number = this.getParameterIndex(parameterId);\n    this.addParameterValueByIndex(index, value, weight);\n  }\n\n  /**\n   * \n   * @param parameterId ID\n   * @param value \n   * @param weight \n   */\n  public multiplyParameterValueById(\n    parameterId: string,\n    value: number,\n    weight = 1.0,\n  ): void {\n    const index: number = this.getParameterIndex(parameterId);\n    this.multiplyParameterValueByIndex(index, value, weight);\n  }\n\n  /**\n   * \n   * @param parameterIndex \n   * @param value \n   * @param weight \n   */\n  public multiplyParameterValueByIndex(\n    parameterIndex: number,\n    value: number,\n    weight = 1.0,\n  ): void {\n    this.setParameterValueByIndex(\n      parameterIndex,\n      this.getParameterValueByIndex(parameterIndex) *\n      (1.0 + (value - 1.0) * weight),\n    );\n  }\n\n  public getDrawableIds() {\n    return this._drawableIds.slice();\n  }\n\n  /**\n   * Drawable\n   * @param drawableId DrawableID\n   * @return Drawable\n   */\n  public getDrawableIndex(drawableId: string): number {\n    const drawableCount = this._model.drawables.count;\n\n    for (\n      let drawableIndex = 0;\n      drawableIndex < drawableCount;\n      ++drawableIndex\n    ) {\n      if (this._drawableIds[drawableIndex] == drawableId) {\n        return drawableIndex;\n      }\n    }\n\n    return -1;\n  }\n\n  /**\n   * Drawable\n   * @return drawable\n   */\n  public getDrawableCount(): number {\n    return this._model.drawables.count;\n  }\n\n  /**\n   * DrawableID\n   * @param drawableIndex Drawable\n   * @return drawableID\n   */\n  public getDrawableId(drawableIndex: number): string {\n    return this._model.drawables.ids[drawableIndex];\n  }\n\n  /**\n   * Drawable\n   * @return Drawable\n   */\n  public getDrawableRenderOrders(): Int32Array {\n    return this._model.drawables.renderOrders;\n  }\n\n  /**\n   * Drawable\n   * @param drawableIndex Drawable\n   * @return drawable\n   */\n  public getDrawableTextureIndices(drawableIndex: number): number {\n    return this._model.drawables.textureIndices[drawableIndex];\n  }\n\n  /**\n   * DrawableVertexPositions\n   *\n   * CubismModel.updateDrawable\n   *\n   * @param   drawableIndex   Drawable\n   * @retval  true    DrawableCubismModel.update\n   * @retval  false   DrawableCubismModel.update\n   */\n  public getDrawableDynamicFlagVertexPositionsDidChange(\n    drawableIndex: number,\n  ): boolean {\n    const dynamicFlags: Uint8Array = this._model.drawables.dynamicFlags;\n    return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(\n      dynamicFlags[drawableIndex],\n    );\n  }\n\n  /**\n   * Drawable\n   * @param drawableIndex Drawable\n   * @return drawable\n   */\n  public getDrawableVertexIndexCount(drawableIndex: number): number {\n    return this._model.drawables.indexCounts[drawableIndex];\n  }\n\n  /**\n   * Drawable\n   * @param drawableIndex Drawable\n   * @return drawable\n   */\n  public getDrawableVertexCount(drawableIndex: number): number {\n    return this._model.drawables.vertexCounts[drawableIndex];\n  }\n\n  /**\n   * Drawable\n   * @param drawableIndex drawable\n   * @return drawable\n   */\n  public getDrawableVertices(drawableIndex: number): Float32Array {\n    return this.getDrawableVertexPositions(drawableIndex);\n  }\n\n  /**\n   * Drawable\n   * @param drarableIndex Drawable\n   * @return drawable\n   */\n  public getDrawableVertexIndices(drawableIndex: number): Uint16Array {\n    return this._model.drawables.indices[drawableIndex];\n  }\n\n  /**\n   * Drawable\n   * @param drawableIndex Drawable\n   * @return drawable\n   */\n  public getDrawableVertexPositions(drawableIndex: number): Float32Array {\n    return this._model.drawables.vertexPositions[drawableIndex];\n  }\n\n  /**\n   * DrawableUV\n   * @param drawableIndex Drawable\n   * @return drawableUV\n   */\n  public getDrawableVertexUvs(drawableIndex: number): Float32Array {\n    return this._model.drawables.vertexUvs[drawableIndex];\n  }\n\n  /**\n   * Drawable\n   * @param drawableIndex Drawable\n   * @return drawable\n   */\n  public getDrawableOpacity(drawableIndex: number): number {\n    return this._model.drawables.opacities[drawableIndex];\n  }\n\n  /**\n   * Drawable\n   * @param drawableIndex Drawable\n   * @return drawable\n   */\n  public getDrawableCulling(drawableIndex: number): boolean {\n    const constantFlags = this._model.drawables.constantFlags;\n\n    return !Live2DCubismCore.Utils.hasIsDoubleSidedBit(\n      constantFlags[drawableIndex],\n    );\n  }\n\n  /**\n   * Drawable\n   * @param drawableIndex Drawable\n   * @return drawable\n   */\n  public getDrawableBlendMode(drawableIndex: number): CubismBlendMode {\n    const constantFlags = this._model.drawables.constantFlags;\n\n    return Live2DCubismCore.Utils.hasBlendAdditiveBit(\n      constantFlags[drawableIndex],\n    )\n      ? CubismBlendMode.CubismBlendMode_Additive\n      : Live2DCubismCore.Utils.hasBlendMultiplicativeBit(\n        constantFlags[drawableIndex],\n      )\n        ? CubismBlendMode.CubismBlendMode_Multiplicative\n        : CubismBlendMode.CubismBlendMode_Normal;\n  }\n\n  /**\n   * Drawable\n   *\n   * Drawable\n   * \n   *\n   * @param drawableIndex Drawable\n   * @return Drawable\n   */\n  public getDrawableInvertedMaskBit(drawableIndex: number): boolean {\n    const constantFlags: Uint8Array = this._model.drawables.constantFlags;\n\n    return Live2DCubismCore.Utils.hasIsInvertedMaskBit(\n      constantFlags[drawableIndex],\n    );\n  }\n\n  /**\n   * Drawable\n   * @return Drawable\n   */\n  public getDrawableMasks(): Int32Array[] {\n    return this._model.drawables.masks;\n  }\n\n  /**\n   * Drawable\n   * @return Drawable\n   */\n  public getDrawableMaskCounts(): Int32Array {\n    return this._model.drawables.maskCounts;\n  }\n\n  /**\n   * \n   *\n   * @return true \n   * @return false \n   */\n  public isUsingMasking(): boolean {\n    for (let d = 0; d < this._model.drawables.count; ++d) {\n      if (this._model.drawables.maskCounts[d] <= 0) {\n        continue;\n      }\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Drawable\n   *\n   * @param drawableIndex Drawable\n   * @return true Drawable\n   * @return false Drawable\n   */\n  public getDrawableDynamicFlagIsVisible(drawableIndex: number): boolean {\n    const dynamicFlags: Uint8Array = this._model.drawables.dynamicFlags;\n    return Live2DCubismCore.Utils.hasIsVisibleBit(\n      dynamicFlags[drawableIndex],\n    );\n  }\n\n  /**\n   * DrawableDrawOrder\n   *\n   * CubismModel.updatedrawabledrawOrder\n   * drawOrderartMesh01000\n   * @param drawableIndex drawable\n   * @return true drawableCubismModel.update\n   * @return false drawableCubismModel.update\n   */\n  public getDrawableDynamicFlagVisibilityDidChange(\n    drawableIndex: number,\n  ): boolean {\n    const dynamicFlags: Uint8Array = this._model.drawables.dynamicFlags;\n    return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(\n      dynamicFlags[drawableIndex],\n    );\n  }\n\n  /**\n   * Drawable\n   *\n   * CubismModel.updatedrawable\n   *\n   * @param drawableIndex drawable\n   * @return true DrawableCubismModel.update\n   * @return false DrawableCubismModel.update\n   */\n  public getDrawableDynamicFlagOpacityDidChange(\n    drawableIndex: number,\n  ): boolean {\n    const dynamicFlags: Uint8Array = this._model.drawables.dynamicFlags;\n    return Live2DCubismCore.Utils.hasOpacityDidChangeBit(\n      dynamicFlags[drawableIndex],\n    );\n  }\n\n  /**\n   * Drawable\n   *\n   * CubismModel.updateDrawable\n   *\n   * @param drawableIndex Drawable\n   * @return true DrawableCubismModel.update\n   * @return false DrawableCubismModel.update\n   */\n  public getDrawableDynamicFlagRenderOrderDidChange(\n    drawableIndex: number,\n  ): boolean {\n    const dynamicFlags: Uint8Array = this._model.drawables.dynamicFlags;\n    return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(\n      dynamicFlags[drawableIndex],\n    );\n  }\n\n  /**\n   * \n   */\n  public loadParameters(): void {\n    let parameterCount: number = this._model.parameters.count;\n    const savedParameterCount: number = this._savedParameters.length;\n\n    if (parameterCount > savedParameterCount) {\n      parameterCount = savedParameterCount;\n    }\n\n    for (let i = 0; i < parameterCount; ++i) {\n      this._parameterValues[i] = this._savedParameters[i];\n    }\n  }\n\n  /**\n   * \n   */\n  public initialize(): void {\n    this._parameterValues = this._model.parameters.values;\n    this._partOpacities = this._model.parts.opacities;\n    this._parameterMaximumValues = this._model.parameters.maximumValues;\n    this._parameterMinimumValues = this._model.parameters.minimumValues;\n\n    {\n      const parameterIds: string[] = this._model.parameters.ids;\n      const parameterCount: number = this._model.parameters.count;\n\n      for (let i = 0; i < parameterCount; ++i) {\n        this._parameterIds.push(parameterIds[i]);\n      }\n    }\n\n    {\n      const partIds: string[] = this._model.parts.ids;\n      const partCount: number = this._model.parts.count;\n\n      for (let i = 0; i < partCount; ++i) {\n        this._partIds.push(partIds[i]);\n      }\n    }\n\n    {\n      const drawableIds: string[] = this._model.drawables.ids;\n      const drawableCount: number = this._model.drawables.count;\n\n      for (let i = 0; i < drawableCount; ++i) {\n        this._drawableIds.push(drawableIds[i]);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public constructor(model: Live2DCubismCore.Model) {\n    this._model = model;\n    this._savedParameters = [];\n    this._parameterIds = [];\n    this._drawableIds = [];\n    this._partIds = [];\n\n    this._notExistPartId = {};\n    this._notExistParameterId = {};\n    this._notExistParameterValues = {};\n    this._notExistPartOpacities = {};\n\n    this.initialize();\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    this._model.release();\n    (this as any)._model = undefined;\n  }\n\n  private _notExistPartOpacities: Record<number, number>; // \n  private _notExistPartId: Record<string, number>; // ID\n\n  private _notExistParameterValues: Record<number, number>; // \n  private _notExistParameterId: Record<string, number>; // ID\n\n  private _savedParameters: number[]; // \n\n  private _model: Live2DCubismCore.Model; // \n\n  private _parameterValues!: Float32Array; // \n  private _parameterMaximumValues!: Float32Array; // \n  private _parameterMinimumValues!: Float32Array; // \n\n  private _partOpacities!: Float32Array; // \n\n  private _parameterIds: string[];\n  private _partIds: string[];\n  private _drawableIds: string[];\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismModel } from './cubismmodel';\n\n/**\n * Moc\n *\n * Moc\n */\nexport class CubismMoc {\n  /**\n   * Moc\n   */\n  public static create(mocBytes: ArrayBuffer): CubismMoc {\n    const moc: Live2DCubismCore.Moc = Live2DCubismCore.Moc.fromArrayBuffer(mocBytes);\n\n    if (moc) {\n      return new CubismMoc(moc);\n    }\n\n    throw new Error('Unknown error');\n  }\n\n  /**\n   * \n   *\n   * @return Moc\n   */\n  createModel(): CubismModel {\n    let cubismModel: CubismModel;\n\n    const model: Live2DCubismCore.Model = Live2DCubismCore.Model.fromMoc(this._moc);\n\n    if (model) {\n      cubismModel = new CubismModel(model);\n\n      ++this._modelCount;\n\n      return cubismModel;\n    }\n\n    throw new Error('Unknown error');\n  }\n\n  /**\n   * \n   */\n  deleteModel(model: CubismModel): void {\n    if (model != null) {\n      --this._modelCount;\n    }\n  }\n\n  /**\n   * \n   */\n  private constructor(moc: Live2DCubismCore.Moc) {\n    this._moc = moc;\n    this._modelCount = 0;\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    this._moc._release();\n    (this as Partial<this>)._moc = undefined;\n  }\n\n  _moc: Live2DCubismCore.Moc; // Moc\n  _modelCount: number; // Moc\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismVector2 } from '../math/cubismvector2';\n\n/**\n * \n */\nexport enum CubismPhysicsTargetType {\n  CubismPhysicsTargetType_Parameter // \n}\n\n/**\n * \n */\nexport enum CubismPhysicsSource {\n  CubismPhysicsSource_X, // X\n  CubismPhysicsSource_Y, // Y\n  CubismPhysicsSource_Angle // \n}\n\n/**\n * @brief \n *\n * \n */\nexport class PhysicsJsonEffectiveForces {\n  constructor() {\n    this.gravity = new CubismVector2(0, 0);\n    this.wind = new CubismVector2(0, 0);\n  }\n\n  gravity: CubismVector2; // \n  wind: CubismVector2; // \n}\n\n/**\n * \n */\nexport interface CubismPhysicsParameter {\n  id: string; // \n  targetType: CubismPhysicsTargetType; // \n}\n\n/**\n * \n */\nexport interface CubismPhysicsNormalization {\n  minimum: number; // \n  maximum: number; // \n  defalut: number; // \n}\n\n/**\n * \n */\nexport class CubismPhysicsParticle {\n  constructor() {\n    this.initialPosition = new CubismVector2(0, 0);\n    this.position = new CubismVector2(0, 0);\n    this.lastPosition = new CubismVector2(0, 0);\n    this.lastGravity = new CubismVector2(0, 0);\n    this.force = new CubismVector2(0, 0);\n    this.velocity = new CubismVector2(0, 0);\n  }\n\n  initialPosition: CubismVector2; // \n  mobility!: number; // \n  delay!: number; // \n  acceleration!: number; // \n  radius!: number; // \n  position: CubismVector2; // \n  lastPosition: CubismVector2; // \n  lastGravity: CubismVector2; // \n  force: CubismVector2; // \n  velocity: CubismVector2; // \n}\n\n/**\n * \n */\nexport class CubismPhysicsSubRig {\n  inputCount!: number; // \n  outputCount!: number; // \n  particleCount!: number; // \n  baseInputIndex!: number; // \n  baseOutputIndex!: number; // \n  baseParticleIndex!: number; // \n  normalizationPosition: CubismPhysicsNormalization = {} as any; // \n  normalizationAngle: CubismPhysicsNormalization = {} as any; // \n}\n\n/**\n * \n * @param targetTranslation     // \n * @param targetAngle           // \n * @param value                 // \n * @param parameterMinimunValue // \n * @param parameterMaximumValue // \n * @param parameterDefaultValue // \n * @param normalizationPosition // \n * @param normalizationAngle    // \n * @param isInverted            // \n * @param weight                // \n */\nexport interface normalizedPhysicsParameterValueGetter {\n  (\n    targetTranslation: CubismVector2,\n    targetAngle: { angle: number },\n    value: number,\n    parameterMinimunValue: number,\n    parameterMaximumValue: number,\n    parameterDefaultValue: number,\n    normalizationPosition: CubismPhysicsNormalization,\n    normalizationAngle: CubismPhysicsNormalization,\n    isInverted: boolean,\n    weight: number,\n  ): void;\n}\n\n/**\n * \n * @param translation \n * @param particles \n * @param isInverted \n * @param parentGravity \n * @return \n */\nexport interface physicsValueGetter {\n  (\n    translation: CubismVector2,\n    particles: CubismPhysicsParticle[],\n    particleIndex: number,\n    isInverted: boolean,\n    parentGravity: CubismVector2,\n  ): number;\n}\n\n/**\n * \n * @param translationScale \n * @param angleScale    \n * @return \n */\nexport interface physicsScaleGetter {\n  (translationScale: CubismVector2, angleScale: number): number;\n}\n\n/**\n * \n */\nexport class CubismPhysicsInput {\n  source: CubismPhysicsParameter = {} as any; // \n  sourceParameterIndex!: number; // \n  weight!: number; // \n  type!: number; // \n  reflect!: boolean; // \n  getNormalizedParameterValue!: normalizedPhysicsParameterValueGetter; // \n}\n\n/**\n * @brief \n *\n * \n */\nexport class CubismPhysicsOutput {\n  destination: CubismPhysicsParameter = {} as any; // \n  destinationParameterIndex!: number; // \n  vertexIndex!: number; // \n  translationScale = new CubismVector2(0, 0); // \n  angleScale!: number; // \n  weight!: number; // \n  type!: CubismPhysicsSource; // \n  reflect!: boolean; // \n  valueBelowMinimum!: number; // \n  valueExceededMaximum!: number; // \n  getValue!: physicsValueGetter; // \n  getScale!: physicsScaleGetter; // \n}\n\n/**\n * @brief \n *\n * \n */\nexport class CubismPhysicsRig {\n  constructor() {\n    this.settings = [];\n    this.inputs = [];\n    this.outputs = [];\n    this.particles = [];\n    this.gravity = new CubismVector2(0, 0);\n    this.wind = new CubismVector2(0, 0);\n  }\n\n  subRigCount!: number; // \n  settings: CubismPhysicsSubRig[]; // \n  inputs: CubismPhysicsInput[]; // \n  outputs: CubismPhysicsOutput[]; // \n  particles: CubismPhysicsParticle[]; // \n  gravity: CubismVector2; // \n  wind: CubismVector2; // \n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismVector2 } from '../math/cubismvector2';\n\n/**\n * physics3.json\n */\nexport class CubismPhysicsJson {\n  /**\n   * \n   * @param json physics3.json\n   */\n  public constructor(json: CubismSpec.PhysicsJSON) {\n    this._json = json;\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    (this as Partial<this>)._json = undefined;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getGravity(): CubismVector2 {\n    const ret: CubismVector2 = new CubismVector2(0, 0);\n    ret.x = this._json.Meta.EffectiveForces.Gravity.X;\n    ret.y = this._json.Meta.EffectiveForces.Gravity.Y;\n    return ret;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getWind(): CubismVector2 {\n    const ret: CubismVector2 = new CubismVector2(0, 0);\n    ret.x = this._json.Meta.EffectiveForces.Wind.X;\n    ret.y = this._json.Meta.EffectiveForces.Wind.Y;\n    return ret;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getSubRigCount(): number {\n    return this._json.Meta.PhysicsSettingCount;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getTotalInputCount(): number {\n    return this._json.Meta.TotalInputCount;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getTotalOutputCount(): number {\n    return this._json.Meta.TotalOutputCount;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getVertexCount(): number {\n    return this._json.Meta.VertexCount;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @return \n   */\n  public getNormalizationPositionMinimumValue(\n    physicsSettingIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Normalization.Position.Minimum;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @return \n   */\n  public getNormalizationPositionMaximumValue(\n    physicsSettingIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Normalization.Position.Maximum;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @return \n   */\n  public getNormalizationPositionDefaultValue(\n    physicsSettingIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Normalization.Position.Default;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @return \n   */\n  public getNormalizationAngleMinimumValue(\n    physicsSettingIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Normalization.Angle.Minimum;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex\n   * @return \n   */\n  public getNormalizationAngleMaximumValue(\n    physicsSettingIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Normalization.Angle.Maximum;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @return \n   */\n  public getNormalizationAngleDefaultValue(\n    physicsSettingIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Normalization.Angle.Default;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @return \n   */\n  public getInputCount(physicsSettingIndex: number): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Input.length;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param inputIndex \n   * @return \n   */\n  public getInputWeight(\n    physicsSettingIndex: number,\n    inputIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Input[inputIndex].Weight;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param inputIndex \n   * @return \n   */\n  public getInputReflect(\n    physicsSettingIndex: number,\n    inputIndex: number,\n  ): boolean {\n    return this._json.PhysicsSettings[physicsSettingIndex].Input[inputIndex].Reflect;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param inputIndex \n   * @return \n   */\n  public getInputType(\n    physicsSettingIndex: number,\n    inputIndex: number,\n  ): string {\n    return this._json.PhysicsSettings[physicsSettingIndex].Input[inputIndex].Type;\n  }\n\n  /**\n   * ID\n   * @param physicsSettingIndex \n   * @param inputIndex \n   * @return ID\n   */\n  public getInputSourceId(\n    physicsSettingIndex: number,\n    inputIndex: number,\n  ): string {\n    return this._json.PhysicsSettings[physicsSettingIndex].Input[inputIndex].Source.Id;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @return \n   */\n  public getOutputCount(physicsSettingIndex: number): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Output.length;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param outputIndex \n   * @return \n   */\n  public getOutputVertexIndex(\n    physicsSettingIndex: number,\n    outputIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Output[outputIndex].VertexIndex;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param outputIndex \n   * @return \n   */\n  public getOutputAngleScale(\n    physicsSettingIndex: number,\n    outputIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Output[outputIndex].Scale;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param outputIndex \n   * @return \n   */\n  public getOutputWeight(\n    physicsSettingIndex: number,\n    outputIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Output[outputIndex].Weight;\n  }\n\n  /**\n   * ID\n   * @param physicsSettingIndex \n   * @param outputIndex \n   * @return ID\n   */\n  public getOutputDestinationId(\n    physicsSettingIndex: number,\n    outputIndex: number,\n  ): string {\n    return this._json.PhysicsSettings[physicsSettingIndex].Output[outputIndex].Destination.Id;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param outputIndex \n   * @return \n   */\n  public getOutputType(\n    physicsSettingIndex: number,\n    outputIndex: number,\n  ): string {\n    return this._json.PhysicsSettings[physicsSettingIndex].Output[outputIndex].Type;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param outputIndex \n   * @return \n   */\n  public getOutputReflect(\n    physicsSettingIndex: number,\n    outputIndex: number,\n  ): boolean {\n    return this._json.PhysicsSettings[physicsSettingIndex].Output[outputIndex].Reflect;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @return \n   */\n  public getParticleCount(physicsSettingIndex: number): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Vertices.length;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param vertexIndex \n   * @return \n   */\n  public getParticleMobility(\n    physicsSettingIndex: number,\n    vertexIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Vertices[vertexIndex].Mobility;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param vertexIndex \n   * @return \n   */\n  public getParticleDelay(\n    physicsSettingIndex: number,\n    vertexIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Vertices[vertexIndex].Delay;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param vertexIndex \n   * @return \n   */\n  public getParticleAcceleration(\n    physicsSettingIndex: number,\n    vertexIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Vertices[vertexIndex].Acceleration;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param vertexIndex \n   * @return \n   */\n  public getParticleRadius(\n    physicsSettingIndex: number,\n    vertexIndex: number,\n  ): number {\n    return this._json.PhysicsSettings[physicsSettingIndex].Vertices[vertexIndex].Radius;\n  }\n\n  /**\n   * \n   * @param physicsSettingIndex \n   * @param vertexIndex \n   * @return \n   */\n  public getParticlePosition(\n    physicsSettingIndex: number,\n    vertexIndex: number,\n  ): CubismVector2 {\n    const ret: CubismVector2 = new CubismVector2(0, 0);\n    ret.x = this._json.PhysicsSettings[physicsSettingIndex].Vertices[vertexIndex].Position.X;\n    ret.y = this._json.PhysicsSettings[physicsSettingIndex].Vertices[vertexIndex].Position.Y;\n    return ret;\n  }\n\n  _json: CubismSpec.PhysicsJSON; // physics3.json\n}\n","/**\n * Copyright(c) Live2D Inc. All rights reserved.\n *\n * Use of this source code is governed by the Live2D Open Software license\n * that can be found at https://www.live2d.com/eula/live2d-open-software-license-agreement_en.html.\n */\n\nimport { CubismMath } from '../math/cubismmath';\nimport { CubismVector2 } from '../math/cubismvector2';\nimport { CubismModel } from '../model/cubismmodel';\nimport {\n  CubismPhysicsInput,\n  CubismPhysicsNormalization,\n  CubismPhysicsOutput,\n  CubismPhysicsParticle,\n  CubismPhysicsRig,\n  CubismPhysicsSource,\n  CubismPhysicsSubRig,\n  CubismPhysicsTargetType,\n} from './cubismphysicsinternal';\nimport { CubismPhysicsJson } from './cubismphysicsjson';\n\n// physics types tags.\nconst PhysicsTypeTagX = 'X';\nconst PhysicsTypeTagY = 'Y';\nconst PhysicsTypeTagAngle = 'Angle';\n\n// Constant of air resistance.\nconst AirResistance = 5.0;\n\n// Constant of maximum weight of input and output ratio.\nconst MaximumWeight = 100.0;\n\n// Constant of threshold of movement.\nconst MovementThreshold = 0.001;\n\n/**\n * \n */\nexport class CubismPhysics {\n  /**\n   * \n   * @param json    physics3.json\n   * @return \n   */\n  public static create(json: CubismSpec.PhysicsJSON): CubismPhysics {\n    const ret: CubismPhysics = new CubismPhysics();\n\n    ret.parse(json);\n    ret._physicsRig.gravity.y = 0;\n\n    return ret;\n  }\n\n  /**\n   * \n   * @param model \n   * @param deltaTimeSeconds []\n   */\n  public evaluate(model: CubismModel, deltaTimeSeconds: number): void {\n    let totalAngle: { angle: number };\n    let weight: number;\n    let radAngle: number;\n    let outputValue: number;\n    const totalTranslation: CubismVector2 = new CubismVector2();\n    let currentSetting: CubismPhysicsSubRig;\n    let currentInput: CubismPhysicsInput[];\n    let currentOutput: CubismPhysicsOutput[];\n    let currentParticles: CubismPhysicsParticle[];\n\n    let parameterValue: Float32Array;\n    let parameterMaximumValue: Float32Array;\n    let parameterMinimumValue: Float32Array;\n    let parameterDefaultValue: Float32Array;\n\n    parameterValue = model.getModel().parameters.values;\n    parameterMaximumValue = model.getModel().parameters.maximumValues;\n    parameterMinimumValue = model.getModel().parameters.minimumValues;\n    parameterDefaultValue = model.getModel().parameters.defaultValues;\n\n    for (\n      let settingIndex = 0;\n      settingIndex < this._physicsRig.subRigCount;\n      ++settingIndex\n    ) {\n      totalAngle = { angle: 0.0 };\n      totalTranslation.x = 0.0;\n      totalTranslation.y = 0.0;\n      currentSetting = this._physicsRig.settings[settingIndex];\n      currentInput = this._physicsRig.inputs.slice(currentSetting.baseInputIndex);\n      currentOutput = this._physicsRig.outputs.slice(currentSetting.baseOutputIndex);\n      currentParticles = this._physicsRig.particles.slice(currentSetting.baseParticleIndex);\n\n      // Load input parameters\n      for (let i = 0; i < currentSetting.inputCount; ++i) {\n        weight = currentInput[i].weight / MaximumWeight;\n\n        if (currentInput[i].sourceParameterIndex == -1) {\n          currentInput[i].sourceParameterIndex = model.getParameterIndex(\n            currentInput[i].source.id,\n          );\n        }\n\n        currentInput[i].getNormalizedParameterValue(\n          totalTranslation,\n          totalAngle,\n          parameterValue[currentInput[i].sourceParameterIndex],\n          parameterMinimumValue[currentInput[i].sourceParameterIndex],\n          parameterMaximumValue[currentInput[i].sourceParameterIndex],\n          parameterDefaultValue[currentInput[i].sourceParameterIndex],\n          currentSetting.normalizationPosition,\n          currentSetting.normalizationAngle,\n          currentInput[i].reflect,\n          weight,\n        );\n      }\n\n      radAngle = CubismMath.degreesToRadian(-totalAngle.angle);\n\n      totalTranslation.x =\n        totalTranslation.x * CubismMath.cos(radAngle) -\n        totalTranslation.y * CubismMath.sin(radAngle);\n      totalTranslation.y =\n        totalTranslation.x * CubismMath.sin(radAngle) +\n        totalTranslation.y * CubismMath.cos(radAngle);\n\n      // Calculate particles position.\n      updateParticles(\n        currentParticles,\n        currentSetting.particleCount,\n        totalTranslation,\n        totalAngle.angle,\n        this._options.wind,\n        MovementThreshold * currentSetting.normalizationPosition.maximum,\n        deltaTimeSeconds,\n        AirResistance,\n      );\n\n      // Update output parameters.\n      for (let i = 0; i < currentSetting.outputCount; ++i) {\n        const particleIndex = currentOutput[i].vertexIndex;\n\n        if (\n          particleIndex < 1 ||\n          particleIndex >= currentSetting.particleCount\n        ) {\n          break;\n        }\n\n        if (currentOutput[i].destinationParameterIndex == -1) {\n          currentOutput[\n            i\n            ].destinationParameterIndex = model.getParameterIndex(\n            currentOutput[i].destination.id,\n          );\n        }\n\n        const translation: CubismVector2 = new CubismVector2();\n        translation.x =\n          currentParticles[particleIndex].position.x -\n          currentParticles[particleIndex - 1].position.x;\n        translation.y =\n          currentParticles[particleIndex].position.y -\n          currentParticles[particleIndex - 1].position.y;\n\n        outputValue = currentOutput[i].getValue(\n          translation,\n          currentParticles,\n          particleIndex,\n          currentOutput[i].reflect,\n          this._options.gravity,\n        );\n\n        const destinationParameterIndex: number =\n          currentOutput[i].destinationParameterIndex;\n        const outParameterValue: Float32Array =\n          !Float32Array.prototype.slice &&\n          'subarray' in Float32Array.prototype\n            ? JSON.parse(\n            JSON.stringify(\n              parameterValue.subarray(destinationParameterIndex),\n            ),\n            ) // JSON.parse, JSON.stringify\n            : parameterValue.slice(destinationParameterIndex);\n\n        updateOutputParameterValue(\n          outParameterValue,\n          parameterMinimumValue[destinationParameterIndex],\n          parameterMaximumValue[destinationParameterIndex],\n          outputValue,\n          currentOutput[i],\n        );\n\n        // \n        for (\n          let offset: number = destinationParameterIndex, outParamIndex = 0;\n          offset < parameterValue.length;\n          offset++, outParamIndex++\n        ) {\n          parameterValue[offset] = outParameterValue[outParamIndex];\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public setOptions(options: Options): void {\n    this._options = options;\n  }\n\n  /**\n   * \n   * @return \n   */\n  public getOption(): Options {\n    return this._options;\n  }\n\n  /**\n   * \n   */\n  public constructor() {\n    // set default options\n    this._options = new Options();\n    this._options.gravity.y = -1.0;\n    this._options.gravity.x = 0;\n    this._options.wind.x = 0;\n    this._options.wind.y = 0;\n  }\n\n  /**\n   * \n   */\n  public release(): void {\n    (this as Partial<this>)._physicsRig = undefined;\n  }\n\n  /**\n   * physics3.json\n   * @param physicsJson physics3.json\n   */\n  public parse(physicsJson: CubismSpec.PhysicsJSON): void {\n    this._physicsRig = new CubismPhysicsRig();\n\n    let json: CubismPhysicsJson = new CubismPhysicsJson(physicsJson);\n\n    this._physicsRig.gravity = json.getGravity();\n    this._physicsRig.wind = json.getWind();\n    this._physicsRig.subRigCount = json.getSubRigCount();\n\n    let inputIndex = 0,\n      outputIndex = 0,\n      particleIndex = 0;\n\n    for (let i = 0; i < this._physicsRig.subRigCount; ++i) {\n      const setting = new CubismPhysicsSubRig();\n\n      setting.normalizationPosition.minimum = json.getNormalizationPositionMinimumValue(i);\n      setting.normalizationPosition.maximum = json.getNormalizationPositionMaximumValue(i);\n      setting.normalizationPosition.defalut = json.getNormalizationPositionDefaultValue(i);\n      setting.normalizationAngle.minimum = json.getNormalizationAngleMinimumValue(i);\n      setting.normalizationAngle.maximum = json.getNormalizationAngleMaximumValue(i);\n      setting.normalizationAngle.defalut = json.getNormalizationAngleDefaultValue(i);\n\n      // Input\n      setting.inputCount = json.getInputCount(i);\n      setting.baseInputIndex = inputIndex;\n      inputIndex += setting.inputCount;\n\n      for (let j = 0; j < setting.inputCount; ++j) {\n        const input = new CubismPhysicsInput();\n\n        input.sourceParameterIndex = -1;\n        input.weight = json.getInputWeight(i, j);\n        input.reflect = json.getInputReflect(i, j);\n\n        switch (json.getInputType(i, j)) {\n          case PhysicsTypeTagX:\n            input.type = CubismPhysicsSource.CubismPhysicsSource_X;\n            input.getNormalizedParameterValue = getInputTranslationXFromNormalizedParameterValue;\n            break;\n\n          case PhysicsTypeTagY:\n            input.type = CubismPhysicsSource.CubismPhysicsSource_Y;\n            input.getNormalizedParameterValue = getInputTranslationYFromNormalizedParamterValue;\n            break;\n\n          case PhysicsTypeTagAngle:\n            input.type = CubismPhysicsSource.CubismPhysicsSource_Angle;\n            input.getNormalizedParameterValue = getInputAngleFromNormalizedParameterValue;\n            break;\n        }\n\n        input.source.targetType = CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter;\n        input.source.id = json.getInputSourceId(i, j);\n\n        this._physicsRig.inputs.push(input);\n      }\n\n      // Output\n      setting.outputCount = json.getOutputCount(i);\n      setting.baseOutputIndex = outputIndex;\n      outputIndex += setting.outputCount;\n\n      for (let j = 0; j < setting.outputCount; ++j) {\n        const output = new CubismPhysicsOutput();\n\n        output.destinationParameterIndex = -1;\n        output.vertexIndex = json.getOutputVertexIndex(i, j);\n        output.angleScale = json.getOutputAngleScale(i, j);\n        output.weight = json.getOutputWeight(i, j);\n        output.destination.targetType = CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter;\n\n        output.destination.id = json.getOutputDestinationId(i, j);\n\n        switch (json.getOutputType(i, j)) {\n          case PhysicsTypeTagX:\n            output.type = CubismPhysicsSource.CubismPhysicsSource_X;\n            output.getValue = getOutputTranslationX;\n            output.getScale = getOutputScaleTranslationX;\n            break;\n\n          case PhysicsTypeTagY:\n            output.type = CubismPhysicsSource.CubismPhysicsSource_Y;\n            output.getValue = getOutputTranslationY;\n            output.getScale = getOutputScaleTranslationY;\n            break;\n\n          case PhysicsTypeTagAngle:\n            output.type = CubismPhysicsSource.CubismPhysicsSource_Angle;\n            output.getValue = getOutputAngle;\n            output.getScale = getOutputScaleAngle;\n            break;\n        }\n\n        output.reflect = json.getOutputReflect(i, j);\n\n        this._physicsRig.outputs.push(output);\n      }\n\n      // Particle\n      setting.particleCount = json.getParticleCount(i);\n      setting.baseParticleIndex = particleIndex;\n      particleIndex += setting.particleCount;\n\n      for (let j = 0; j < setting.particleCount; ++j) {\n        const particle = new CubismPhysicsParticle();\n\n        particle.mobility = json.getParticleMobility(i, j);\n        particle.delay = json.getParticleDelay(i, j);\n        particle.acceleration = json.getParticleAcceleration(i, j);\n        particle.radius = json.getParticleRadius(i, j);\n        particle.position = json.getParticlePosition(i, j);\n\n        this._physicsRig.particles.push(particle);\n      }\n\n      this._physicsRig.settings.push(setting);\n    }\n\n    this.initialize();\n\n    json.release();\n  }\n\n  /**\n   * \n   */\n  public initialize(): void {\n    let strand: CubismPhysicsParticle[];\n    let currentSetting: CubismPhysicsSubRig;\n    let radius: CubismVector2;\n\n    for (\n      let settingIndex = 0;\n      settingIndex < this._physicsRig.subRigCount;\n      ++settingIndex\n    ) {\n      currentSetting = this._physicsRig.settings[settingIndex];\n      strand = this._physicsRig.particles.slice(currentSetting.baseParticleIndex);\n\n      // Initialize the top of particle.\n      strand[0].initialPosition = new CubismVector2(0.0, 0.0);\n      strand[0].lastPosition = new CubismVector2(\n        strand[0].initialPosition.x,\n        strand[0].initialPosition.y,\n      );\n      strand[0].lastGravity = new CubismVector2(0.0, -1.0);\n      strand[0].lastGravity.y *= -1.0;\n      strand[0].velocity = new CubismVector2(0.0, 0.0);\n      strand[0].force = new CubismVector2(0.0, 0.0);\n\n      // Initialize paritcles.\n      for (let i = 1; i < currentSetting.particleCount; ++i) {\n        radius = new CubismVector2(0.0, 0.0);\n        radius.y = strand[i].radius;\n        strand[i].initialPosition = new CubismVector2(\n          strand[i - 1].initialPosition.x + radius.x,\n          strand[i - 1].initialPosition.y + radius.y,\n        );\n        strand[i].position = new CubismVector2(\n          strand[i].initialPosition.x,\n          strand[i].initialPosition.y,\n        );\n        strand[i].lastPosition = new CubismVector2(\n          strand[i].initialPosition.x,\n          strand[i].initialPosition.y,\n        );\n        strand[i].lastGravity = new CubismVector2(0.0, -1.0);\n        strand[i].lastGravity.y *= -1.0;\n        strand[i].velocity = new CubismVector2(0.0, 0.0);\n        strand[i].force = new CubismVector2(0.0, 0.0);\n      }\n    }\n  }\n\n  _physicsRig!: CubismPhysicsRig; // \n  _options: Options; // \n}\n\n/**\n * \n */\nexport class Options {\n  constructor() {\n    this.gravity = new CubismVector2(0, 0);\n    this.wind = new CubismVector2(0, 0);\n  }\n\n  gravity: CubismVector2; // \n  wind: CubismVector2; // \n}\n\nfunction getInputTranslationXFromNormalizedParameterValue(\n  targetTranslation: CubismVector2,\n  targetAngle: { angle: number },\n  value: number,\n  parameterMinimumValue: number,\n  parameterMaximumValue: number,\n  parameterDefaultValue: number,\n  normalizationPosition: CubismPhysicsNormalization,\n  normalizationAngle: CubismPhysicsNormalization,\n  isInverted: boolean,\n  weight: number,\n): void {\n  targetTranslation.x +=\n    normalizeParameterValue(\n      value,\n      parameterMinimumValue,\n      parameterMaximumValue,\n      parameterDefaultValue,\n      normalizationPosition.minimum,\n      normalizationPosition.maximum,\n      normalizationPosition.defalut,\n      isInverted,\n    ) * weight;\n}\n\nfunction getInputTranslationYFromNormalizedParamterValue(\n  targetTranslation: CubismVector2,\n  targetAngle: { angle: number },\n  value: number,\n  parameterMinimumValue: number,\n  parameterMaximumValue: number,\n  parameterDefaultValue: number,\n  normalizationPosition: CubismPhysicsNormalization,\n  normalizationAngle: CubismPhysicsNormalization,\n  isInverted: boolean,\n  weight: number,\n): void {\n  targetTranslation.y +=\n    normalizeParameterValue(\n      value,\n      parameterMinimumValue,\n      parameterMaximumValue,\n      parameterDefaultValue,\n      normalizationPosition.minimum,\n      normalizationPosition.maximum,\n      normalizationPosition.defalut,\n      isInverted,\n    ) * weight;\n}\n\nfunction getInputAngleFromNormalizedParameterValue(\n  targetTranslation: CubismVector2,\n  targetAngle: { angle: number },\n  value: number,\n  parameterMinimumValue: number,\n  parameterMaximumValue: number,\n  parameterDefaultValue: number,\n  normalizaitionPosition: CubismPhysicsNormalization,\n  normalizationAngle: CubismPhysicsNormalization,\n  isInverted: boolean,\n  weight: number,\n): void {\n  targetAngle.angle +=\n    normalizeParameterValue(\n      value,\n      parameterMinimumValue,\n      parameterMaximumValue,\n      parameterDefaultValue,\n      normalizationAngle.minimum,\n      normalizationAngle.maximum,\n      normalizationAngle.defalut,\n      isInverted,\n    ) * weight;\n}\n\nfunction getOutputTranslationX(\n  translation: CubismVector2,\n  particles: CubismPhysicsParticle[],\n  particleIndex: number,\n  isInverted: boolean,\n  parentGravity: CubismVector2,\n): number {\n  let outputValue: number = translation.x;\n\n  if (isInverted) {\n    outputValue *= -1.0;\n  }\n\n  return outputValue;\n}\n\nfunction getOutputTranslationY(\n  translation: CubismVector2,\n  particles: CubismPhysicsParticle[],\n  particleIndex: number,\n  isInverted: boolean,\n  parentGravity: CubismVector2,\n): number {\n  let outputValue: number = translation.y;\n\n  if (isInverted) {\n    outputValue *= -1.0;\n  }\n  return outputValue;\n}\n\nfunction getOutputAngle(\n  translation: CubismVector2,\n  particles: CubismPhysicsParticle[],\n  particleIndex: number,\n  isInverted: boolean,\n  parentGravity: CubismVector2,\n): number {\n  let outputValue: number;\n\n  if (particleIndex >= 2) {\n    parentGravity = particles[particleIndex - 1].position.substract(\n      particles[particleIndex - 2].position,\n    );\n  } else {\n    parentGravity = parentGravity.multiplyByScaler(-1.0);\n  }\n\n  outputValue = CubismMath.directionToRadian(parentGravity, translation);\n\n  if (isInverted) {\n    outputValue *= -1.0;\n  }\n\n  return outputValue;\n}\n\nfunction getRangeValue(min: number, max: number): number {\n  return Math.abs(Math.max(min, max) - Math.min(min, max));\n}\n\nfunction getDefaultValue(min: number, max: number): number {\n  const minValue: number = Math.min(min, max);\n  return minValue + getRangeValue(min, max) / 2.0;\n}\n\nfunction getOutputScaleTranslationX(\n  translationScale: CubismVector2,\n  angleScale: number,\n): number {\n  return translationScale.x;\n}\n\nfunction getOutputScaleTranslationY(\n  translationScale: CubismVector2,\n  angleScale: number,\n): number {\n  return translationScale.y;\n}\n\nfunction getOutputScaleAngle(\n  translationScale: CubismVector2,\n  angleScale: number,\n): number {\n  return angleScale;\n}\n\n/**\n * Updates particles.\n *\n * @param strand                Target array of particle.\n * @param strandCount           Count of particle.\n * @param totalTranslation      Total translation value.\n * @param totalAngle            Total angle.\n * @param windDirection         Direction of Wind.\n * @param thresholdValue        Threshold of movement.\n * @param deltaTimeSeconds      Delta time.\n * @param airResistance         Air resistance.\n */\nfunction updateParticles(\n  strand: CubismPhysicsParticle[],\n  strandCount: number,\n  totalTranslation: CubismVector2,\n  totalAngle: number,\n  windDirection: CubismVector2,\n  thresholdValue: number,\n  deltaTimeSeconds: number,\n  airResistance: number,\n) {\n  let totalRadian: number;\n  let delay: number;\n  let radian: number;\n  let currentGravity: CubismVector2;\n  let direction: CubismVector2 = new CubismVector2(0.0, 0.0);\n  let velocity: CubismVector2 = new CubismVector2(0.0, 0.0);\n  let force: CubismVector2 = new CubismVector2(0.0, 0.0);\n  let newDirection: CubismVector2 = new CubismVector2(0.0, 0.0);\n\n  strand[0].position = new CubismVector2(\n    totalTranslation.x,\n    totalTranslation.y,\n  );\n\n  totalRadian = CubismMath.degreesToRadian(totalAngle);\n  currentGravity = CubismMath.radianToDirection(totalRadian);\n  currentGravity.normalize();\n\n  for (let i = 1; i < strandCount; ++i) {\n    strand[i].force = currentGravity\n      .multiplyByScaler(strand[i].acceleration)\n      .add(windDirection);\n\n    strand[i].lastPosition = new CubismVector2(\n      strand[i].position.x,\n      strand[i].position.y,\n    );\n\n    delay = strand[i].delay * deltaTimeSeconds * 30.0;\n\n    direction = strand[i].position.substract(strand[i - 1].position);\n\n    radian =\n      CubismMath.directionToRadian(strand[i].lastGravity, currentGravity) /\n      airResistance;\n\n    direction.x =\n      CubismMath.cos(radian) * direction.x -\n      direction.y * CubismMath.sin(radian);\n    direction.y =\n      CubismMath.sin(radian) * direction.x +\n      direction.y * CubismMath.cos(radian);\n\n    strand[i].position = strand[i - 1].position.add(direction);\n\n    velocity = strand[i].velocity.multiplyByScaler(delay);\n    force = strand[i].force.multiplyByScaler(delay).multiplyByScaler(delay);\n\n    strand[i].position = strand[i].position.add(velocity).add(force);\n\n    newDirection = strand[i].position.substract(strand[i - 1].position);\n    newDirection.normalize();\n\n    strand[i].position = strand[i - 1].position.add(\n      newDirection.multiplyByScaler(strand[i].radius),\n    );\n\n    if (CubismMath.abs(strand[i].position.x) < thresholdValue) {\n      strand[i].position.x = 0.0;\n    }\n\n    if (delay != 0.0) {\n      strand[i].velocity = strand[i].position.substract(\n        strand[i].lastPosition,\n      );\n      strand[i].velocity = strand[i].velocity.divisionByScalar(delay);\n      strand[i].velocity = strand[i].velocity.multiplyByScaler(\n        strand[i].mobility,\n      );\n    }\n\n    strand[i].force = new CubismVector2(0.0, 0.0);\n    strand[i].lastGravity = new CubismVector2(\n      currentGravity.x,\n      currentGravity.y,\n    );\n  }\n}\n\n/**\n * Updates output parameter value.\n * @param parameterValue            Target parameter value.\n * @param parameterValueMinimum     Minimum of parameter value.\n * @param parameterValueMaximum     Maximum of parameter value.\n * @param translation               Translation value.\n */\nfunction updateOutputParameterValue(\n  parameterValue: Float32Array,\n  parameterValueMinimum: number,\n  parameterValueMaximum: number,\n  translation: number,\n  output: CubismPhysicsOutput,\n): void {\n  let outputScale: number;\n  let value: number;\n  let weight: number;\n\n  outputScale = output.getScale(output.translationScale, output.angleScale);\n\n  value = translation * outputScale;\n\n  if (value < parameterValueMinimum) {\n    if (value < output.valueBelowMinimum) {\n      output.valueBelowMinimum = value;\n    }\n\n    value = parameterValueMinimum;\n  } else if (value > parameterValueMaximum) {\n    if (value > output.valueExceededMaximum) {\n      output.valueExceededMaximum = value;\n    }\n\n    value = parameterValueMaximum;\n  }\n\n  weight = output.weight / MaximumWeight;\n\n  if (weight >= 1.0) {\n    parameterValue[0] = value;\n  } else {\n    value = parameterValue[0] * (1.0 - weight) + value * weight;\n    parameterValue[0] = value;\n  }\n}\n\nfunction normalizeParameterValue(\n  value: number,\n  parameterMinimum: number,\n  parameterMaximum: number,\n  parameterDefault: number,\n  normalizedMinimum: number,\n  normalizedMaximum: number,\n  normalizedDefault: number,\n  isInverted: boolean,\n) {\n  let result = 0.0;\n\n  const maxValue: number = CubismMath.max(parameterMaximum, parameterMinimum);\n\n  if (maxValue < value) {\n    value = maxValue;\n  }\n\n  const minValue: number = CubismMath.min(parameterMaximum, parameterMinimum);\n\n  if (minValue > value) {\n    value = minValue;\n  }\n\n  const minNormValue: number = CubismMath.min(\n    normalizedMinimum,\n    normalizedMaximum,\n  );\n  const maxNormValue: number = CubismMath.max(\n    normalizedMinimum,\n    normalizedMaximum,\n  );\n  const middleNormValue: number = normalizedDefault;\n\n  const middleValue: number = getDefaultValue(minValue, maxValue);\n  const paramValue: number = value - middleValue;\n\n  switch (Math.sign(paramValue)) {\n    case 1: {\n      const nLength: number = maxNormValue - middleNormValue;\n      const pLength: number = maxValue - middleValue;\n\n      if (pLength != 0.0) {\n        result = paramValue * (nLength / pLength);\n        result += middleNormValue;\n      }\n\n      break;\n    }\n    case -1: {\n      const nLength: number = minNormValue - middleNormValue;\n      const pLength: number = minValue - middleValue;\n\n      if (pLength != 0.0) {\n        result = paramValue * (nLength / pLength);\n        result += middleNormValue;\n      }\n\n      break;\n    }\n    case 0: {\n      result = middleNormValue;\n\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n\n  return isInverted ? result : result * -1.0;\n}\n","import { Cubism4InternalModel } from '@/cubism4/Cubism4InternalModel';\nimport { Cubism4ModelSettings } from '@/cubism4/Cubism4ModelSettings';\nimport { cubism4Ready } from '@/cubism4/setup';\nimport { Live2DFactory, Live2DFactoryOptions } from '@/factory/Live2DFactory';\nimport { CubismPose } from '@cubism/effect/cubismpose';\nimport { CubismMoc } from '@cubism/model/cubismmoc';\nimport { CubismModel } from '@cubism/model/cubismmodel';\nimport { CubismPhysics } from '@cubism/physics/cubismphysics';\nimport { config } from '@/config';\nimport { config as cubism4Config } from '@cubism/config';\n\nconfig.cubism4 = cubism4Config;\n\nLive2DFactory.registerRuntime({\n    version: 4,\n\n    ready: cubism4Ready,\n\n    test(source: any): boolean {\n        return source instanceof Cubism4ModelSettings || Cubism4ModelSettings.isValidJSON(source);\n    },\n\n    isValidMoc(modelData: ArrayBuffer): boolean {\n        if (modelData.byteLength < 4) {\n            return false;\n        }\n\n        const view = new Int8Array(modelData, 0, 4);\n\n        return String.fromCharCode(...view) === 'MOC3';\n    },\n\n    createModelSettings(json: object): Cubism4ModelSettings {\n        return new Cubism4ModelSettings(json as CubismSpec.ModelJSON & { url: string });\n    },\n\n    createCoreModel(data: ArrayBuffer): CubismModel {\n        const moc = CubismMoc.create(data);\n\n        try {\n            const model = moc.createModel();\n\n            // store the moc instance so we can reference it later\n            (model as any).__moc = moc;\n\n            return model;\n        } catch (e) {\n            try {\n                moc.release();\n            } catch (ignored) {\n            }\n\n            throw e;\n        }\n    },\n\n    createInternalModel(coreModel: CubismModel, settings: Cubism4ModelSettings, options?: Live2DFactoryOptions): Cubism4InternalModel {\n        const model = new Cubism4InternalModel(coreModel, settings, options);\n\n        const coreModelWithMoc = coreModel as { __moc?: CubismMoc };\n\n        if (coreModelWithMoc.__moc) {\n            // transfer the moc to InternalModel, because the coreModel will\n            // probably have been set to undefined when we receive the \"destroy\" event\n            (model as any).__moc = coreModelWithMoc.__moc;\n\n            delete coreModelWithMoc.__moc;\n\n            // release the moc when destroying\n            model.once('destroy', releaseMoc);\n        }\n\n        return model;\n    },\n\n    createPhysics(coreModel: CubismModel, data: any): CubismPhysics {\n        return CubismPhysics.create(data);\n    },\n\n    createPose(coreModel: CubismModel, data: any): CubismPose {\n        return CubismPose.create(data);\n    },\n});\n\nfunction releaseMoc(this: Cubism4InternalModel) {\n    ((this as any).__moc as CubismMoc | undefined)?.release();\n}\n","import './check-runtime';\n\nexport * from './Cubism4ExpressionManager';\nexport * from './Cubism4ModelSettings';\nexport * from './Cubism4MotionManager';\nexport * from './Cubism4InternalModel';\nexport * from './factory';\nexport * from './setup';\n","import { config } from '@/config';\n\nexport class Live2DExpression extends AMotion {\n    readonly params: NonNullable<Cubism2Spec.ExpressionJSON['params']> = [];\n\n    constructor(json: Cubism2Spec.ExpressionJSON) {\n        super();\n\n        this.setFadeIn(json.fade_in! > 0 ? json.fade_in! : config.expressionFadingDuration);\n        this.setFadeOut(json.fade_out! > 0 ? json.fade_out! : config.expressionFadingDuration);\n\n        if (Array.isArray(json.params)) {\n            json.params.forEach(param => {\n                const calc = param.calc || 'add';\n\n                if (calc === 'add') {\n                    const defaultValue = param.def || 0;\n                    param.val -= defaultValue;\n                } else if (calc === 'mult') {\n                    const defaultValue = param.def || 1;\n                    param.val /= defaultValue;\n                }\n\n                this.params.push({\n                    calc,\n                    val: param.val,\n                    id: param.id,\n                });\n            });\n        }\n    }\n\n    /** @override */\n    updateParamExe(model: Live2DModelWebGL, time: DOMTimeStamp, weight: number, motionQueueEnt: unknown) {\n        this.params.forEach(param => {\n            // this algorithm seems to be broken for newer Neptunia series models, have no idea\n            //\n            // switch (param.type) {\n            //     case ParamCalcType.Set:\n            //         model.setParamFloat(param.id, param.value, weight);\n            //         break;\n            //     case ParamCalcType.Add:\n            //         model.addToParamFloat(param.id, param.value * weight);\n            //         break;\n            //     case ParamCalcType.Mult:\n            //         model.multParamFloat(param.id, param.value, weight);\n            //         break;\n            // }\n\n            // this works fine for any model\n            model.setParamFloat(param.id, param.val * weight);\n        });\n    }\n}\n","import { MotionManagerOptions } from '@/cubism-common';\nimport { ExpressionManager } from '@/cubism-common/ExpressionManager';\nimport { Cubism2ModelSettings } from '@/cubism2/Cubism2ModelSettings';\nimport { Live2DExpression } from './Live2DExpression';\n\nexport class Cubism2ExpressionManager extends ExpressionManager<Live2DExpression> {\n    readonly queueManager = new MotionQueueManager();\n\n    readonly definitions: Cubism2Spec.Expression[];\n\n    readonly settings!: Cubism2ModelSettings;\n\n    constructor(settings: Cubism2ModelSettings, options?: MotionManagerOptions) {\n        super(settings, options);\n\n        this.definitions = this.settings.expressions ?? [];\n\n        this.init();\n    }\n\n    isFinished(): boolean {\n        return this.queueManager.isFinished();\n    }\n\n    getExpressionIndex(name: string): number {\n        return this.definitions.findIndex(def => def.name === name);\n    }\n\n    getExpressionFile(definition: Cubism2Spec.Expression): string {\n        return definition.file;\n    }\n\n    createExpression(data: object, definition: Cubism2Spec.Expression | undefined): Live2DExpression {\n        return new Live2DExpression(data);\n    }\n\n    protected _setExpression(motion: Live2DExpression): number {\n        return this.queueManager.startMotion(motion);\n    }\n\n    protected stopAllExpressions(): void {\n        this.queueManager.stopAllMotions();\n    }\n\n    protected updateParameters(model: Live2DModelWebGL, dt: number): boolean {\n        return this.queueManager.updateParam(model);\n    }\n}\n","import { MotionManager, MotionManagerOptions } from '@/cubism-common/MotionManager';\nimport { Cubism2ExpressionManager } from '@/cubism2/Cubism2ExpressionManager';\nimport { Cubism2ModelSettings } from '@/cubism2/Cubism2ModelSettings';\nimport './patch-motion';\nimport { config } from '@/config';\n\nexport class Cubism2MotionManager extends MotionManager<Live2DMotion, Cubism2Spec.Motion> {\n    readonly definitions: Partial<Record<string, Cubism2Spec.Motion[]>>;\n\n    readonly groups = { idle: 'idle' } as const;\n\n    readonly motionDataType = 'arraybuffer';\n\n    readonly queueManager = new MotionQueueManager();\n\n    readonly settings!: Cubism2ModelSettings;\n\n    expressionManager?: Cubism2ExpressionManager;\n\n    constructor(settings: Cubism2ModelSettings, options?: MotionManagerOptions) {\n        super(settings, options);\n\n        this.definitions = this.settings.motions;\n\n        this.init(options);\n    }\n\n    protected init(options?: MotionManagerOptions) {\n        super.init(options);\n\n        if (this.settings.expressions) {\n            this.expressionManager = new Cubism2ExpressionManager(this.settings, options);\n        }\n    }\n\n    isFinished(): boolean {\n        return this.queueManager.isFinished();\n    }\n\n    createMotion(data: ArrayBuffer, group: string, definition: Cubism2Spec.Motion): Live2DMotion {\n        const motion = Live2DMotion.loadMotion(data);\n\n        const defaultFadingDuration =\n            group === this.groups.idle\n                ? config.idleMotionFadingDuration\n                : config.motionFadingDuration;\n\n        motion.setFadeIn(definition.fade_in! > 0 ? definition.fade_in! : defaultFadingDuration);\n        motion.setFadeOut(definition.fade_out! > 0 ? definition.fade_out! : defaultFadingDuration);\n\n        return motion;\n    }\n\n    getMotionFile(definition: Cubism2Spec.Motion): string {\n        return definition.file;\n    }\n\n    protected getMotionName(definition: Cubism2Spec.Motion): string {\n        return definition.file;\n    }\n\n    protected getSoundFile(definition: Cubism2Spec.Motion): string | undefined {\n        return definition.sound;\n    }\n\n    protected _startMotion(motion: Live2DMotion, onFinish?: (motion: Live2DMotion) => void): number {\n        motion.onFinishHandler = onFinish;\n\n        this.queueManager.stopAllMotions();\n\n        return this.queueManager.startMotion(motion);\n    }\n\n    protected _stopAllMotions(): void {\n        this.queueManager.stopAllMotions();\n    }\n\n    protected updateParameters(model: Live2DModelWebGL, now: DOMHighResTimeStamp): boolean {\n        return this.queueManager.updateParam(model);\n    }\n\n    destroy() {\n        super.destroy();\n\n        (this as Partial<Mutable<this>>).queueManager = undefined;\n    }\n}\n","import { clamp, rand } from '@/utils';\n\nconst enum EyeState {\n    Idle,\n    Closing,\n    Closed,\n    Opening,\n}\n\nexport class Live2DEyeBlink {\n    leftParam: number;\n    rightParam: number;\n\n    blinkInterval: DOMHighResTimeStamp = 4000;\n    closingDuration: DOMHighResTimeStamp = 100;\n    closedDuration: DOMHighResTimeStamp = 50;\n    openingDuration: DOMHighResTimeStamp = 150;\n\n    eyeState = EyeState.Idle;\n    eyeParamValue = 1;\n    closedTimer = 0;\n    nextBlinkTimeLeft = this.blinkInterval;\n\n    constructor(readonly coreModel: Live2DModelWebGL) {\n        this.leftParam = coreModel.getParamIndex('PARAM_EYE_L_OPEN');\n        this.rightParam = coreModel.getParamIndex('PARAM_EYE_R_OPEN');\n    }\n\n    setEyeParams(value: number) {\n        this.eyeParamValue = clamp(value, 0, 1);\n        this.coreModel.setParamFloat(this.leftParam, this.eyeParamValue);\n        this.coreModel.setParamFloat(this.rightParam, this.eyeParamValue);\n    }\n\n    update(dt: DOMHighResTimeStamp) {\n        switch (this.eyeState) {\n            case EyeState.Idle:\n                this.nextBlinkTimeLeft -= dt;\n\n                if (this.nextBlinkTimeLeft < 0) {\n                    this.eyeState = EyeState.Closing;\n                    this.nextBlinkTimeLeft =\n                        this.blinkInterval +\n                        this.closingDuration +\n                        this.closedDuration +\n                        this.openingDuration +\n                        rand(0, 2000);\n                }\n                break;\n\n            case EyeState.Closing:\n                this.setEyeParams(this.eyeParamValue + dt / this.closingDuration);\n\n                if (this.eyeParamValue <= 0) {\n                    this.eyeState = EyeState.Closed;\n                    this.closedTimer = 0;\n                }\n                break;\n\n            case EyeState.Closed:\n                this.closedTimer += dt;\n\n                if (this.closedTimer >= this.closedDuration) {\n                    this.eyeState = EyeState.Opening;\n                }\n                break;\n\n            case EyeState.Opening:\n                this.setEyeParams(this.eyeParamValue + dt / this.openingDuration);\n\n                if (this.eyeParamValue >= 1) {\n                    this.eyeState = EyeState.Idle;\n                }\n        }\n    }\n}\n","import { InternalModelOptions } from '@/cubism-common';\nimport { CommonHitArea, CommonLayout, InternalModel } from '@/cubism-common/InternalModel';\nimport { Cubism2ModelSettings } from './Cubism2ModelSettings';\nimport { Cubism2MotionManager } from './Cubism2MotionManager';\nimport { Live2DEyeBlink } from './Live2DEyeBlink';\nimport { Live2DPhysics } from './Live2DPhysics';\nimport { Live2DPose } from './Live2DPose';\n\n// prettier-ignore\nconst tempMatrixArray = new Float32Array([\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    0, 0, 0, 1,\n]);\n\nexport class Cubism2InternalModel extends InternalModel {\n    settings: Cubism2ModelSettings;\n\n    coreModel: Live2DModelWebGL;\n    motionManager: Cubism2MotionManager;\n\n    eyeBlink?: Live2DEyeBlink;\n    physics?: Live2DPhysics;\n    pose?: Live2DPose;\n\n    // parameter indices, cached for better performance\n    eyeballXParamIndex: number;\n    eyeballYParamIndex: number;\n    angleXParamIndex: number;\n    angleYParamIndex: number;\n    angleZParamIndex: number;\n    bodyAngleXParamIndex: number;\n    breathParamIndex: number;\n\n    textureFlipY = true;\n\n    /**\n     * Number of the drawables in this model.\n     */\n    drawDataCount = 0;\n\n    /**\n     * If true, the face culling will always be disabled when drawing the model,\n     * regardless of the model's internal flags.\n     */\n    disableCulling = false;\n\n    constructor(coreModel: Live2DModelWebGL, settings: Cubism2ModelSettings, options?: InternalModelOptions) {\n        super();\n\n        this.coreModel = coreModel;\n        this.settings = settings;\n        this.motionManager = new Cubism2MotionManager(settings, options);\n        this.eyeBlink = new Live2DEyeBlink(coreModel);\n\n        this.eyeballXParamIndex = coreModel.getParamIndex('PARAM_EYE_BALL_X');\n        this.eyeballYParamIndex = coreModel.getParamIndex('PARAM_EYE_BALL_Y');\n        this.angleXParamIndex = coreModel.getParamIndex('PARAM_ANGLE_X');\n        this.angleYParamIndex = coreModel.getParamIndex('PARAM_ANGLE_Y');\n        this.angleZParamIndex = coreModel.getParamIndex('PARAM_ANGLE_Z');\n        this.bodyAngleXParamIndex = coreModel.getParamIndex('PARAM_BODY_ANGLE_X');\n        this.breathParamIndex = coreModel.getParamIndex('PARAM_BREATH');\n\n        this.init();\n    }\n\n    protected init() {\n        super.init();\n\n        if (this.settings.initParams) {\n            this.settings.initParams.forEach(({ id, value }) => this.coreModel.setParamFloat(id, value));\n        }\n        if (this.settings.initOpacities) {\n            this.settings.initOpacities.forEach(({ id, value }) => this.coreModel.setPartsOpacity(id, value));\n        }\n\n        this.coreModel.saveParam();\n\n        const arr: any = this.coreModel.getModelContext()._$aS;\n\n        if (arr?.length) {\n            this.drawDataCount = arr.length;\n        }\n\n        let culling = this.coreModel.drawParamWebGL.culling;\n\n        Object.defineProperty(this.coreModel.drawParamWebGL, 'culling', {\n            set: (v: boolean) => culling = v,\n\n            // always return false when disabled\n            get: () => this.disableCulling ? false : culling,\n        });\n\n        const clipManager = this.coreModel.getModelContext().clipManager;\n        const originalSetupClip = clipManager.setupClip;\n\n        // after setupClip(), the GL viewport will be set to [0, 0, canvas.width, canvas.height],\n        // so we have to set it back\n        clipManager.setupClip = (modelContext, drawParam) => {\n            originalSetupClip.call(clipManager, modelContext, drawParam);\n\n            drawParam.gl.viewport(...this.viewport);\n        };\n    }\n\n    protected getSize(): [number, number] {\n        return [this.coreModel.getCanvasWidth(), this.coreModel.getCanvasHeight()];\n    }\n\n    protected getLayout(): CommonLayout {\n        const layout = this.settings.layout || {};\n\n        return {\n            ...layout,\n            centerX: layout.center_x,\n            centerY: layout.center_y,\n        };\n    }\n\n    updateWebGLContext(gl: WebGLRenderingContext, glContextID: number): void {\n        const drawParamWebGL = this.coreModel.drawParamWebGL;\n\n        drawParamWebGL.firstDraw = true;\n        drawParamWebGL.setGL(gl);\n        drawParamWebGL.glno = glContextID;\n\n        // reset WebGL buffers\n        for (const prop in drawParamWebGL) {\n            if (drawParamWebGL.hasOwnProperty(prop) && (drawParamWebGL as any)[prop] instanceof WebGLBuffer) {\n                (drawParamWebGL as any)[prop] = null;\n            }\n        }\n\n        const clipManager = this.coreModel.getModelContext().clipManager;\n        clipManager.curFrameNo = glContextID;\n\n        const framebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n\n        // force Live2D to re-create the framebuffer\n        clipManager.getMaskRenderTexture();\n\n        gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    }\n\n    bindTexture(index: number, texture: WebGLTexture): void {\n        this.coreModel.setTexture(index, texture);\n    }\n\n    protected getHitAreaDefs(): CommonHitArea[] {\n        return this.settings.hitAreas?.map(hitArea => ({\n            id: hitArea.id,\n            name: hitArea.name,\n            index: this.coreModel.getDrawDataIndex(hitArea.id),\n        })) || [];\n    }\n\n    getDrawableIDs(): string[] {\n        const modelContext = this.coreModel.getModelContext();\n        const ids = [];\n\n        for (let i = 0; i < this.drawDataCount; i++) {\n            const drawData = modelContext.getDrawData(i);\n\n            if (drawData) {\n                ids.push(drawData.getDrawDataID().id);\n            }\n        }\n\n        return ids;\n    }\n\n    getDrawableIndex(id: string): number {\n        return this.coreModel.getDrawDataIndex(id);\n    }\n\n    getDrawableVertices(drawIndex: number | string): Float32Array {\n        if (typeof drawIndex === 'string') {\n            drawIndex = this.coreModel.getDrawDataIndex(drawIndex);\n\n            if (drawIndex === -1) throw new TypeError('Unable to find drawable ID: ' + drawIndex);\n        }\n\n        return this.coreModel.getTransformedPoints(drawIndex).slice();\n    }\n\n    update(dt: DOMHighResTimeStamp, now: DOMHighResTimeStamp): void {\n        super.update(dt, now);\n\n        const model = this.coreModel;\n\n        this.emit('beforeMotionUpdate');\n\n        const motionUpdated = this.motionManager.update(this.coreModel, now);\n\n        this.emit('afterMotionUpdate');\n\n        model.saveParam();\n\n        if (!motionUpdated) {\n            this.eyeBlink?.update(dt);\n        }\n\n        this.updateFocus();\n        this.updateNaturalMovements(dt, now);\n\n        this.physics?.update(now);\n        this.pose?.update(dt);\n\n        this.emit('beforeModelUpdate');\n\n        model.update();\n        model.loadParam();\n    }\n\n    updateFocus() {\n        this.coreModel.addToParamFloat(this.eyeballXParamIndex, this.focusController.x);\n        this.coreModel.addToParamFloat(this.eyeballYParamIndex, this.focusController.y);\n        this.coreModel.addToParamFloat(this.angleXParamIndex, this.focusController.x * 30);\n        this.coreModel.addToParamFloat(this.angleYParamIndex, this.focusController.y * 30);\n        this.coreModel.addToParamFloat(this.angleZParamIndex, this.focusController.x * this.focusController.y * -30);\n        this.coreModel.addToParamFloat(this.bodyAngleXParamIndex, this.focusController.x * 10);\n    }\n\n    updateNaturalMovements(dt: DOMHighResTimeStamp, now: DOMHighResTimeStamp) {\n        const t = (now / 1000) * 2 * Math.PI;\n\n        this.coreModel.addToParamFloat(this.angleXParamIndex, 15 * Math.sin(t / 6.5345) * 0.5);\n        this.coreModel.addToParamFloat(this.angleYParamIndex, 8 * Math.sin(t / 3.5345) * 0.5);\n        this.coreModel.addToParamFloat(this.angleZParamIndex, 10 * Math.sin(t / 5.5345) * 0.5);\n        this.coreModel.addToParamFloat(this.bodyAngleXParamIndex, 4 * Math.sin(t / 15.5345) * 0.5);\n\n        this.coreModel.setParamFloat(this.breathParamIndex, 0.5 + 0.5 * Math.sin(t / 3.2345));\n    }\n\n    draw(gl: WebGLRenderingContext): void {\n        const disableCulling = this.disableCulling;\n\n        // culling must be disabled to get this cubism2 model drawn properly on a framebuffer\n        if (gl.getParameter(gl.FRAMEBUFFER_BINDING)) {\n            this.disableCulling = true;\n        }\n\n        const matrix = this.drawingMatrix;\n\n        // set given 3x3 matrix into a 4x4 matrix\n        tempMatrixArray[0] = matrix.a;\n        tempMatrixArray[1] = matrix.b;\n        tempMatrixArray[4] = matrix.c;\n        tempMatrixArray[5] = matrix.d;\n        tempMatrixArray[12] = matrix.tx;\n        tempMatrixArray[13] = matrix.ty;\n\n        this.coreModel.setMatrix(tempMatrixArray);\n        this.coreModel.draw();\n\n        this.disableCulling = disableCulling;\n    }\n\n    destroy() {\n        super.destroy();\n\n        // cubism2 core has a super dumb memory management so there's basically nothing much to do to release the model\n        (this as Partial<this>).coreModel = undefined;\n    }\n}\n","import { ModelSettings } from '@/cubism-common/ModelSettings';\nimport { copyArray, copyProperty } from '../utils';\n\nexport class Cubism2ModelSettings extends ModelSettings {\n    json!: Cubism2Spec.ModelJSON;\n\n    // files\n    moc: string;\n    textures!: string[];\n    pose?: string;\n    physics?: string;\n\n    // metadata\n    layout?: Cubism2Spec.Layout;\n    hitAreas?: Cubism2Spec.HitArea[];\n    initParams?: Cubism2Spec.InitParam[];\n    initOpacities?: Cubism2Spec.InitOpacity[];\n\n    // motions\n    expressions?: Cubism2Spec.Expression[];\n    motions: Record<string, Cubism2Spec.Motion[]> = {};\n\n    /**\n     * Checks if a JSON object is valid model settings.\n     * @param json\n     */\n    static isValidJSON(json: any): json is Cubism2Spec.ModelJSON {\n        // should always return a boolean\n        return !!json\n            && typeof json.model === 'string'\n            && json.textures?.length > 0\n\n            // textures must be an array of strings\n            && json.textures.every((item: any) => typeof item === 'string');\n    }\n\n    constructor(json: Cubism2Spec.ModelJSON & { url: string }) {\n        super(json);\n\n        if (!Cubism2ModelSettings.isValidJSON(json)) {\n            throw new TypeError('Invalid JSON.');\n        }\n\n        this.moc = json.model;\n\n        // copy textures array\n        copyArray('string', json, this, 'textures', 'textures');\n\n        this.copy(json);\n    }\n\n    /**\n     * Validates and copies *optional* properties from raw JSON.\n     */\n    protected copy(json: Cubism2Spec.ModelJSON): void {\n        copyProperty('string', json, this, 'name', 'name');\n        copyProperty('string', json, this, 'pose', 'pose');\n        copyProperty('string', json, this, 'physics', 'physics');\n\n        copyProperty('object', json, this, 'layout', 'layout');\n        copyProperty('object', json, this, 'motions', 'motions');\n\n        copyArray('object', json, this, 'hit_areas', 'hitAreas');\n        copyArray('object', json, this, 'expressions', 'expressions');\n        copyArray('object', json, this, 'init_params', 'initParams');\n        copyArray('object', json, this, 'init_opacities', 'initOpacities');\n    }\n\n    replaceFiles(replace: (file: string, path: string) => string) {\n        super.replaceFiles(replace);\n\n        for (const [group, motions] of Object.entries(this.motions)) {\n            for (let i = 0; i < motions.length; i++) {\n                motions[i]!.file = replace(motions[i]!.file, `motions.${group}[${i}].file`);\n\n                if (motions[i]!.sound !== undefined) {\n                    motions[i]!.sound = replace(motions[i]!.sound!, `motions.${group}[${i}].sound`);\n                }\n            }\n        }\n\n        if (this.expressions) {\n            for (let i = 0; i < this.expressions.length; i++) {\n                this.expressions[i]!.file = replace(this.expressions[i]!.file, `expressions[${i}].file`);\n            }\n        }\n    }\n}\n","const SRC_TYPE_MAP = {\n    x: PhysicsHair.Src.SRC_TO_X,\n    y: PhysicsHair.Src.SRC_TO_Y,\n    angle: PhysicsHair.Src.SRC_TO_G_ANGLE,\n};\n\nconst TARGET_TYPE_MAP = {\n    x: PhysicsHair.Src.SRC_TO_X,\n    y: PhysicsHair.Src.SRC_TO_Y,\n    angle: PhysicsHair.Src.SRC_TO_G_ANGLE,\n};\n\nexport class Live2DPhysics {\n    physicsHairs: PhysicsHair[] = [];\n\n    constructor(readonly coreModel: Live2DModelWebGL, json: Cubism2Spec.PhysicsJSON) {\n        if (json.physics_hair) {\n            this.physicsHairs = json.physics_hair.map(definition => {\n                const physicsHair = new PhysicsHair();\n\n                physicsHair.setup(definition.setup.length, definition.setup.regist, definition.setup.mass);\n\n                definition.src.forEach(({ id, ptype, scale, weight }) => {\n                    const type = SRC_TYPE_MAP[ptype];\n\n                    if (type) {\n                        physicsHair.addSrcParam(type, id, scale, weight);\n                    }\n                });\n\n                definition.targets.forEach(({ id, ptype, scale, weight }) => {\n                    const type = TARGET_TYPE_MAP[ptype];\n\n                    if (type) {\n                        physicsHair.addTargetParam(type, id, scale, weight);\n                    }\n                });\n\n                return physicsHair;\n            });\n        }\n    }\n\n    update(elapsed: DOMHighResTimeStamp) {\n        this.physicsHairs.forEach(physicsHair => physicsHair.update(this.coreModel, elapsed));\n    }\n}\n","import { clamp } from '@/utils';\n\nclass Live2DPartsParam {\n    paramIndex = -1;\n    partsIndex = -1;\n    link: Live2DPartsParam[] = [];\n\n    constructor(readonly id: string) {}\n\n    initIndex(model: Live2DModelWebGL) {\n        this.paramIndex = model.getParamIndex('VISIBLE:' + this.id);\n        this.partsIndex = model.getPartsDataIndex(PartsDataID.getID(this.id));\n        model.setParamFloat(this.paramIndex, 1);\n    }\n}\n\nexport class Live2DPose {\n    opacityAnimDuration: DOMHighResTimeStamp = 500;\n\n    partsGroups: Live2DPartsParam[][] = [];\n\n    constructor(readonly coreModel: Live2DModelWebGL, json: Cubism2Spec.PoseJSON) {\n        if (json.parts_visible) {\n            this.partsGroups = json.parts_visible.map(({ group }) =>\n                group.map(({ id, link }) => {\n                    const parts = new Live2DPartsParam(id);\n\n                    if (link) {\n                        parts.link = link.map(l => new Live2DPartsParam(l));\n                    }\n\n                    return parts;\n                }),\n            );\n\n            this.init();\n        }\n    }\n\n    init() {\n        this.partsGroups.forEach(group => {\n            group.forEach(parts => {\n                parts.initIndex(this.coreModel);\n\n                if (parts.paramIndex >= 0) {\n                    const visible = this.coreModel.getParamFloat(parts.paramIndex) !== 0;\n                    this.coreModel.setPartsOpacity(parts.partsIndex, visible ? 1 : 0);\n                    this.coreModel.setParamFloat(parts.paramIndex, visible ? 1 : 0);\n\n                    if (parts.link.length > 0) {\n                        parts.link.forEach(p => p.initIndex(this.coreModel));\n                    }\n                }\n            });\n        });\n    }\n\n    normalizePartsOpacityGroup(partsGroup: Live2DPartsParam[], dt: DOMHighResTimeStamp) {\n        const model = this.coreModel;\n        const phi = 0.5;\n        const maxBackOpacity = 0.15;\n        let visibleOpacity = 1;\n\n        let visibleIndex = partsGroup.findIndex(\n            ({ paramIndex, partsIndex }) => partsIndex >= 0 && model.getParamFloat(paramIndex) !== 0,\n        );\n\n        if (visibleIndex >= 0) {\n            const originalOpacity = model.getPartsOpacity(partsGroup[visibleIndex]!.partsIndex);\n\n            visibleOpacity = clamp(originalOpacity + dt / this.opacityAnimDuration, 0, 1);\n        } else {\n            visibleIndex = 0;\n            visibleOpacity = 1;\n        }\n\n        partsGroup.forEach(({ partsIndex }, index) => {\n            if (partsIndex >= 0) {\n                if (visibleIndex == index) {\n                    model.setPartsOpacity(partsIndex, visibleOpacity);\n                } else {\n                    let opacity = model.getPartsOpacity(partsIndex);\n\n                    // I can't understand this part, so just leave it original\n                    let a1;\n                    if (visibleOpacity < phi) {\n                        a1 = (visibleOpacity * (phi - 1)) / phi + 1;\n                    } else {\n                        a1 = ((1 - visibleOpacity) * phi) / (1 - phi);\n                    }\n                    let backOp = (1 - a1) * (1 - visibleOpacity);\n                    if (backOp > maxBackOpacity) {\n                        a1 = 1 - maxBackOpacity / (1 - visibleOpacity);\n                    }\n                    if (opacity > a1) {\n                        opacity = a1;\n                    }\n\n                    model.setPartsOpacity(partsIndex, opacity);\n                }\n            }\n        });\n    }\n\n    copyOpacity(partsGroup: Live2DPartsParam[]) {\n        const model = this.coreModel;\n\n        partsGroup.forEach(({ partsIndex, link }) => {\n            if (partsIndex >= 0 && link) {\n                const opacity = model.getPartsOpacity(partsIndex);\n\n                link.forEach(({ partsIndex }) => {\n                    if (partsIndex >= 0) {\n                        model.setPartsOpacity(partsIndex, opacity);\n                    }\n                });\n            }\n        });\n    }\n\n    update(dt: DOMHighResTimeStamp) {\n        this.partsGroups.forEach(partGroup => {\n            this.normalizePartsOpacityGroup(partGroup, dt);\n            this.copyOpacity(partGroup);\n        });\n    }\n}\n","import { Cubism2InternalModel } from '@/cubism2/Cubism2InternalModel';\nimport { Cubism2ModelSettings } from '@/cubism2/Cubism2ModelSettings';\nimport { Live2DPhysics } from '@/cubism2/Live2DPhysics';\nimport { Live2DPose } from '@/cubism2/Live2DPose';\nimport { Live2DFactory, Live2DFactoryOptions } from '@/factory/Live2DFactory';\n\nLive2DFactory.registerRuntime({\n    version: 2,\n\n    test(source: any): boolean {\n        return source instanceof Cubism2ModelSettings || Cubism2ModelSettings.isValidJSON(source);\n    },\n\n    ready(): Promise<void> {\n        return Promise.resolve();\n    },\n\n    isValidMoc(modelData: ArrayBuffer): boolean {\n        if (modelData.byteLength < 3) {\n            return false;\n        }\n\n        const view = new Int8Array(modelData, 0, 3);\n\n        return String.fromCharCode(...view) === 'moc';\n    },\n\n    createModelSettings(json: object): Cubism2ModelSettings {\n        return new Cubism2ModelSettings(json as Cubism2Spec.ModelJSON & { url: string });\n    },\n\n    createCoreModel(data: ArrayBuffer): Live2DModelWebGL {\n        const model = Live2DModelWebGL.loadModel(data);\n\n        const error = Live2D.getError();\n        if (error) throw error;\n\n        return model;\n    },\n\n    createInternalModel(coreModel: Live2DModelWebGL, settings: Cubism2ModelSettings, options?: Live2DFactoryOptions): Cubism2InternalModel {\n        return new Cubism2InternalModel(coreModel, settings, options);\n    },\n\n    createPose(coreModel: Live2DModelWebGL, data: any): Live2DPose {\n        return new Live2DPose(coreModel, data);\n    },\n\n    createPhysics(coreModel: Live2DModelWebGL, data: any): Live2DPhysics {\n        return new Live2DPhysics(coreModel, data);\n    },\n});\n","import './check-runtime';\nimport './patch-motion';\n\nexport * from './Cubism2ExpressionManager';\nexport * from './Cubism2InternalModel';\nexport * from './Cubism2ModelSettings';\nexport * from './Cubism2MotionManager';\nexport * from './Live2DExpression';\nexport * from './Live2DEyeBlink';\nexport * from './Live2DPhysics';\nexport * from './Live2DPose';\nexport * from './factory';\n\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * The opposite of `_.mapValues`; this method creates an object with the\n * same values as `object` and keys generated by running each own enumerable\n * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n * with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapValues\n * @example\n *\n * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n *   return key + value;\n * });\n * // => { 'a1': 1, 'b2': 2 }\n */\nfunction mapKeys(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, iteratee(value, key, object), value);\n  });\n  return result;\n}\n\nmodule.exports = mapKeys;\n","if (!(window as any).Live2D) {\n    throw new Error('Cannot find Cubism 2 runtime. Did you forget to include the live2d.min.js?');\n}\n","if (!(window as any).Live2DCubismCore) {\n    throw new Error('Cannot find Cubism 4 runtime. Did you forget to include the live2dcubismcore.min.js?');\n}\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","export * from './common';\nexport * from './cubism2';\nexport * from './cubism4';\n"],"sourceRoot":""}